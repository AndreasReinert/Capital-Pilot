<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#080c14">
    <title>Capital Pilot ‚Äî Withdrawal Simulation</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
:root {
    --bg-deep: #080c14;
    --bg-panel: rgba(14, 20, 34, 0.85);
    --border-subtle: rgba(255,255,255,0.06);
    --border-hover: rgba(56,189,248,0.3);
    --sky: #38bdf8;
    --emerald: #34d399;
    --amber: #fbbf24;
    --rose: #fb7185;
    --violet: #a78bfa;
    --text-primary: #f1f5f9;
    --text-secondary: #94a3b8;
    --text-muted: #475569;
    --range-track: #1e293b;
}
:root.light-mode {
    --bg-deep: #f0f4f8;
    --bg-panel: rgba(255,255,255,0.92);
    --border-subtle: rgba(0,0,0,0.09);
    --border-hover: rgba(56,189,248,0.45);
    --sky: #0284c7;
    --emerald: #059669;
    --amber: #d97706;
    --rose: #e11d48;
    --violet: #7c3aed;
    --text-primary: #0f172a;
    --text-secondary: #334155;
    --text-muted: #94a3b8;
    --range-track: #cbd5e1;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'DM Sans',sans-serif;background:var(--bg-deep);color:var(--text-primary);min-height:100vh;overflow-x:hidden;-webkit-tap-highlight-color:transparent;transition:background 0.3s,color 0.3s;}
body::before{content:'';position:fixed;inset:0;background-image:linear-gradient(rgba(56,189,248,0.012) 1px,transparent 1px),linear-gradient(90deg,rgba(56,189,248,0.012) 1px,transparent 1px);background-size:60px 60px;pointer-events:none;z-index:0;}
:root.light-mode body::before{display:none;}

.app{position:relative;z-index:1;padding:1rem;max-width:1440px;margin:0 auto;}
@media(min-width:768px){.app{padding:1.5rem;}}

/* Header */
.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;flex-wrap:wrap;gap:0.75rem;}
.header-left{text-align:left;}
.header-alloc{flex:1;min-width:200px;max-width:500px;padding:0 1rem;}
@media(max-width:767px){.header-alloc{flex-basis:100%;order:3;padding:0;max-width:100%;}}
.header h1{font-family:'JetBrains Mono',monospace;font-size:clamp(1.2rem,3.5vw,2.4rem);font-weight:700;letter-spacing:-0.02em;background:linear-gradient(135deg,#e2e8f0 0%,var(--sky) 50%,var(--violet) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;line-height:1.2;}
.header p{color:var(--text-muted);font-size:clamp(0.6rem,1.5vw,0.8rem);margin-top:0.15rem;letter-spacing:0.12em;text-transform:uppercase;}

/* Language Picker */
.lang-picker{position:relative;}
.lang-btn{display:flex;align-items:center;gap:0.4rem;background:var(--bg-panel);border:1px solid var(--border-subtle);border-radius:10px;padding:0.5rem 0.75rem;color:var(--text-secondary);cursor:pointer;font-family:'JetBrains Mono',monospace;font-size:0.75rem;transition:all 0.2s;white-space:nowrap;}
.lang-btn:hover{border-color:var(--sky);color:var(--sky);}
.lang-btn svg{width:16px;height:16px;stroke:currentColor;fill:none;stroke-width:1.5;}
.lang-dropdown{display:none;position:absolute;top:calc(100% + 6px);right:0;background:rgba(14,20,34,0.98);border:1px solid var(--border-subtle);border-radius:12px;padding:0.5rem;z-index:100;max-height:320px;overflow-y:auto;min-width:160px;backdrop-filter:blur(20px);box-shadow:0 20px 60px rgba(0,0,0,0.6);}
:root.light-mode .lang-dropdown{background:rgba(255,255,255,0.98);box-shadow:0 20px 60px rgba(0,0,0,0.15);}
.lang-dropdown.open{display:grid;grid-template-columns:1fr 1fr;gap:2px;}
.lang-opt{padding:0.45rem 0.6rem;border-radius:6px;cursor:pointer;font-size:0.72rem;font-family:'JetBrains Mono',monospace;color:var(--text-secondary);transition:all 0.15s;white-space:nowrap;}
.lang-opt:hover{background:rgba(56,189,248,0.1);color:var(--sky);}
:root.light-mode .lang-opt:hover{background:rgba(2,132,199,0.1);}
.lang-opt.active{background:rgba(56,189,248,0.15);color:var(--sky);font-weight:600;}
:root.light-mode .lang-opt.active{background:rgba(2,132,199,0.12);}

/* Panels */
.panel{background:var(--bg-panel);border:1px solid var(--border-subtle);border-radius:14px;padding:1.25rem;backdrop-filter:blur(20px);transition:border-color 0.3s;}
@media(min-width:768px){.panel{border-radius:16px;padding:1.5rem;}}
.panel:hover{border-color:var(--border-hover);}
.panel-title{font-family:'JetBrains Mono',monospace;font-size:0.65rem;text-transform:uppercase;letter-spacing:0.18em;color:var(--text-muted);margin-bottom:1rem;padding-bottom:0.6rem;border-bottom:1px solid var(--border-subtle);}

/* Layout */
.layout{display:flex;flex-direction:column;gap:1rem;}
@media(min-width:1200px){
    .layout{display:grid;grid-template-columns:1fr 1fr 2fr;grid-template-rows:auto 1fr auto;gap:1rem;align-items:start;}
    .kpi-area{grid-column:1 / 3;grid-row:1;}
    .col-left{grid-column:1;grid-row:2;}
    .col-mid{grid-column:2;grid-row:2;}
    .col-main{grid-column:3;grid-row:1 / 4;align-self:stretch;}
}
@media(min-width:1024px) and (max-width:1199px){.layout{display:grid;grid-template-columns:1fr 1fr;gap:1rem;}}
.col-left,.col-mid{display:flex;flex-direction:column;gap:0.75rem;}
@media(min-width:768px){.col-left,.col-mid{gap:1rem;}}
.col-main{display:flex;flex-direction:column;gap:0.75rem;}
@media(min-width:768px){.col-main{gap:1rem;}}
@media(min-width:1024px) and (max-width:1199px){.col-main{grid-column:1 / -1;}}

/* Tooltip on param labels */
.param-label{font-size:0.75rem;color:var(--text-secondary);font-weight:500;position:relative;cursor:help;}
.param-label[data-tip]::after{content:' ‚ìò';font-size:0.6rem;color:var(--text-muted);vertical-align:super;}
.param-tip{display:none;position:absolute;left:0;bottom:calc(100% + 6px);background:rgba(8,12,20,0.97);border:1px solid var(--border-subtle);border-radius:8px;padding:0.5rem 0.65rem;font-size:0.62rem;color:var(--text-secondary);line-height:1.5;width:max(200px,100%);max-width:280px;z-index:50;pointer-events:none;box-shadow:0 8px 30px rgba(0,0,0,0.5);font-weight:400;white-space:normal;}
.param-label:hover .param-tip{display:block;}
.param-value{font-family:'JetBrains Mono',monospace;font-size:0.75rem;font-weight:700;}
.val-sky{color:var(--sky);}
.val-emerald{color:var(--emerald);}
.val-amber{color:var(--amber);}

input[type="range"]{-webkit-appearance:none;width:100%;height:6px;border-radius:3px;background:var(--range-track);outline:none;cursor:pointer;touch-action:manipulation;}
input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;width:22px;height:22px;border-radius:50%;background:var(--sky);box-shadow:0 0 10px rgba(56,189,248,0.35);cursor:pointer;}
input[type="range"]::-moz-range-thumb{width:22px;height:22px;border-radius:50%;background:var(--sky);box-shadow:0 0 10px rgba(56,189,248,0.35);cursor:pointer;border:none;}

/* KPI */
.kpi-grid{display:grid;grid-template-columns:1fr 1fr;gap:0.5rem;}
@media(min-width:768px){.kpi-grid{grid-template-columns:repeat(4,1fr);gap:0.6rem;}}
.kpi-card{background:var(--bg-panel);border:1px solid var(--border-subtle);border-radius:10px;padding:0.9rem 0.7rem;text-align:center;transition:border-color 0.3s;}
@media(min-width:768px){.kpi-card{border-radius:12px;padding:1.25rem 1rem;}}
.kpi-card.accent-sky{border-left:3px solid var(--sky);}
.kpi-card.accent-emerald{border-left:3px solid var(--emerald);}
.kpi-card.accent-amber{border-left:3px solid var(--amber);}
.kpi-card.accent-violet{border-left:3px solid var(--violet);}
.kpi-label{font-size:0.58rem;text-transform:uppercase;letter-spacing:0.12em;color:var(--text-muted);margin-bottom:0.35rem;}
@media(min-width:768px){.kpi-label{font-size:0.65rem;letter-spacing:0.15em;}}
.kpi-value{font-family:'JetBrains Mono',monospace;font-size:clamp(1.1rem,3vw,1.6rem);font-weight:700;line-height:1;}
.kpi-unit{font-size:0.6rem;color:var(--text-secondary);margin-top:0.2rem;}
@media(min-width:768px){.kpi-unit{font-size:0.7rem;margin-top:0.3rem;}}
.kpi-sub{font-size:0.55rem;color:var(--text-muted);margin-top:0.15rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
@media(min-width:768px){.kpi-sub{font-size:0.65rem;}}

/* Chart */
.chart-container{position:relative;height:280px;width:100%;}
@media(min-width:768px){.chart-container{height:400px;}}
@media(min-width:1200px){.chart-container{height:440px;}}

/* Allocation bar */
.alloc-bar{display:flex;height:8px;border-radius:4px;overflow:hidden;margin-top:0.75rem;gap:2px;}
.alloc-seg{transition:width 0.4s ease;border-radius:2px;}
.alloc-labels{display:flex;justify-content:space-between;margin-top:0.5rem;font-size:0.6rem;color:var(--text-muted);}
@media(min-width:768px){.alloc-labels{font-size:0.65rem;}}

/* Stats */
.stats-grid{display:grid;grid-template-columns:1fr;gap:0.5rem;}
@media(min-width:768px){.stats-grid{grid-template-columns:1fr 1fr;gap:1rem;}}
.stat-row{display:flex;justify-content:space-between;padding:0.4rem 0;border-bottom:1px solid var(--border-subtle);font-size:0.72rem;gap:0.5rem;}
@media(min-width:768px){.stat-row{font-size:0.8rem;padding:0.5rem 0;}}
.stat-label{color:var(--text-muted);flex-shrink:1;min-width:0;}
.stat-val{font-family:'JetBrains Mono',monospace;font-weight:600;color:var(--text-primary);white-space:nowrap;}

/* Health */
.health-bar{width:100%;height:6px;background:var(--range-track);border-radius:3px;overflow:hidden;}
.health-fill{height:100%;border-radius:3px;transition:width 0.5s ease,background 0.3s;}
.health-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem;}

/* Warning & Info */
.warning-box{background:rgba(251,113,133,0.08);border:1px solid rgba(251,113,133,0.2);border-radius:10px;padding:0.85rem;font-size:0.72rem;color:var(--rose);display:none;line-height:1.5;}
.warning-box.active{display:block;}
.info-box{background:rgba(56,189,248,0.05);border:1px solid rgba(56,189,248,0.1);border-radius:10px;padding:0.85rem;font-size:0.7rem;color:var(--text-secondary);line-height:1.6;}

/* Button */
.btn-sim{font-family:'JetBrains Mono',monospace;font-size:0.65rem;text-transform:uppercase;letter-spacing:0.1em;background:transparent;border:1px solid var(--border-subtle);color:var(--text-secondary);padding:0.45rem 0.7rem;border-radius:8px;cursor:pointer;transition:all 0.2s;white-space:nowrap;}
.btn-sim:hover,.btn-sim:active{border-color:var(--sky);color:var(--sky);}

/* Legend */
.legend-row{display:flex;flex-wrap:wrap;gap:0.5rem 0.8rem;justify-content:center;margin-top:0.6rem;}
@media(min-width:768px){.legend-row{gap:0.6rem 1rem;margin-top:0.75rem;}}
.legend-item{display:flex;align-items:center;gap:0.3rem;font-size:0.6rem;color:var(--text-muted);}
@media(min-width:768px){.legend-item{font-size:0.7rem;gap:0.4rem;}}
.legend-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0;}
@media(min-width:768px){.legend-dot{width:10px;height:10px;}}
.legend-stripe{width:8px;height:8px;border-radius:2px;background:rgba(251,113,133,0.15);border:1px solid rgba(251,113,133,0.4);flex-shrink:0;}

/* Toggle Switch */
.toggle-row{display:flex;gap:0;border:1px solid var(--border-subtle);border-radius:8px;overflow:hidden;margin-bottom:0.8rem;}
.toggle-opt{flex:1;padding:0.4rem 0.5rem;text-align:center;font-family:'JetBrains Mono',monospace;font-size:0.6rem;cursor:pointer;color:var(--text-muted);transition:all 0.2s;background:transparent;border:none;letter-spacing:0.05em;}
@media(min-width:768px){.toggle-opt{font-size:0.65rem;padding:0.45rem 0.6rem;}}
.toggle-opt.active{background:rgba(56,189,248,0.12);color:var(--sky);font-weight:600;}
.toggle-opt:not(.active):hover{color:var(--text-secondary);}

/* Conditional visibility */
.cond-rent,.cond-own{display:none;}
.cond-rent.show,.cond-own.show{display:block;}

/* Net budget breakdown */
.budget-breakdown{background:rgba(56,189,248,0.04);border:1px solid rgba(56,189,248,0.1);border-radius:10px;padding:0.7rem;font-size:0.65rem;line-height:1.8;font-family:'JetBrains Mono',monospace;}
.budget-line{display:flex;justify-content:space-between;gap:0.5rem;}
.budget-line.total{border-top:1px solid var(--border-subtle);padding-top:0.35rem;margin-top:0.2rem;font-weight:700;}

.divider{height:1px;background:var(--border-subtle);margin:0.6rem 0;}

/* Crisis timeline labels */
.crisis-labels{display:flex;flex-wrap:wrap;gap:0.3rem;margin-top:0.5rem;justify-content:center;}
.crisis-tag{font-family:'JetBrains Mono',monospace;font-size:0.55rem;padding:0.2rem 0.45rem;border-radius:4px;background:rgba(251,113,133,0.1);color:var(--rose);border:1px solid rgba(251,113,133,0.2);white-space:nowrap;}
@media(min-width:768px){.crisis-tag{font-size:0.6rem;padding:0.25rem 0.5rem;}}

/* Scrollbar */
::-webkit-scrollbar{width:4px;}
::-webkit-scrollbar-track{background:transparent;}
::-webkit-scrollbar-thumb{background:var(--text-muted);border-radius:2px;}
    </style>
</head>
<body>
<div class="app">

    <!-- HEADER -->
    <div class="header">
        <div class="header-left">
            <h1 data-i18n="title">Capital Pilot</h1>
            <p data-i18n="subtitle">Strategic Withdrawal Simulation</p>
        </div>
        <div class="header-alloc">
            <div class="alloc-bar" id="alloc-bar" style="margin:0"></div>
            <div class="alloc-labels">
                <span>ETF: <span id="alloc-etf" style="color:var(--sky)">‚Äî</span></span>
                <span><span data-i18n="bufferShort">Buffer</span>: <span id="alloc-buf" style="color:var(--emerald)">‚Äî</span></span>
                <span><span data-i18n="warShort">War</span>: <span id="alloc-war" style="color:var(--amber)">‚Äî</span></span>
            </div>
        </div>
        <div style="display:flex;gap:0.5rem;align-items:center;flex-wrap:wrap;">
            <!-- THEME TOGGLE -->
            <button class="lang-btn" id="themeBtn" onclick="toggleTheme()" title="Toggle Light/Dark Mode">
                <svg id="themeIcon" viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
                <span id="themeLabel">Dark</span>
            </button>
            <div class="lang-picker">
                <button class="lang-btn" id="curBtn" onclick="toggleCurDropdown()">
                    <svg viewBox="0 0 24 24" style="width:14px;height:14px"><path d="M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                    <span id="curLabel">CHF</span>
                </button>
                <div class="lang-dropdown" id="curDropdown"></div>
            </div>
            <div class="lang-picker">
                <button class="lang-btn" id="langBtn" onclick="toggleLangDropdown()">
                    <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10A15.3 15.3 0 0 1 12 2z"/></svg>
                    <span id="langLabel">EN</span>
                </button>
                <div class="lang-dropdown" id="langDropdown"></div>
            </div>
        </div>
    </div>

    <div class="layout">
        <!-- KPI CARDS spanning col-left + col-mid -->
        <div class="kpi-area">
            <div class="kpi-grid">
                <div class="kpi-card accent-sky">
                    <div class="kpi-label" data-i18n="monthlyBudget">Monthly Budget</div>
                    <div class="kpi-value" id="kpi-monthly" style="color:var(--sky)">‚Äî</div>
                    <div class="kpi-unit"><span class="cur-unit">CHF</span> / <span data-i18n="month">month</span></div>
                    <div class="kpi-sub" id="kpi-monthly-sub"></div>
                </div>
                <div class="kpi-card accent-emerald">
                    <div class="kpi-label" data-i18n="cashBufferLabel">Cash Buffer</div>
                    <div class="kpi-value" id="kpi-buffer" style="color:var(--emerald)">‚Äî</div>
                    <div class="kpi-unit"><span class="cur-unit">CHF</span> <span data-i18n="chfSafety">Safety</span></div>
                    <div class="kpi-sub" id="kpi-buffer-months"></div>
                </div>
                <div class="kpi-card accent-amber">
                    <div class="kpi-label" data-i18n="warChestLabel">War Chest</div>
                    <div class="kpi-value" id="kpi-warchest" style="color:var(--amber)">‚Äî</div>
                    <div class="kpi-unit"><span class="cur-unit">CHF</span> <span data-i18n="chfCrash">for Crashes</span></div>
                </div>
                <div class="kpi-card accent-violet">
                    <div class="kpi-label" data-i18n="purchasingPower">Purchasing Power</div>
                    <div class="kpi-value" id="kpi-real" style="color:var(--violet)">‚Äî</div>
                    <div class="kpi-unit"><span class="cur-unit">CHF</span> <span data-i18n="chfReal">real (today)</span></div>
                    <div class="kpi-sub" id="kpi-real-sub"></div>
                </div>
            </div>
        </div>

        <!-- COLUMN LEFT: Base + Strategy + Safety -->
        <div class="col-left">
            <div class="panel">
                <div class="panel-title" data-i18n="baseParams">Base Parameters</div>
                <div class="param-group">
                    <div class="param-header">
                        <span class="param-label" data-i18n="startCapital" data-tip>Starting Capital<span class="param-tip" data-i18n-tip="tipCapital"></span></span>
                        <span class="param-value val-sky" id="val-capital">1'200'000 CHF</span>
                    </div>
                    <input type="range" id="in-capital" min="100000" max="10000000" step="10000" value="600000">
                </div>
                <div class="param-group">
                    <div class="param-header">
                        <span class="param-label" data-i18n="duration" data-tip>Withdrawal Duration<span class="param-tip" data-i18n-tip="tipDuration"></span></span>
                        <span class="param-value val-sky" id="val-years">30 Years</span>
                    </div>
                    <input type="range" id="in-years" min="10" max="50" step="1" value="30">
                </div>
                <div class="param-group">
                    <div class="param-header">
                        <span class="param-label" data-i18n="targetLegacy" data-tip>Target Legacy<span class="param-tip" data-i18n-tip="tipLegacy"></span></span>
                        <span class="param-value val-sky" id="val-legacy">500'000 CHF</span>
                    </div>
                    <input type="range" id="in-legacy" min="0" max="3000000" step="25000" value="100000">
                </div>
                <div class="param-group">
                    <div class="param-header">
                        <span class="param-label" data-i18n="inflation" data-tip>Inflation (% p.a.)<span class="param-tip" data-i18n-tip="tipInflation"></span></span>
                        <span class="param-value val-amber" id="val-inflation">1.5 %</span>
                    </div>
                    <input type="range" id="in-inflation" min="0" max="10" step="0.1" value="1.1">
                </div>

                <div class="divider"></div>
                <div class="panel-title" data-i18n="marketStrategy">Market & Strategy</div>

                <div class="param-group">
                    <div class="param-header">
                        <span class="param-label" data-i18n="expectedReturn" data-tip>Expected Return<span class="param-tip" data-i18n-tip="tipReturn"></span></span>
                        <span class="param-value val-emerald" id="val-growth">6.0 %</span>
                    </div>
                    <input type="range" id="in-growth" min="1" max="20" step="0.1" value="6.0">
                </div>
                <div class="param-group">
                    <div class="param-header">
                        <span class="param-label" data-i18n="warChest" data-tip>War Chest (%)<span class="param-tip" data-i18n-tip="tipWarChest"></span></span>
                        <span class="param-value val-amber" id="val-warchest">16.8 %</span>
                    </div>
                    <input type="range" id="in-warchest" min="0" max="35" step="0.5" value="10.0">
                </div>
                <div class="param-group">
                    <div class="param-header">
                        <span class="param-label" data-i18n="cashBuffer" data-tip>Cash Buffer<span class="param-tip" data-i18n-tip="tipBuffer"></span></span>
                        <span class="param-value val-emerald" id="val-buffer">3.0</span>
                    </div>
                    <input type="range" id="in-buffer" min="0" max="5" step="0.5" value="3">
                </div>
                <div class="param-group">
                    <div class="param-header">
                        <span class="param-label" data-i18n="pension" data-tip>Pension (monthly)<span class="param-tip" data-i18n-tip="tipPension"></span></span>
                        <span class="param-value val-emerald" id="val-ahv">1'800 CHF</span>
                    </div>
                    <input type="range" id="in-ahv" min="0" max="10000" step="100" value="1600">
                </div>

                <div class="divider"></div>
                <div class="panel-title" data-i18n="safetyLimits">Safety Limits</div>

                <div class="param-group">
                    <div class="param-header">
                        <span class="param-label" data-i18n="maxSWR" data-tip>Max SWR<span class="param-tip" data-i18n-tip="tipMaxSWR"></span></span>
                        <span class="param-value" style="color:var(--rose)" id="val-maxswr">4.0 %</span>
                    </div>
                    <input type="range" id="in-maxswr" min="2" max="8" step="0.1" value="5.3">
                    <div style="display:flex;justify-content:space-between;margin-top:0.3rem;font-size:0.55rem;color:var(--text-muted)">
                        <span data-i18n="conservative">Conservative</span>
                        <span data-i18n="aggressive">Aggressive</span>
                    </div>
                </div>

                <div id="swr-impact" style="background:rgba(167,139,250,0.06);border:1px solid rgba(167,139,250,0.15);border-radius:8px;padding:0.6rem;margin-top:0.5rem;font-size:0.65rem;color:var(--violet);display:none;line-height:1.5;"></div>
            </div>

            <div class="warning-box" id="warning-box"></div>

            <div class="info-box" style="border-color:rgba(251,113,133,0.15);background:rgba(251,113,133,0.04);">
                <strong style="color:var(--rose)">‚ö†Ô∏è <span data-i18n="disclaimerTitle">Disclaimer</span></strong><br>
                <span style="color:var(--text-muted);font-size:0.62rem;line-height:1.6;" data-i18n="disclaimerText">This is a simulation tool for educational purposes only. It does not constitute financial, tax, or investment advice. Past performance does not predict future results. Tax calculations are approximations ‚Äî consult a qualified tax advisor. Always seek professional financial advice before making retirement decisions. The author assumes no liability for decisions made based on this tool.</span>
            </div>
        </div>

        <!-- COLUMN MIDDLE: Housing + Taxes + Budget + Allocation -->
        <div class="col-mid">
            <!-- HOUSING -->
            <div class="panel">
                <div class="panel-title" data-i18n="housing">Housing</div>
                <div class="toggle-row">
                    <button class="toggle-opt active" id="tog-rent" onclick="setHousingMode('rent')" data-i18n="rent">üè† Rent</button>
                    <button class="toggle-opt" id="tog-own" onclick="setHousingMode('own')" data-i18n="ownership">üè° Ownership</button>
                </div>
                <div class="cond-rent show" id="sec-rent">
                    <div class="param-group"><div class="param-header"><span class="param-label" data-i18n="monthlyRent" data-tip>Monthly Rent<span class="param-tip" data-i18n-tip="tipRent"></span></span><span class="param-value val-sky" id="val-rent">1'500</span></div><input type="range" id="in-rent" min="0" max="5000" step="50" value="1600"></div>
                    <div class="param-group"><div class="param-header"><span class="param-label" data-i18n="utilities" data-tip>Utilities<span class="param-tip" data-i18n-tip="tipUtilities"></span></span><span class="param-value val-sky" id="val-utilities">200</span></div><input type="range" id="in-utilities" min="0" max="1500" step="25" value="250"></div>
                    <div class="param-group"><div class="param-header"><span class="param-label" data-i18n="livingCosts" data-tip>Living Costs<span class="param-tip" data-i18n-tip="tipLiving"></span></span><span class="param-value val-sky" id="val-living-rent">2'500</span></div><input type="range" id="in-living-rent" min="0" max="5000" step="50" value="1600"></div>
                </div>
                <div class="cond-own" id="sec-own">
                    <div class="param-group"><div class="param-header"><span class="param-label" data-i18n="propertyValue" data-tip>Property Value<span class="param-tip" data-i18n-tip="tipPropVal"></span></span><span class="param-value val-sky" id="val-propval">800'000</span></div><input type="range" id="in-propval" min="100000" max="3000000" step="25000" value="800000"></div>
                    <div class="param-group"><div class="param-header"><span class="param-label" data-i18n="mortgage" data-tip>Mortgage<span class="param-tip" data-i18n-tip="tipMortgage"></span></span><span class="param-value val-sky" id="val-mortgage">350'000</span></div><input type="range" id="in-mortgage" min="0" max="2000000" step="10000" value="350000"></div>
                    <div class="param-group"><div class="param-header"><span class="param-label" data-i18n="mortgageRate" data-tip>Mortgage Rate<span class="param-tip" data-i18n-tip="tipMortRate"></span></span><span class="param-value val-amber" id="val-mortrate">1.8 %</span></div><input type="range" id="in-mortrate" min="0.5" max="6" step="0.1" value="1.8"></div>
                    <div class="param-group"><div class="param-header"><span class="param-label" data-i18n="maintenanceCost" data-tip>Maintenance<span class="param-tip" data-i18n-tip="tipMaint"></span></span><span class="param-value val-sky" id="val-maint">450</span></div><input type="range" id="in-maint" min="0" max="2000" step="25" value="450"></div>
                    <div class="param-group"><div class="param-header"><span class="param-label" data-i18n="propertyGrowth" data-tip>Growth<span class="param-tip" data-i18n-tip="tipPropGrowth"></span></span><span class="param-value val-emerald" id="val-propgrowth">1.5 %</span></div><input type="range" id="in-propgrowth" min="0" max="4" step="0.1" value="1.5"></div>
                    <div class="param-group" id="grp-imputed"><div class="param-header"><span class="param-label" data-i18n="imputedRent" data-tip>Imputed Rent<span class="param-tip" data-i18n-tip="tipImputed"></span></span><span class="param-value val-amber" id="val-imputed">1'200</span></div><input type="range" id="in-imputed" min="0" max="4000" step="50" value="1200"></div>
                    <div class="param-group"><div class="param-header"><span class="param-label" data-i18n="livingCosts" data-tip>Living Costs<span class="param-tip" data-i18n-tip="tipLiving"></span></span><span class="param-value val-sky" id="val-living-own">2'500</span></div><input type="range" id="in-living-own" min="0" max="5000" step="50" value="2500"></div>
                </div>
            </div>

            <!-- TAXES -->
            <div class="panel">
                <div class="panel-title" data-i18n="taxes">Taxes</div>
                <div class="param-group"><div class="param-header"><span class="param-label" data-i18n="incomeTax" data-tip>Income Tax<span class="param-tip" data-i18n-tip="tipIncTax"></span></span><span class="param-value" style="color:var(--rose)" id="val-inctax">22.0 %</span></div><input type="range" id="in-inctax" min="0" max="100" step="0.5" value="22"></div>
                <div class="param-group"><div class="param-header"><span class="param-label" data-i18n="capitalGainsTax" data-tip>Capital Gains Tax<span class="param-tip" data-i18n-tip="tipCgTax"></span></span><span class="param-value" style="color:var(--rose)" id="val-cgtax">0.0 %</span></div><input type="range" id="in-cgtax" min="0" max="100" step="0.5" value="2"></div>
                <div class="param-group"><div class="param-header"><span class="param-label" data-i18n="wealthTax" data-tip>Wealth Tax<span class="param-tip" data-i18n-tip="tipWealthTax"></span></span><span class="param-value" style="color:var(--rose)" id="val-wealthtax">0.30 %</span></div><input type="range" id="in-wealthtax" min="0" max="3" step="0.01" value="0.28"></div>
            </div>

            <!-- NET BUDGET + ALLOCATION -->
            <div class="panel">
                <div class="panel-title" data-i18n="netBudget">Net Budget Breakdown</div>
                <div class="budget-breakdown" id="budget-breakdown"></div>
            </div>
        </div>

        <!-- COLUMN MAIN: Health + Chart + Stats -->
        <div class="col-main">
            <!-- Health -->
            <div class="panel">
                <div class="health-row">
                    <div class="panel-title" style="margin:0;border:none;padding:0" data-i18n="strategyHealth">Strategy Health</div>
                    <span id="health-label" style="font-family:'JetBrains Mono';font-size:0.7rem;font-weight:700;color:var(--emerald)">Robust</span>
                </div>
                <div class="health-bar"><div class="health-fill" id="health-fill" style="width:80%;background:var(--emerald)"></div></div>
                <div style="display:flex;justify-content:space-between;margin-top:0.3rem;font-size:0.55rem;color:var(--text-muted)">
                    <span data-i18n="fragile">Fragile</span><span data-i18n="stable">Stable</span><span data-i18n="robust">Robust</span>
                </div>
            </div>

            <!-- Chart -->
            <div class="panel">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.6rem;gap:0.5rem;flex-wrap:wrap;">
                    <div class="panel-title" style="margin:0;border:none;padding:0">
                        <span data-i18n="historicalSim">Historical Simulation</span> ¬∑ <span id="lbl-years" style="color:var(--sky)">30</span> <span data-i18n="yearsShort">Years</span>
                    </div>
                    <div style="display:flex;gap:0.4rem;flex-wrap:wrap;">
                        <button class="btn-sim" id="btn-back-5y" onclick="shiftTimeline(-5)">‚Üê 5Y</button>
                        <button class="btn-sim" id="btn-fwd-5y" onclick="shiftTimeline(5)">5Y ‚Üí</button>
                        <button class="btn-sim" id="btn-rand-sim" onclick="runRandomSimulation()">‚Üª</button>
                    </div>
                </div>
                <div style="text-align:center;margin-bottom:0.4rem;">
                    <span style="font-family:'JetBrains Mono';font-size:0.7rem;color:var(--text-muted);" id="timeline-label">1996 ‚Äî 2026</span>
                </div>
                <div class="chart-container">
                    <canvas id="mainChart"></canvas>
                </div>
                <div class="legend-row">
                    <div class="legend-item"><div class="legend-dot" style="background:var(--sky)"></div> <span data-i18n="etfDepot">ETF Depot</span></div>
                    <div class="legend-item"><div class="legend-dot" style="background:var(--emerald)"></div> <span data-i18n="bufferShort">Buffer</span></div>
                    <div class="legend-item"><div class="legend-dot" style="background:var(--amber)"></div> <span data-i18n="warShort">War Chest</span></div>
                    <div class="legend-item"><div class="legend-dot" style="background:var(--rose);opacity:0.5"></div> <span data-i18n="totalWealth">Total</span></div>
                    <div class="legend-item"><div class="legend-stripe"></div> <span data-i18n="crisisPhase">Crisis</span></div>
                    <div class="legend-item" id="legend-prop" style="display:none"><div class="legend-dot" style="background:#64748b"></div> <span data-i18n="propertyNet">Property (net)</span></div>
                    <div class="legend-item" id="legend-bah"><div class="legend-dot" style="background:var(--violet);opacity:0.6"></div> <span data-i18n="bahLine">Buy &amp; Hold</span></div>
                </div>
                <div class="crisis-labels" id="crisis-tags"></div>
            </div>

            <!-- Stats -->
            <div class="panel">
                <div class="panel-title" data-i18n="withdrawalAnalysis">Withdrawal Analysis</div>
                <div class="stats-grid">
                    <div>
                        <div class="stat-row"><span class="stat-label" data-i18n="totalWithdrawal">Total Withdrawal</span><span class="stat-val" id="stat-total-out">‚Äî</span></div>
                        <div class="stat-row"><span class="stat-label" data-i18n="capitalUsed">Capital Used</span><span class="stat-val" id="stat-capital-used">‚Äî</span></div>
                        <div class="stat-row"><span class="stat-label" style="color:var(--emerald)" data-i18n="marketGain">Market Gain</span><span class="stat-val" style="color:var(--emerald)" id="stat-market-gain">‚Äî</span></div>
                        <div class="stat-row"><span class="stat-label">SWR</span><span class="stat-val" id="stat-swr">‚Äî</span></div>
                    </div>
                    <div>
                        <div class="stat-row"><span class="stat-label" data-i18n="endWealth">End Wealth (Sim)</span><span class="stat-val" id="stat-end-value">‚Äî</span></div>
                        <div class="stat-row"><span class="stat-label" data-i18n="worstDepot">Worst Depot Value</span><span class="stat-val" id="stat-worst">‚Äî</span></div>
                        <div class="stat-row"><span class="stat-label" data-i18n="projectedLegacy">Projected Legacy</span><span class="stat-val" style="color:var(--violet)" id="stat-proj-legacy">‚Äî</span></div>
                        <div class="stat-row"><span class="stat-label" data-i18n="crisesSurvived">Crises Survived</span><span class="stat-val" id="stat-crises">‚Äî</span></div>
                        <div class="stat-row"><span class="stat-label" data-i18n="bufferMonths">Buffer Months Used</span><span class="stat-val" id="stat-buffer-used">‚Äî</span></div>
                        <div class="stat-row"><span class="stat-label" data-i18n="drawdownStops">Drawdown Stops (-15%)</span><span class="stat-val" style="color:var(--amber)" id="stat-dd-stops">‚Äî</span></div>
                        <div class="stat-row"><span class="stat-label" data-i18n="stressResistance">Stress Resistance (-50%)</span><span class="stat-val" style="color:var(--sky)" id="stat-stress">‚Äî</span></div>
                        <div class="stat-row"><span class="stat-label" data-i18n="rebalEvents">Rebalancing Events</span><span class="stat-val" style="color:var(--emerald)" id="stat-rebal-events">‚Äî</span></div>
                    </div>
                </div>

                <!-- OPPORTUNITY COST INDICATOR -->
                <div style="margin-top:0.75rem;">
                    <div id="opp-cost-box" style="background:rgba(167,139,250,0.06);border:1px solid rgba(167,139,250,0.15);border-radius:10px;padding:0.85rem;font-size:0.7rem;line-height:1.7;display:none;">
                        <div style="font-family:'JetBrains Mono';font-size:0.6rem;text-transform:uppercase;letter-spacing:0.15em;color:var(--violet);margin-bottom:0.5rem;" data-i18n="oppCostTitle">‚öñÔ∏è Opportunity Cost vs. Buy &amp; Hold</div>
                        <div class="stats-grid" style="gap:0.4rem;">
                            <div class="stat-row"><span class="stat-label" data-i18n="oppHoldEnd">B&amp;H End Wealth</span><span class="stat-val" style="color:var(--violet)" id="stat-bah-end">‚Äî</span></div>
                            <div class="stat-row"><span class="stat-label" data-i18n="oppStratEnd">Strategy End Wealth</span><span class="stat-val" style="color:var(--sky)" id="stat-strat-end">‚Äî</span></div>
                        </div>
                        <div id="opp-delta-line" style="border-top:1px solid var(--border-subtle);padding-top:0.4rem;margin-top:0.2rem;font-family:'JetBrains Mono';font-size:0.68rem;"></div>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <strong style="color:var(--sky)">v6.0:</strong>
                <span data-i18n="methodInfo">Historical crisis overlay (1973‚Äì2026) with real events: Oil Crisis, Black Monday, Dotcom, GFC, COVID, 2022 Bear. Shift the timeline to see how early/late crises affect your plan. Newton-Raphson solver, inflation-adjusted withdrawals, dynamic reduction on drawdowns.</span>
            </div>
        </div>

    </div>
</div>

<script>
// ‚îÄ‚îÄ‚îÄ GLOBAL STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// These must be declared before any function that references them
let isLightMode = false;        // Light/Dark theme toggle
let _lastSim = null;            // Cache last simulation result for theme re-render
let _lastLegacy = 0;            // Cache last legacy value for theme re-render

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// i18n ‚Äî 21 Languages
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const LANGS = {
en:{code:'EN',name:'English',
    title:'Capital Pilot',subtitle:'Strategic Withdrawal Simulation',
    baseParams:'Base Parameters',startCapital:'Starting Capital',duration:'Withdrawal Duration',
    targetLegacy:'Target Legacy',inflation:'Inflation (% p.a.)',marketStrategy:'Market & Strategy',
    expectedReturn:'Expected Return (% p.a.)',warChest:'War Chest (%)',cashBuffer:'Cash Buffer (Years)',
    pension:'Pension (monthly)',allocation:'Capital Allocation',bufferShort:'Buffer',warShort:'War',
    monthlyBudget:'Monthly Budget',month:'month',cashBufferLabel:'Cash Buffer',chfSafety:'Safety',
    warChestLabel:'War Chest',chfCrash:'for Crashes',purchasingPower:'Purchasing Power',
    chfReal:'real (today)',strategyHealth:'Strategy Health',fragile:'Fragile',stable:'Stable',
    robust:'Robust',moderate:'Moderate',historicalSim:'Historical Simulation',yearsShort:'Years',
    etfDepot:'ETF Depot',totalWealth:'Total',crisisPhase:'Crisis',
    withdrawalAnalysis:'Withdrawal Analysis',totalWithdrawal:'Total Withdrawal (nominal)',
    capitalUsed:'Capital Used',marketGain:'Market Gain (Interest)',endWealth:'End Wealth (Sim)',
    worstDepot:'Worst Depot Value',crisesSurvived:'Crises Survived',bufferMonths:'Buffer Months Used',drawdownStops:'Drawdown Stops (-15%)',stressResistance:'Stress Resistance (-50%)',
    yearsUnit:'Years',monthsUnit:'months',monthsCoverage:'months coverage',
    inclPension:'incl. pension',bearMarkets:'bear markets',
    safetyLimits:'Safety Limits',maxSWR:'Max Withdrawal Rate (%)',conservative:'Conservative',aggressive:'Aggressive',
    swrCapped:'SWR capped at {0}%. Budget reduced, projected legacy increases.',swrUncapped:'SWR below limit ‚Äî no cap applied.',
    projectedLegacy:'Projected Legacy (det.)',
    housing:'Housing',rent:'üè† Rent',ownership:'üè° Ownership',monthlyRent:'Monthly Rent',utilities:'Utilities / Side Costs',
    propertyValue:'Property Value',mortgage:'Mortgage Balance',mortgageRate:'Mortgage Rate (%)',maintenanceCost:'Maintenance + Utilities',
    propertyGrowth:'Value Growth (% p.a.)',imputedRent:'Imputed Rental Value',propertyNet:'Property (net)',
    taxes:'Taxes',incomeTax:'Income Tax (%)',capitalGainsTax:'Capital Gains Tax (%)',wealthTax:'Wealth Tax (% p.a.)',
    incomeTaxHint:'Pension + imputed rental value. CH: 15-35%.',capitalGainsTaxHint:'CH: 0% private. DE: 26.375%. US: 15-20%.',wealthTaxHint:'CH: 0.1-0.5% cantonal. DE/US/most: 0%.',
    netBudget:'Net Budget Breakdown',grossBudget:'Gross Budget',taxDeduction:'Taxes',housingCosts:'Housing Costs',wealthTaxCost:'Wealth Tax',netAvailable:'Net Available',
    tipCapital:'Total liquid assets at retirement start (savings, PK payout, 3a, investments).',
    tipDuration:'How many years the money must last. Life expectancy minus retirement age.',
    tipLegacy:'How much you want to leave behind. Set 0 if you plan to spend everything.',
    tipInflation:'Annual price increase. CH historical avg ~1%. Conservative: 2%.',
    tipReturn:'Nominal annual return on your ETF portfolio. MSCI World avg ~7% over 30 years.',
    tipWarChest:'Cash reserved to buy cheap during crashes. Automatically deploys when markets drop >1.5%.',
    tipBuffer:'Years of expenses held in cash. During a crisis, you withdraw from here instead of selling ETFs at the bottom.',
    tipPension:'Monthly pension income (AHV/PK/Social Security). Reduces needed ETF withdrawals.',
    tipMaxSWR:'Maximum safe withdrawal rate. Classic 4% rule (Trinity Study). Caps your budget if solver calculates higher.',
    tipRent:'Your monthly rent (cold rent without utilities).',
    tipUtilities:'Side costs: heating, water, waste, building insurance etc.',
    tipPropVal:'Current market value of your property.',
    tipMortgage:'Remaining mortgage debt. Subtracted from property value for net worth.',
    tipMortRate:'Annual mortgage interest rate. CH: 1-2% (SARON), fixed: 1.5-3%.',
    tipMaint:'Monthly maintenance costs + utilities. Rule of thumb: 1% of property value per year.',
    tipPropGrowth:'Annual property appreciation. CH long-term avg ~1.5%. Urban areas higher.',
    tipImputed:'CH only: Eigenmietwert. Taxed as income for homeowners. Typically 60-70% of market rent.',
    tipIncTax:'Marginal income tax rate on pension + imputed rent. CH: 15-35% (cantonal). DE: 30-45%.',
    tipCgTax:'Tax on investment gains. CH: 0% for private investors. DE: 26.375%. US: 15-20%.',
    tipWealthTax:'Annual tax on total net worth. CH: 0.1-0.5% (cantonal). DE/US: 0%.',
    livingCosts:'Living Costs',tipLiving:'Food, transport, health insurance, leisure, hobbies. Everything you need for daily life beyond housing.',
    disclaimerTitle:'Disclaimer',disclaimerText:'This is a simulation tool for educational purposes only. It does not constitute financial, tax, or investment advice. Past performance does not predict future results. Tax calculations are approximations \u2014 consult a qualified tax advisor. Always seek professional financial advice before making retirement decisions. The author assumes no liability for decisions made based on this tool.',
    warnLowETF:'‚ö† Less than 15% in ETF ‚Äî minimal growth potential.',
    warnNoETF:'üö´ No capital for ETF! Reduce buffer or war chest.',
    warnNegative:'üö´ No positive withdrawal possible with these parameters.',
    warnHighSWR:'‚ö† Withdrawal rate {0}% ‚Äî above the 4% rule. Higher risk.',
    warnHighLegacy:'‚ö† Target legacy > 60% of capital ‚Äî limited withdrawal room.',
    methodInfo:'Historical crisis overlay (1973‚Äì2026) with real events: Oil Crisis, Black Monday, Dotcom, GFC, COVID, 2022 Bear. Shift the timeline to see how early/late crises affect your plan. Newton-Raphson solver, inflation-adjusted withdrawals, dynamic reduction on drawdowns.',
    nominalEq:'nominal = {0} real',
    rebalEvents:'Rebalancing Events',
    oppCostTitle:'‚öñÔ∏è Opportunity Cost vs. Buy & Hold',
    oppHoldEnd:'B&H End Wealth',oppStratEnd:'Strategy End Wealth',
    oppAhead:'Strategy outperforms B&H by',oppBehind:'Strategy trails B&H by',
    bahLine:'Buy & Hold',
    themeDark:'Dark',themeLight:'Light',
    tipRebal:'Fair-weather rebalancing: when the ETF depot hits a new ATH, surplus gains automatically refill the Cash Buffer and War Chest to their target levels.',
},
de:{code:'DE',name:'Deutsch',
    title:'Capital Pilot',subtitle:'Strategische Entnahme-Simulation',
    baseParams:'Basis-Parameter',startCapital:'Startkapital',duration:'Entnahme-Dauer',
    targetLegacy:'Ziel-Erbe',inflation:'Inflation (% p.a.)',marketStrategy:'Markt & Strategie',
    expectedReturn:'Erwartete Rendite (% p.a.)',warChest:'Kriegskasse (%)',cashBuffer:'Cash-Puffer (Jahre)',
    pension:'Rente AHV/PK (mtl.)',allocation:'Kapital-Aufteilung',bufferShort:'Puffer',warShort:'Krieg',
    monthlyBudget:'Monats-Budget',month:'Monat',cashBufferLabel:'Cash-Puffer',chfSafety:'Sicherheit',
    warChestLabel:'Kriegskasse',chfCrash:'f√ºr Crashs',purchasingPower:'Kaufkraft',
    chfReal:'real (heute)',strategyHealth:'Strategie-Gesundheit',fragile:'Fragil',stable:'Stabil',
    robust:'Robust',moderate:'M√§ssig',historicalSim:'Historische Simulation',yearsShort:'Jahre',
    etfDepot:'ETF-Depot',totalWealth:'Gesamt',crisisPhase:'Krise',
    withdrawalAnalysis:'Auszahlungs-Analyse',totalWithdrawal:'Gesamte Entnahme (nominal)',
    capitalUsed:'Davon Eigenkapital',marketGain:'Markt-Ertrag (Zinsen)',endWealth:'Endverm√∂gen (Sim)',
    worstDepot:'Tiefster Depotwert',crisesSurvived:'Krisen durchlebt',bufferMonths:'Puffer-Monate genutzt',drawdownStops:'Entnahme-Stopps (-15%)',stressResistance:'Stress-Resistenz (-50%)',
    yearsUnit:'Jahre',monthsUnit:'Monate',monthsCoverage:'Monate Deckung',
    inclPension:'inkl. Rente',bearMarkets:'B√§renm√§rkte',
    safetyLimits:'Sicherheits-Limits',maxSWR:'Max. Entnahme-Rate (%)',conservative:'Konservativ',aggressive:'Aggressiv',
    swrCapped:'SWR auf {0}% gedeckelt. Budget reduziert, Erbe steigt.',swrUncapped:'SWR unter Limit ‚Äî kein Cap aktiv.',
    projectedLegacy:'Projiziertes Erbe (det.)',
    housing:'Wohnen',rent:'üè† Miete',ownership:'üè° Eigentum',monthlyRent:'Monatsmiete',utilities:'Nebenkosten',
    propertyValue:'Immobilienwert',mortgage:'Hypothek Restschuld',mortgageRate:'Hypothekarzins (%)',maintenanceCost:'Unterhalt + Nebenkosten',
    propertyGrowth:'Wertsteigerung (% p.a.)',imputedRent:'Eigenmietwert (CH)',propertyNet:'Immobilie (netto)',
    taxes:'Steuern',incomeTax:'Einkommenssteuer (%)',capitalGainsTax:'Kapitalertragssteuer (%)',wealthTax:'Verm√∂genssteuer (% p.a.)',
    incomeTaxHint:'Rente + Eigenmietwert. CH: 15-35% kantonal.',capitalGainsTaxHint:'CH: 0% privat. DE: 26.375%. US: 15-20%.',wealthTaxHint:'CH: 0.1-0.5% kantonal. DE/US: 0%.',
    netBudget:'Netto-Budget Aufschl√ºsselung',grossBudget:'Brutto-Budget',taxDeduction:'Steuern',housingCosts:'Wohnkosten',wealthTaxCost:'Verm√∂genssteuer',netAvailable:'Netto verf√ºgbar',
    tipCapital:'Gesamtes liquides Verm√∂gen bei Pensionierung (Ersparnisse, PK-Bezug, 3a, Anlagen).',
    tipDuration:'Wie viele Jahre das Geld reichen muss. Lebenserwartung minus Pensionsalter.',
    tipLegacy:'Wie viel du hinterlassen m√∂chtest. 0 = alles aufbrauchen.',
    tipInflation:'J√§hrliche Teuerung. CH historisch ~1%. Konservativ: 2%.',
    tipReturn:'Nominale Jahresrendite deines ETF-Portfolios. MSCI World Durchschnitt ~7% √ºber 30 Jahre.',
    tipWarChest:'Cash-Reserve f√ºr Nachk√§ufe bei Crashs. Wird automatisch eingesetzt bei Einbr√ºchen >1.5%.',
    tipBuffer:'Jahre an Ausgaben in Cash. Bei Krise wird von hier entnommen statt ETFs am Tiefpunkt zu verkaufen.',
    tipPension:'Monatliche Rente (AHV + PK). Reduziert die n√∂tige ETF-Entnahme.',
    tipMaxSWR:'Maximale sichere Entnahmerate. Klassische 4%-Regel (Trinity Study). Deckelt dein Budget wenn Solver h√∂her rechnet.',
    tipRent:'Deine Monatsmiete (Kaltmiete ohne Nebenkosten).',
    tipUtilities:'Nebenkosten: Heizung, Wasser, Abfall, Geb√§udeversicherung etc.',
    tipPropVal:'Aktueller Marktwert deiner Immobilie.',
    tipMortgage:'Verbleibende Hypothekarschuld. Wird vom Immobilienwert f√ºr Nettoverm√∂gen abgezogen.',
    tipMortRate:'J√§hrlicher Hypothekarzins. CH: 1-2% (SARON), Festhypothek: 1.5-3%.',
    tipMaint:'Monatliche Unterhaltskosten + Nebenkosten. Faustregel: 1% des Immobilienwerts pro Jahr.',
    tipPropGrowth:'J√§hrliche Wertsteigerung. CH Langzeit-Durchschnitt ~1.5%. St√§dtisch h√∂her.',
    tipImputed:'Nur CH: Eigenmietwert. Wird als Einkommen besteuert. Typisch 60-70% der Marktmiete.',
    tipIncTax:'Grenzsteuersatz auf Rente + Eigenmietwert. CH: 15-35% (kantonal). DE: 30-45%.',
    tipCgTax:'Steuer auf Kapitalertr√§ge. CH: 0% f√ºr Privatpersonen. DE: 26.375%. US: 15-20%.',
    tipWealthTax:'J√§hrliche Steuer auf Gesamtverm√∂gen. CH: 0.1-0.5% (kantonal). DE/US: 0%.',
    livingCosts:'Lebenshaltungskosten',tipLiving:'Ern√§hrung, Mobilit√§t (√ñV/Auto), Krankenkasse, Medikamente, Freizeit, Hobbys. Alles was du zum Leben brauchst ausser Wohnen.',
    disclaimerTitle:'Haftungsausschluss',disclaimerText:'Dies ist ein Simulationswerkzeug ausschliesslich zu Bildungszwecken. Es stellt keine Finanz-, Steuer- oder Anlageberatung dar. Vergangene Wertentwicklungen sind kein Indikator f√ºr zuk√ºnftige Ergebnisse. Steuerberechnungen sind N√§herungswerte \u2014 konsultiere einen qualifizierten Steuerberater. Hole immer professionelle Finanzberatung ein, bevor du Pensionierungsentscheidungen triffst. Der Autor √ºbernimmt keine Haftung f√ºr Entscheidungen, die auf Basis dieses Tools getroffen werden.',
    warnLowETF:'‚ö† Weniger als 15% im ETF ‚Äî kaum Wachstum.',
    warnNoETF:'üö´ Kein Kapital f√ºr ETF! Reduziere Puffer oder Kriegskasse.',
    warnNegative:'üö´ Keine positive Entnahme mit diesen Parametern m√∂glich.',
    warnHighSWR:'‚ö† Entnahme-Rate {0}% ‚Äî √ºber der 4%-Regel. H√∂heres Risiko.',
    warnHighLegacy:'‚ö† Ziel-Erbe > 60% des Kapitals ‚Äî wenig Entnahme-Spielraum.',
    methodInfo:'Historische Krisen-√úberlagerung (1973‚Äì2026) mit realen Events: √ñlkrise, Black Monday, Dotcom, Finanzkrise, COVID, 2022-B√§renmarkt. Timeline verschieben um den Effekt fr√ºher/sp√§ter Krisen zu sehen.',
    nominalEq:'nominal = {0} real',
    rebalEvents:'Rebalancing-Ereignisse',
    oppCostTitle:'‚öñÔ∏è Opportunit√§tskosten vs. Buy & Hold',
    oppHoldEnd:'B&H Endverm√∂gen',oppStratEnd:'Strategie Endverm√∂gen',
    oppAhead:'Strategie besser als B&H um',oppBehind:'Strategie schlechter als B&H um',
    bahLine:'Buy & Hold',
    themeDark:'Dunkel',themeLight:'Hell',
    tipRebal:'Sch√∂nwetter-Rebalancing: Sobald das ETF-Depot ein neues ATH erreicht, werden √úberschussgewinne automatisch genutzt, um Cash-Puffer und Kriegskasse auf ihr Zielniveau aufzuf√ºllen.',
},
fr:{code:'FR',name:'Fran√ßais',
    title:'Capital Pilot',subtitle:'Simulation de Retrait Strat√©gique',
    baseParams:'Param√®tres de base',startCapital:'Capital initial',duration:'Dur√©e de retrait',
    targetLegacy:'H√©ritage cible',inflation:'Inflation (% p.a.)',marketStrategy:'March√© & Strat√©gie',
    expectedReturn:'Rendement attendu (% p.a.)',warChest:'R√©serve de guerre (%)',cashBuffer:'Tampon Cash (Ann√©es)',
    pension:'Retraite (mensuel)',allocation:'Allocation du capital',bufferShort:'Tampon',warShort:'Guerre',
    monthlyBudget:'Budget Mensuel',month:'mois',cashBufferLabel:'Tampon Cash',chfSafety:'S√©curit√©',
    warChestLabel:'R√©serve de Guerre',chfCrash:'pour Crashs',purchasingPower:'Pouvoir d\'achat',
    chfReal:'r√©el (auj.)',strategyHealth:'Sant√© de la Strat√©gie',fragile:'Fragile',stable:'Stable',
    robust:'Robuste',moderate:'Mod√©r√©',historicalSim:'Simulation Historique',yearsShort:'Ans',
    etfDepot:'D√©p√¥t ETF',totalWealth:'Total',crisisPhase:'Crise',
    withdrawalAnalysis:'Analyse des Retraits',totalWithdrawal:'Retrait total (nominal)',
    capitalUsed:'Capital utilis√©',marketGain:'Gain du march√©',endWealth:'Patrimoine final',
    worstDepot:'Pire valeur d√©p√¥t',crisesSurvived:'Crises travers√©es',bufferMonths:'Mois tampon utilis√©s',
    yearsUnit:'Ans',monthsUnit:'mois',monthsCoverage:'mois couverture',
    inclPension:'incl. retraite',bearMarkets:'march√©s baissiers',
    safetyLimits:'Limites de S√©curit√©',maxSWR:'Taux de Retrait Max (%)',conservative:'Prudent',aggressive:'Agressif',
    swrCapped:'Taux plafonn√© √† {0}%. Budget r√©duit, h√©ritage augmente.',swrUncapped:'Taux sous la limite.',
    projectedLegacy:'H√©ritage projet√© (d√©t.)',
    warnLowETF:'‚ö† Moins de 15% en ETF.',warnNoETF:'üö´ Pas de capital ETF!',
    warnNegative:'üö´ Retrait impossible.',warnHighSWR:'‚ö† Taux {0}% ‚Äî au-dessus de la r√®gle des 4%.',
    warnHighLegacy:'‚ö† H√©ritage > 60% du capital.',
    methodInfo:'Crises historiques (1973‚Äì2026): Choc p√©trolier, Black Monday, Dotcom, Crise financi√®re, COVID, 2022.',
    nominalEq:'nominal = {0} r√©el',rebalEvents:'R√©√©quilibrages',oppCostTitle:'‚öñÔ∏è Co√ªt d\'opportunit√© vs. B&H',oppHoldEnd:'B&H Richesse finale',oppStratEnd:'Strat√©gie Richesse finale',oppAhead:'Strat√©gie surperforme B&H de',oppBehind:'Strat√©gie sous-performe B&H de',bahLine:'Buy & Hold',themeDark:'Sombre',themeLight:'Clair',tipRebal:'R√©√©quilibrage automatique lorsque le d√©p√¥t atteint un nouveau sommet historique.',tipCapital:'Actifs liquides totaux au d√©part (√©pargne, 2e/3e pilier, placements).',tipDuration:'Combien d\'ann√©es l\'argent doit durer. Esp√©rance de vie moins √¢ge de retraite.',tipLegacy:'Montant √† transmettre. 0 = tout d√©penser.',tipInflation:'Hausse annuelle des prix. CH ~1% historique. Prudent: 2%.',tipReturn:'Rendement nominal annuel du portefeuille ETF. MSCI World moy. ~7% sur 30 ans.',tipWarChest:'R√©serve cash pour acheter en baisse. D√©ploy√©e automatiquement lors de chutes >1.5%.',tipBuffer:'Ann√©es de d√©penses en cash. En crise, on puise ici au lieu de vendre les ETF au plus bas.',tipPension:'Revenu mensuel de retraite (AVS/LPP). R√©duit les retraits ETF n√©cessaires.',tipMaxSWR:'Taux de retrait max. R√®gle des 4% classique. Plafonne le budget si le solveur calcule plus.',tipRent:'Loyer mensuel (sans charges).',tipUtilities:'Charges: chauffage, eau, d√©chets, assurance b√¢timent etc.',tipPropVal:'Valeur marchande actuelle de votre bien immobilier.',tipMortgage:'Dette hypoth√©caire restante. Soustraite de la valeur pour la fortune nette.',tipMortRate:'Taux hypoth√©caire annuel. CH: 1-2% (SARON), fixe: 1.5-3%.',tipMaint:'Frais d\'entretien + charges mensuels. R√®gle: ~1% de la valeur par an.',tipPropGrowth:'Appr√©ciation annuelle. CH moyenne ~1.5%. Zones urbaines plus √©lev√©.',tipImputed:'CH uniquement: valeur locative. Impos√©e comme revenu. Typ. 60-70% du loyer march√©.',tipIncTax:'Taux marginal sur pension + valeur locative. CH: 15-35%. DE: 30-45%.',tipCgTax:'Imp√¥t sur les gains. CH: 0% priv√©. DE: 26.375%. US: 15-20%.',tipWealthTax:'Imp√¥t annuel sur la fortune. CH: 0.1-0.5% cantonal. DE/US: 0%.',livingCosts:'Frais de subsistance',tipLiving:'Alimentation, transports, assurance maladie, loisirs, hobbys. Tout ce dont vous avez besoin au quotidien hors logement.',disclaimerTitle:'Avertissement',disclaimerText:'Ceci est un outil de simulation √† des fins √©ducatives uniquement. Il ne constitue pas un conseil financier, fiscal ou d\'investissement. Les performances pass√©es ne pr√©jugent pas des r√©sultats futurs. Consultez un conseiller financier qualifi√© avant toute d√©cision de retraite. L\'auteur d√©cline toute responsabilit√©.',
    housing:'Logement',rent:'üè† Location',ownership:'üè° Propri√©t√©',monthlyRent:'Loyer mensuel',utilities:'Charges / Frais annexes',propertyValue:'Valeur du bien',mortgage:'Solde hypoth√©caire',mortgageRate:'Taux hypoth√©caire (%)',maintenanceCost:'Entretien + Charges',propertyGrowth:'Croissance valeur (% p.a.)',imputedRent:'Valeur locative imput√©e',propertyNet:'Immobilier (net)',taxes:'Imp√¥ts',incomeTax:'Imp√¥t sur le revenu (%)',capitalGainsTax:'Imp√¥t sur les gains (%)',wealthTax:'Imp√¥t sur la fortune (% p.a.)',netBudget:'D√©tail du budget net',grossBudget:'Budget brut',taxDeduction:'Imp√¥ts',housingCosts:'Frais de logement',wealthTaxCost:'Imp√¥t fortune',netAvailable:'Net disponible',drawdownStops:'Arr√™ts de retrait (-15%)',stressResistance:'R√©sistance au stress (-50%)'},
es:{code:'ES',name:'Espa√±ol',
    title:'Capital Pilot',subtitle:'Simulaci√≥n de Retiro Estrat√©gico',
    baseParams:'Par√°metros Base',startCapital:'Capital Inicial',duration:'Duraci√≥n de Retiro',
    targetLegacy:'Herencia Objetivo',inflation:'Inflaci√≥n (% p.a.)',marketStrategy:'Mercado y Estrategia',
    expectedReturn:'Rendimiento Esperado (% p.a.)',warChest:'Reserva de Guerra (%)',cashBuffer:'Colch√≥n de Efectivo (A√±os)',
    pension:'Pensi√≥n (mensual)',allocation:'Asignaci√≥n de Capital',bufferShort:'Colch√≥n',warShort:'Guerra',
    monthlyBudget:'Presupuesto Mensual',month:'mes',cashBufferLabel:'Colch√≥n de Efectivo',chfSafety:'Seguridad',
    warChestLabel:'Reserva de Guerra',chfCrash:'para Crisis',purchasingPower:'Poder Adquisitivo',
    chfReal:'real (hoy)',strategyHealth:'Salud de la Estrategia',fragile:'Fr√°gil',stable:'Estable',
    robust:'Robusto',moderate:'Moderado',historicalSim:'Simulaci√≥n Hist√≥rica',yearsShort:'A√±os',
    etfDepot:'Dep√≥sito ETF',totalWealth:'Total',crisisPhase:'Crisis',
    withdrawalAnalysis:'An√°lisis de Retiros',totalWithdrawal:'Retiro total (nominal)',
    capitalUsed:'Capital utilizado',marketGain:'Ganancia del mercado',endWealth:'Patrimonio final',
    worstDepot:'Peor valor dep√≥sito',crisesSurvived:'Crisis superadas',bufferMonths:'Meses colch√≥n usados',
    yearsUnit:'A√±os',monthsUnit:'meses',monthsCoverage:'meses cobertura',
    inclPension:'incl. pensi√≥n',bearMarkets:'mercados bajistas',
    safetyLimits:'L√≠mites de Seguridad',maxSWR:'Tasa M√°x. Retiro (%)',conservative:'Conservador',aggressive:'Agresivo',
    swrCapped:'Tasa limitada a {0}%. Presupuesto reducido, herencia aumenta.',swrUncapped:'Tasa bajo l√≠mite.',
    projectedLegacy:'Herencia proyectada (det.)',
    warnLowETF:'‚ö† Menos del 15% en ETF.',warnNoETF:'üö´ Sin capital para ETF!',
    warnNegative:'üö´ Retiro imposible.',warnHighSWR:'‚ö† Tasa {0}% ‚Äî sobre la regla del 4%.',
    warnHighLegacy:'‚ö† Herencia > 60% del capital.',
    methodInfo:'Crisis hist√≥ricas (1973‚Äì2026): Crisis del petr√≥leo, Black Monday, Dotcom, Crisis financiera, COVID, 2022.',
    nominalEq:'nominal = {0} real',tipCapital:'Activos l√≠quidos totales al jubilarse (ahorros, pensiones, inversiones).',tipDuration:'A√±os que debe durar el dinero. Esperanza de vida menos edad de jubilaci√≥n.',tipLegacy:'Cu√°nto quieres dejar. 0 = gastar todo.',tipInflation:'Aumento anual de precios. Conservador: 2%.',tipReturn:'Rendimiento nominal anual del portafolio ETF. MSCI World prom. ~7% en 30 a√±os.',tipWarChest:'Reserva para comprar en ca√≠das. Se despliega autom√°ticamente en bajadas >1.5%.',tipBuffer:'A√±os de gastos en efectivo. En crisis, se retira de aqu√≠ en vez de vender ETFs en m√≠nimos.',tipPension:'Ingreso mensual de pensi√≥n. Reduce los retiros necesarios del ETF.',tipMaxSWR:'Tasa m√°xima de retiro. Regla del 4% cl√°sica. Limita el presupuesto si el c√°lculo da m√°s.',tipRent:'Alquiler mensual (sin gastos adicionales).',tipUtilities:'Gastos: calefacci√≥n, agua, residuos, seguro etc.',tipPropVal:'Valor actual de mercado de tu propiedad.',tipMortgage:'Deuda hipotecaria restante.',tipMortRate:'Tipo de inter√©s hipotecario anual.',tipMaint:'Costes mensuales de mantenimiento + gastos. Regla: ~1% del valor al a√±o.',tipPropGrowth:'Revalorizaci√≥n anual. Media ~1.5%.',tipImputed:'Solo CH: valor de alquiler imputado. Se grava como ingreso.',tipIncTax:'Tipo marginal sobre pensi√≥n + alquiler imputado.',tipCgTax:'Impuesto sobre ganancias. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'Impuesto anual sobre patrimonio. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'Gastos de vida',tipLiving:'Alimentaci√≥n, transporte, seguro m√©dico, ocio, hobbys. Todo lo necesario para vivir aparte de la vivienda.',disclaimerTitle:'Descargo',disclaimerText:'Esta es una herramienta de simulaci√≥n solo con fines educativos. No constituye asesoramiento financiero, fiscal ni de inversi√≥n. Rentabilidades pasadas no garantizan resultados futuros. Consulte a un asesor financiero cualificado. El autor no asume responsabilidad.',
    housing:'Vivienda',rent:'üè† Alquiler',ownership:'üè° Propiedad',monthlyRent:'Alquiler mensual',utilities:'Suministros / Gastos',propertyValue:'Valor del inmueble',mortgage:'Saldo hipotecario',mortgageRate:'Tipo hipotecario (%)',maintenanceCost:'Mantenimiento + Gastos',propertyGrowth:'Revalorizaci√≥n (% p.a.)',imputedRent:'Renta imputada',propertyNet:'Inmueble (neto)',taxes:'Impuestos',incomeTax:'IRPF (%)',capitalGainsTax:'Impuesto sobre ganancias (%)',wealthTax:'Impuesto sobre patrimonio (% p.a.)',netBudget:'Desglose de presupuesto neto',drawdownStops:'Paradas de retiro (-15%)',stressResistance:'Resistencia al estr√©s (-50%)'},
it:{code:'IT',name:'Italiano',
    title:'Capital Pilot',subtitle:'Simulazione di Prelievo Strategico',
    baseParams:'Parametri Base',startCapital:'Capitale Iniziale',duration:'Durata del Prelievo',
    targetLegacy:'Eredit√† Obiettivo',inflation:'Inflazione (% p.a.)',marketStrategy:'Mercato e Strategia',
    expectedReturn:'Rendimento Atteso (% p.a.)',warChest:'Riserva di Guerra (%)',cashBuffer:'Cuscinetto Cash (Anni)',
    pension:'Pensione (mensile)',allocation:'Allocazione Capitale',bufferShort:'Cuscinetto',warShort:'Guerra',
    monthlyBudget:'Budget Mensile',month:'mese',cashBufferLabel:'Cuscinetto Cash',chfSafety:'Sicurezza',
    warChestLabel:'Riserva di Guerra',chfCrash:'per Crash',purchasingPower:'Potere d\'Acquisto',
    chfReal:'reale (oggi)',strategyHealth:'Salute della Strategia',fragile:'Fragile',stable:'Stabile',
    robust:'Robusto',moderate:'Moderato',historicalSim:'Simulazione Storica',yearsShort:'Anni',
    etfDepot:'Deposito ETF',totalWealth:'Totale',crisisPhase:'Crisi',
    withdrawalAnalysis:'Analisi Prelievi',totalWithdrawal:'Prelievo totale',capitalUsed:'Capitale usato',
    marketGain:'Guadagno mercato',endWealth:'Patrimonio finale',worstDepot:'Peggiore valore deposito',
    crisesSurvived:'Crisi superate',bufferMonths:'Mesi cuscinetto usati',
    yearsUnit:'Anni',monthsUnit:'mesi',monthsCoverage:'mesi copertura',
    inclPension:'incl. pensione',bearMarkets:'mercati ribassisti',
    safetyLimits:'Limiti di Sicurezza',maxSWR:'Tasso Prelievo Max (%)',conservative:'Prudente',aggressive:'Aggressivo',
    swrCapped:'Tasso limitato a {0}%. Budget ridotto, eredit√† aumenta.',swrUncapped:'Tasso sotto il limite.',
    projectedLegacy:'Eredit√† proiettata (det.)',
    warnLowETF:'‚ö† Meno del 15% in ETF.',warnNoETF:'üö´ Nessun capitale ETF!',
    warnNegative:'üö´ Prelievo impossibile.',warnHighSWR:'‚ö† Tasso {0}% ‚Äî sopra la regola del 4%.',
    warnHighLegacy:'‚ö† Eredit√† > 60% del capitale.',
    methodInfo:'Crisi storiche (1973‚Äì2026): Crisi petrolifera, Black Monday, Dotcom, Crisi finanziaria, COVID, 2022.',
    nominalEq:'nominale = {0} reale',tipCapital:'Patrimonio liquido totale al pensionamento (risparmi, LPP, investimenti).',tipDuration:'Quanti anni devono durare i soldi. Aspettativa di vita meno et√† pensionamento.',tipLegacy:'Quanto vuoi lasciare. 0 = spendere tutto.',tipInflation:'Aumento annuo dei prezzi. Prudente: 2%.',tipReturn:'Rendimento nominale annuo del portafoglio ETF. MSCI World media ~7% su 30 anni.',tipWarChest:'Riserva per comprare in ribasso. Si attiva automaticamente in cali >1.5%.',tipBuffer:'Anni di spese in contanti. In crisi, si preleva da qui invece di vendere ETF ai minimi.',tipPension:'Reddito pensionistico mensile (AVS/LPP). Riduce i prelievi ETF necessari.',tipMaxSWR:'Tasso massimo di prelievo. Regola del 4% classica.',tipRent:'Affitto mensile (senza spese accessorie).',tipUtilities:'Spese accessorie: riscaldamento, acqua, rifiuti, assicurazione ecc.',tipPropVal:'Valore di mercato attuale dell\'immobile.',tipMortgage:'Debito ipotecario residuo.',tipMortRate:'Tasso ipotecario annuo.',tipMaint:'Costi mensili di manutenzione + spese. Regola: ~1% del valore all\'anno.',tipPropGrowth:'Rivalutazione annua. Media ~1.5%.',tipImputed:'Solo CH: valore locativo. Tassato come reddito. Tip. 60-70% dell\'affitto di mercato.',tipIncTax:'Aliquota marginale su pensione + valore locativo.',tipCgTax:'Imposta sulle plusvalenze. CH: 0% privato. DE: 26.375%. US: 15-20%.',tipWealthTax:'Imposta annua sul patrimonio. CH: 0.1-0.5% cantonale. DE/US: 0%.',livingCosts:'Costi di vita',tipLiving:'Alimentazione, trasporti, assicurazione sanitaria, tempo libero, hobby. Tutto il necessario oltre all\'alloggio.',disclaimerTitle:'Disclaimer',disclaimerText:'Questo √® uno strumento di simulazione solo a scopo educativo. Non costituisce consulenza finanziaria, fiscale o di investimento. I rendimenti passati non predicono risultati futuri. Consultare un consulente finanziario qualificato. L\'autore non si assume alcuna responsabilit√†.',
    housing:'Abitazione',rent:'üè† Affitto',ownership:'üè° Propriet√†',monthlyRent:'Affitto mensile',utilities:'Spese condominiali',propertyValue:'Valore immobile',mortgage:'Saldo mutuo',mortgageRate:'Tasso mutuo (%)',maintenanceCost:'Manutenzione + Spese',propertyGrowth:'Crescita valore (% p.a.)',imputedRent:'Rendita catastale',propertyNet:'Immobile (netto)',taxes:'Imposte',incomeTax:'IRPEF (%)',capitalGainsTax:'Imposta sulle plusvalenze (%)',wealthTax:'Imposta patrimoniale (% p.a.)',netBudget:'Dettaglio budget netto',drawdownStops:'Stop prelievi (-15%)',stressResistance:'Resistenza stress (-50%)'},
pt:{code:'PT',name:'Portugu√™s',title:'Capital Pilot',subtitle:'Simula√ß√£o de Retirada Estrat√©gica',baseParams:'Par√¢metros Base',startCapital:'Capital Inicial',duration:'Dura√ß√£o da Retirada',targetLegacy:'Heran√ßa Alvo',inflation:'Infla√ß√£o (% a.a.)',marketStrategy:'Mercado e Estrat√©gia',expectedReturn:'Retorno Esperado (% a.a.)',warChest:'Reserva de Guerra (%)',cashBuffer:'Colch√£o de Caixa (Anos)',pension:'Pens√£o (mensal)',allocation:'Aloca√ß√£o de Capital',bufferShort:'Colch√£o',warShort:'Guerra',monthlyBudget:'Or√ßamento Mensal',month:'m√™s',cashBufferLabel:'Colch√£o de Caixa',chfSafety:'Seguran√ßa',warChestLabel:'Reserva de Guerra',chfCrash:'para Crashes',purchasingPower:'Poder de Compra',chfReal:'real (hoje)',strategyHealth:'Sa√∫de da Estrat√©gia',fragile:'Fr√°gil',stable:'Est√°vel',robust:'Robusto',moderate:'Moderado',historicalSim:'Simula√ß√£o Hist√≥rica',yearsShort:'Anos',etfDepot:'Dep√≥sito ETF',totalWealth:'Total',crisisPhase:'Crise',withdrawalAnalysis:'An√°lise de Retiradas',totalWithdrawal:'Retirada total',capitalUsed:'Capital usado',marketGain:'Ganho do mercado',endWealth:'Patrim√¥nio final',worstDepot:'Pior valor dep√≥sito',crisesSurvived:'Crises superadas',bufferMonths:'Meses colch√£o usados',yearsUnit:'Anos',monthsUnit:'meses',monthsCoverage:'meses cobertura',inclPension:'incl. pens√£o',bearMarkets:'mercados em baixa',safetyLimits:'Limites de Seguran√ßa',maxSWR:'Taxa M√°x. Retirada (%)',conservative:'Conservador',aggressive:'Agressivo',swrCapped:'Taxa limitada a {0}%.',swrUncapped:'Taxa sob limite.',warnLowETF:'‚ö† Menos de 15% em ETF.',warnNoETF:'üö´ Sem capital ETF!',warnNegative:'üö´ Retirada imposs√≠vel.',warnHighSWR:'‚ö† Taxa {0}% ‚Äî acima da regra dos 4%.',warnHighLegacy:'‚ö† Heran√ßa > 60% do capital.',methodInfo:'Crises hist√≥ricas (1973‚Äì2026).',nominalEq:'nominal = {0} real',tipCapital:'Ativos l√≠quidos totais na aposentadoria (poupan√ßa, previd√™ncia, investimentos).',tipDuration:'Quantos anos o dinheiro deve durar.',tipLegacy:'Quanto quer deixar. 0 = gastar tudo.',tipInflation:'Aumento anual de pre√ßos. Conservador: 2%.',tipReturn:'Retorno nominal anual do portf√≥lio ETF. MSCI World m√©d. ~7% em 30 anos.',tipWarChest:'Reserva para comprar em quedas. Ativada automaticamente em quedas >1.5%.',tipBuffer:'Anos de despesas em dinheiro. Em crise, retira-se daqui em vez de vender ETFs.',tipPension:'Renda mensal de aposentadoria. Reduz saques necess√°rios do ETF.',tipMaxSWR:'Taxa m√°xima de retirada. Regra dos 4% cl√°ssica.',tipRent:'Aluguel mensal (sem encargos).',tipUtilities:'Encargos: aquecimento, √°gua, lixo, seguro etc.',tipPropVal:'Valor de mercado atual do im√≥vel.',tipMortgage:'D√≠vida hipotec√°ria restante.',tipMortRate:'Taxa de juros hipotec√°ria anual.',tipMaint:'Custos mensais de manuten√ß√£o + encargos.',tipPropGrowth:'Valoriza√ß√£o anual. M√©dia ~1.5%.',tipImputed:'Apenas CH: valor locativo imputado. Tributado como renda.',tipIncTax:'Al√≠quota marginal sobre pens√£o + valor locativo.',tipCgTax:'Imposto sobre ganhos. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'Imposto anual sobre patrim√¥nio. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'Custo de vida',tipLiving:'Alimenta√ß√£o, transporte, seguro sa√∫de, lazer, hobbys. Tudo para viver al√©m da moradia.',disclaimerTitle:'Aviso legal',disclaimerText:'Esta √© uma ferramenta de simula√ß√£o apenas para fins educacionais. N√£o constitui aconselhamento financeiro, fiscal ou de investimento. Resultados passados n√£o garantem retornos futuros. Consulte um consultor financeiro qualificado. O autor n√£o assume responsabilidade.',housing:'Habita√ß√£o',rent:'üè† Arrendamento',ownership:'üè° Propriedade',monthlyRent:'Renda mensal',utilities:'Servi√ßos / Encargos',propertyValue:'Valor do im√≥vel',mortgage:'Saldo da hipoteca',mortgageRate:'Taxa hipotec√°ria (%)',maintenanceCost:'Manuten√ß√£o + Encargos',propertyGrowth:'Valoriza√ß√£o (% a.a.)',imputedRent:'Renda imputada',propertyNet:'Im√≥vel (l√≠quido)',taxes:'Impostos',incomeTax:'IRS (%)',capitalGainsTax:'Imposto sobre mais-valias (%)',wealthTax:'Imposto sobre patrim√≥nio (% a.a.)',netBudget:'Detalhe do or√ßamento l√≠quido',drawdownStops:'Pausas de levantamento (-15%)',stressResistance:'Resist√™ncia ao stress (-50%)',projectedLegacy:'Heran√ßa projetada (det.)'},
nl:{code:'NL',name:'Nederlands',title:'Capital Pilot',subtitle:'Strategische Onttrekkingssimulatie',baseParams:'Basisparameters',startCapital:'Startkapitaal',duration:'Onttrekkingsduur',targetLegacy:'Doelerfenis',inflation:'Inflatie (% p.j.)',marketStrategy:'Markt & Strategie',expectedReturn:'Verwacht Rendement (% p.j.)',warChest:'Oorlogskas (%)',cashBuffer:'Cash Buffer (Jaren)',pension:'Pensioen (maandelijks)',allocation:'Kapitaalallocatie',bufferShort:'Buffer',warShort:'Oorlog',monthlyBudget:'Maandbudget',month:'maand',cashBufferLabel:'Cash Buffer',chfSafety:'Veiligheid',warChestLabel:'Oorlogskas',chfCrash:'voor Crashes',purchasingPower:'Koopkracht',chfReal:'re√´el (nu)',strategyHealth:'Strategiegezondheid',fragile:'Fragiel',stable:'Stabiel',robust:'Robuust',moderate:'Matig',historicalSim:'Historische Simulatie',yearsShort:'Jaar',etfDepot:'ETF Depot',totalWealth:'Totaal',crisisPhase:'Crisis',withdrawalAnalysis:'Onttrekkingsanalyse',totalWithdrawal:'Totale onttrekking',capitalUsed:'Kapitaal gebruikt',marketGain:'Marktwinst',endWealth:'Eindvermogen',worstDepot:'Laagste depotwaarde',crisesSurvived:'Crises overleefd',bufferMonths:'Buffermaanden gebruikt',yearsUnit:'Jaar',monthsUnit:'maanden',monthsCoverage:'maanden dekking',inclPension:'incl. pensioen',bearMarkets:'berenmarkten',safetyLimits:'Veiligheidslimieten',maxSWR:'Max Onttrekkingsratio (%)',conservative:'Conservatief',aggressive:'Agressief',swrCapped:'Ratio begrensd op {0}%.',swrUncapped:'Ratio onder limiet.',warnLowETF:'‚ö† Minder dan 15% in ETF.',warnNoETF:'üö´ Geen ETF kapitaal!',warnNegative:'üö´ Onttrekking onmogelijk.',warnHighSWR:'‚ö† Tarief {0}% ‚Äî boven de 4%-regel.',warnHighLegacy:'‚ö† Erfenis > 60% van kapitaal.',methodInfo:'Historische crises (1973‚Äì2026).',nominalEq:'nominaal = {0} re√´el',tipCapital:'Totale liquide middelen bij pensionering (spaargeld, pensioen, beleggingen).',tipDuration:'Hoeveel jaar het geld moet meegaan.',tipLegacy:'Hoeveel je wilt nalaten. 0 = alles opmaken.',tipInflation:'Jaarlijkse prijsstijging. Conservatief: 2%.',tipReturn:'Nominaal jaarrendement ETF-portefeuille. MSCI World gem. ~7% over 30 jaar.',tipWarChest:'Reserve om bij te kopen bij crashes. Wordt automatisch ingezet bij dalingen >1.5%.',tipBuffer:'Jaren aan uitgaven in cash. Bij crisis wordt hieruit opgenomen i.p.v. ETFs te verkopen.',tipPension:'Maandelijks pensioeninkomen. Vermindert benodigde ETF-opnames.',tipMaxSWR:'Maximale veilige opnameratio. Klassieke 4%-regel.',tipRent:'Maandelijkse huur (kale huur).',tipUtilities:'Bijkomende kosten: verwarming, water, afval, verzekering etc.',tipPropVal:'Huidige marktwaarde van uw woning.',tipMortgage:'Resterende hypotheekschuld.',tipMortRate:'Jaarlijks hypotheekrentepercentage.',tipMaint:'Maandelijkse onderhoudskosten + bijkomende kosten.',tipPropGrowth:'Jaarlijkse waardestijging. Gemiddeld ~1.5%.',tipImputed:'Alleen CH: eigenwoningforfait. Belast als inkomen.',tipIncTax:'Marginaal tarief op pensioen + eigenwoningforfait.',tipCgTax:'Belasting op vermogenswinst. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'Jaarlijkse vermogensbelasting. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'Levensonderhoud',tipLiving:'Voeding, vervoer, zorgverzekering, vrije tijd, hobby\'s. Alles wat je nodig hebt buiten wonen.',disclaimerTitle:'Disclaimer',disclaimerText:'Dit is een simulatietool uitsluitend voor educatieve doeleinden. Het vormt geen financieel, fiscaal of beleggingsadvies. In het verleden behaalde resultaten bieden geen garantie voor de toekomst. Raadpleeg een gekwalificeerd financieel adviseur. De auteur aanvaardt geen aansprakelijkheid.',housing:'Wonen',rent:'üè† Huur',ownership:'üè° Eigendom',monthlyRent:'Maandelijkse huur',utilities:'Nutsvoorzieningen',propertyValue:'Woningwaarde',mortgage:'Hypotheeksaldo',mortgageRate:'Hypotheekrente (%)',maintenanceCost:'Onderhoud + Kosten',propertyGrowth:'Waardestijging (% p.j.)',imputedRent:'Huurwaarde eigenwoningforfait',propertyNet:'Woning (netto)',taxes:'Belastingen',incomeTax:'Inkomstenbelasting (%)',capitalGainsTax:'Vermogenswinstbelasting (%)',wealthTax:'Vermogensbelasting (% p.j.)',netBudget:'Netto budget overzicht',drawdownStops:'Opname-stops (-15%)',stressResistance:'Stressweerstand (-50%)',projectedLegacy:'Geprojecteerde erfenis (det.)'},
pl:{code:'PL',name:'Polski',title:'Capital Pilot',subtitle:'Symulacja Strategiczna Wyp≈Çat',baseParams:'Parametry bazowe',startCapital:'Kapita≈Ç poczƒÖtkowy',duration:'Okres wyp≈Çat',targetLegacy:'Docelowy spadek',inflation:'Inflacja (% r.r.)',marketStrategy:'Rynek i Strategia',expectedReturn:'Oczekiwany zwrot (% r.r.)',warChest:'Rezerwa wojenna (%)',cashBuffer:'Bufor got√≥wkowy (Lata)',pension:'Emerytura (mies.)',allocation:'Alokacja kapita≈Çu',bufferShort:'Bufor',warShort:'Rez.',monthlyBudget:'Bud≈ºet miesiƒôczny',month:'miesiƒÖc',cashBufferLabel:'Bufor got√≥wkowy',chfSafety:'Bezp.',warChestLabel:'Rezerwa wojenna',chfCrash:'na kryzysy',purchasingPower:'Si≈Ça nabywcza',chfReal:'realne (dzi≈õ)',strategyHealth:'Zdrowie strategii',fragile:'Krucha',stable:'Stabilna',robust:'Solidna',moderate:'Umiarkowana',historicalSim:'Symulacja historyczna',yearsShort:'Lat',etfDepot:'Depozyt ETF',totalWealth:'Razem',crisisPhase:'Kryzys',withdrawalAnalysis:'Analiza wyp≈Çat',totalWithdrawal:'≈ÅƒÖczna wyp≈Çata',capitalUsed:'U≈ºyty kapita≈Ç',marketGain:'Zysk rynkowy',endWealth:'MajƒÖtek ko≈Ñcowy',worstDepot:'Najgorszy depozyt',crisesSurvived:'Prze≈ºyte kryzysy',bufferMonths:'MiesiƒÖce bufora',yearsUnit:'Lat',monthsUnit:'miesiƒôcy',monthsCoverage:'mies. pokrycia',inclPension:'z emeryturƒÖ',bearMarkets:'bessy',safetyLimits:'Limity Bezpiecze≈Ñstwa',maxSWR:'Maks. Stopa Wyp≈Çat (%)',conservative:'Konserwatywny',aggressive:'Agresywny',swrCapped:'Stopa ograniczona do {0}%.',swrUncapped:'Stopa poni≈ºej limitu.',warnLowETF:'‚ö† Poni≈ºej 15% w ETF.',warnNoETF:'üö´ Brak kapita≈Çu ETF!',warnNegative:'üö´ Wyp≈Çata niemo≈ºliwa.',warnHighSWR:'‚ö† Stopa {0}% ‚Äî powy≈ºej 4%.',warnHighLegacy:'‚ö† Spadek > 60% kapita≈Çu.',methodInfo:'Kryzysy historyczne (1973‚Äì2026).',nominalEq:'nominalnie = {0} realnie',tipCapital:'≈ÅƒÖczne aktywa p≈Çynne na emeryturze (oszczƒôdno≈õci, OFE, inwestycje).',tipDuration:'Ile lat pieniƒÖdze muszƒÖ wystarczyƒá.',tipLegacy:'Ile chcesz zostawiƒá. 0 = wydaƒá wszystko.',tipInflation:'Roczny wzrost cen. Konserwatywnie: 2%.',tipReturn:'Nominalny roczny zwrot portfela ETF. MSCI World ≈õr. ~7% przez 30 lat.',tipWarChest:'Rezerwa na zakupy przy spadkach. Automatycznie uruchamiana przy >1.5%.',tipBuffer:'Lata wydatk√≥w w got√≥wce. W kryzysie wyp≈Çata stƒÖd zamiast sprzeda≈ºy ETF.',tipPension:'Miesiƒôczny doch√≥d emerytalny. Zmniejsza potrzebne wyp≈Çaty z ETF.',tipMaxSWR:'Maksymalna bezpieczna stopa wyp≈Çat. Klasyczna regu≈Ça 4%.',tipRent:'Miesiƒôczny czynsz (bez op≈Çat).',tipUtilities:'Op≈Çaty: ogrzewanie, woda, ≈õmieci, ubezpieczenie itp.',tipPropVal:'Aktualna warto≈õƒá rynkowa nieruchomo≈õci.',tipMortgage:'Pozosta≈Çe zad≈Çu≈ºenie hipoteczne.',tipMortRate:'Roczna stopa oprocentowania kredytu.',tipMaint:'Miesiƒôczne koszty utrzymania + op≈Çaty.',tipPropGrowth:'Roczny wzrost warto≈õci. ≈örednio ~1.5%.',tipImputed:'Tylko CH: warto≈õƒá czynszowa. Opodatkowana jako doch√≥d.',tipIncTax:'Kra≈Ñcowa stawka podatku od emerytury + czynszu imputowanego.',tipCgTax:'Podatek od zysk√≥w kapita≈Çowych. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'Roczny podatek majƒÖtkowy. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'Koszty utrzymania',tipLiving:'≈ªywno≈õƒá, transport, ubezpieczenie zdrowotne, rozrywka, hobby. Wszystko opr√≥cz mieszkania.',disclaimerTitle:'Zastrze≈ºenie',disclaimerText:'To narzƒôdzie symulacyjne wy≈ÇƒÖcznie do cel√≥w edukacyjnych. Nie stanowi porady finansowej, podatkowej ani inwestycyjnej. Wyniki historyczne nie gwarantujƒÖ przysz≈Çych rezultat√≥w. Skonsultuj siƒô z wykwalifikowanym doradcƒÖ finansowym. Autor nie ponosi odpowiedzialno≈õci.',housing:'Mieszkanie',rent:'üè† Wynajem',ownership:'üè° W≈Çasno≈õƒá',monthlyRent:'Miesiƒôczny czynsz',utilities:'Op≈Çaty dodatkowe',propertyValue:'Warto≈õƒá nieruchomo≈õci',mortgage:'Saldo kredytu',mortgageRate:'Oprocentowanie kredytu (%)',maintenanceCost:'Utrzymanie + Op≈Çaty',propertyGrowth:'Wzrost warto≈õci (% r.r.)',imputedRent:'Czynsz imputowany',propertyNet:'Nieruchomo≈õƒá (netto)',taxes:'Podatki',incomeTax:'Podatek dochodowy (%)',capitalGainsTax:'Podatek od zysk√≥w (%)',wealthTax:'Podatek majƒÖtkowy (% r.r.)',netBudget:'Zestawienie bud≈ºetu netto',drawdownStops:'Zatrzymania wyp≈Çat (-15%)',stressResistance:'Odporno≈õƒá na stres (-50%)',projectedLegacy:'Przewidywany spadek (det.)'},
ru:{code:'RU',name:'–†—É—Å—Å–∫–∏–π',title:'Capital Pilot',subtitle:'–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —Å–Ω—è—Ç–∏—è —Å—Ä–µ–¥—Å—Ç–≤',baseParams:'–ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã',startCapital:'–ù–∞—á–∞–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª',duration:'–°—Ä–æ–∫ —Å–Ω—è—Ç–∏—è',targetLegacy:'–¶–µ–ª–µ–≤–æ–µ –Ω–∞—Å–ª–µ–¥—Å—Ç–≤–æ',inflation:'–ò–Ω—Ñ–ª—è—Ü–∏—è (% –≥.)',marketStrategy:'–†—ã–Ω–æ–∫ –∏ –°—Ç—Ä–∞—Ç–µ–≥–∏—è',expectedReturn:'–û–∂–∏–¥–∞–µ–º–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å (% –≥.)',warChest:'–†–µ–∑–µ—Ä–≤ (%)',cashBuffer:'–ö—ç—à-–±—É—Ñ–µ—Ä (–ì–æ–¥—ã)',pension:'–ü–µ–Ω—Å–∏—è (–º–µ—Å.)',allocation:'–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞–ø–∏—Ç–∞–ª–∞',bufferShort:'–ë—É—Ñ–µ—Ä',warShort:'–†–µ–∑–µ—Ä–≤',monthlyBudget:'–ú–µ—Å—è—á–Ω—ã–π –±—é–¥–∂–µ—Ç',month:'–º–µ—Å',cashBufferLabel:'–ö—ç—à-–±—É—Ñ–µ—Ä',chfSafety:'–ë–µ–∑–æ–ø–∞—Å–Ω.',warChestLabel:'–†–µ–∑–µ—Ä–≤',chfCrash:'–Ω–∞ –∫—Ä–∏–∑–∏—Å',purchasingPower:'–ü–æ–∫—É–ø–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏–ª–∞',chfReal:'—Ä–µ–∞–ª—å–Ω.',strategyHealth:'–ó–¥–æ—Ä–æ–≤—å–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏',fragile:'–•—Ä—É–ø–∫–∞—è',stable:'–°—Ç–∞–±–∏–ª—å–Ω–∞—è',robust:'–£—Å—Ç–æ–π—á–∏–≤–∞—è',moderate:'–°—Ä–µ–¥–Ω—è—è',historicalSim:'–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —Å–∏–º—É–ª—è—Ü–∏—è',yearsShort:'–õ–µ—Ç',etfDepot:'ETF –î–µ–ø–æ',totalWealth:'–ò—Ç–æ–≥–æ',crisisPhase:'–ö—Ä–∏–∑–∏—Å',withdrawalAnalysis:'–ê–Ω–∞–ª–∏–∑ —Å–Ω—è—Ç–∏–π',totalWithdrawal:'–í—Å–µ–≥–æ —Å–Ω—è—Ç–æ',capitalUsed:'–ò—Å–ø–æ–ª—å–∑–æ–≤. –∫–∞–ø–∏—Ç–∞–ª',marketGain:'–ü—Ä–∏–±—ã–ª—å —Ä—ã–Ω–∫–∞',endWealth:'–ò—Ç–æ–≥–æ–≤—ã–π –∫–∞–ø–∏—Ç–∞–ª',worstDepot:'–ú–∏–Ω. –∑–Ω–∞—á–µ–Ω–∏–µ –¥–µ–ø–æ',crisesSurvived:'–ü–µ—Ä–µ–∂–∏—Ç–æ –∫—Ä–∏–∑–∏—Å–æ–≤',bufferMonths:'–ú–µ—Å. –±—É—Ñ–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑.',yearsUnit:'–õ–µ—Ç',monthsUnit:'–º–µ—Å.',monthsCoverage:'–º–µ—Å. –ø–æ–∫—Ä—ã—Ç–∏—è',inclPension:'–≤–∫–ª. –ø–µ–Ω—Å–∏—é',bearMarkets:'–º–µ–¥–≤–µ–∂—å–∏—Ö —Ä—ã–Ω–∫–æ–≤',safetyLimits:'–õ–∏–º–∏—Ç—ã –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏',maxSWR:'–ú–∞–∫—Å. –°—Ç–∞–≤–∫–∞ –°–Ω—è—Ç–∏—è (%)',conservative:'–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ',aggressive:'–ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ',swrCapped:'–°—Ç–∞–≤–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ {0}%.',swrUncapped:'–°—Ç–∞–≤–∫–∞ –Ω–∏–∂–µ –ª–∏–º–∏—Ç–∞.',warnLowETF:'‚ö† –ú–µ–Ω–µ–µ 15% –≤ ETF.',warnNoETF:'üö´ –ù–µ—Ç –∫–∞–ø–∏—Ç–∞–ª–∞ ETF!',warnNegative:'üö´ –°–Ω—è—Ç–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.',warnHighSWR:'‚ö† –°—Ç–∞–≤–∫–∞ {0}% ‚Äî –≤—ã—à–µ –ø—Ä–∞–≤–∏–ª–∞ 4%.',warnHighLegacy:'‚ö† –ù–∞—Å–ª–µ–¥—Å—Ç–≤–æ > 60% –∫–∞–ø–∏—Ç–∞–ª–∞.',methodInfo:'–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∫—Ä–∏–∑–∏—Å—ã (1973‚Äì2026).',nominalEq:'–Ω–æ–º–∏–Ω–∞–ª = {0} —Ä–µ–∞–ª—å–Ω.',tipCapital:'–û–±—â–∏–µ –ª–∏–∫–≤–∏–¥–Ω—ã–µ –∞–∫—Ç–∏–≤—ã –Ω–∞ –ø–µ–Ω—Å–∏–∏ (—Å–±–µ—Ä–µ–∂–µ–Ω–∏—è, –ø–µ–Ω—Å–∏–æ–Ω–Ω—ã–µ, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏).',tipDuration:'–°–∫–æ–ª—å–∫–æ –ª–µ—Ç –¥–æ–ª–∂–Ω—ã —Ö–≤–∞—Ç–∏—Ç—å –¥–µ–Ω—å–≥–∏.',tipLegacy:'–°–∫–æ–ª—å–∫–æ —Ö–æ—Ç–∏—Ç–µ –æ—Å—Ç–∞–≤–∏—Ç—å. 0 = –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –≤—Å—ë.',tipInflation:'–ì–æ–¥–æ–≤–æ–π —Ä–æ—Å—Ç —Ü–µ–Ω. –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ: 2%.',tipReturn:'–ù–æ–º–∏–Ω–∞–ª—å–Ω–∞—è –≥–æ–¥–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å ETF. MSCI World —Å—Ä. ~7% –∑–∞ 30 –ª–µ—Ç.',tipWarChest:'–†–µ–∑–µ—Ä–≤ –¥–ª—è –ø–æ–∫—É–ø–æ–∫ –Ω–∞ –ø–∞–¥–µ–Ω–∏–∏. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ >1.5%.',tipBuffer:'–ì–æ–¥—ã —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞–ª–∏—á–Ω—ã–º–∏. –í –∫—Ä–∏–∑–∏—Å —Å–Ω–∏–º–∞–µ—Ç—Å—è –æ—Ç—Å—é–¥–∞ –≤–º–µ—Å—Ç–æ –ø—Ä–æ–¥–∞–∂–∏ ETF.',tipPension:'–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ø–µ–Ω—Å–∏–æ–Ω–Ω—ã–π –¥–æ—Ö–æ–¥. –°–Ω–∏–∂–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–Ω—è—Ç–∏—è –∏–∑ ETF.',tipMaxSWR:'–ú–∞–∫—Å. –±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ —Å–Ω—è—Ç–∏—è. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ 4%.',tipRent:'–ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –∞—Ä–µ–Ω–¥–Ω–∞—è –ø–ª–∞—Ç–∞ (–±–µ–∑ –∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã—Ö).',tipUtilities:'–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ: –æ—Ç–æ–ø–ª–µ–Ω–∏–µ, –≤–æ–¥–∞, –º—É—Å–æ—Ä, —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –∏ —Ç.–¥.',tipPropVal:'–¢–µ–∫—É—â–∞—è —Ä—ã–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏.',tipMortgage:'–û—Å—Ç–∞—Ç–æ–∫ –∏–ø–æ—Ç–µ—á–Ω–æ–≥–æ –¥–æ–ª–≥–∞.',tipMortRate:'–ì–æ–¥–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ –∏–ø–æ—Ç–µ–∫–∏.',tipMaint:'–ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ + –∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ.',tipPropGrowth:'–ì–æ–¥–æ–≤–æ–µ —É–¥–æ—Ä–æ–∂–∞–Ω–∏–µ. –í —Å—Ä–µ–¥–Ω–µ–º ~1.5%.',tipImputed:'–¢–æ–ª—å–∫–æ CH: –≤–º–µ–Ω—ë–Ω–Ω–∞—è –∞—Ä–µ–Ω–¥–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å. –û–±–ª–∞–≥–∞–µ—Ç—Å—è –∫–∞–∫ –¥–æ—Ö–æ–¥.',tipIncTax:'–ü—Ä–µ–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –Ω–∞ –ø–µ–Ω—Å–∏—é + –≤–º–µ–Ω—ë–Ω–Ω—É—é –∞—Ä–µ–Ω–¥—É.',tipCgTax:'–ù–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏—Ä–æ—Å—Ç –∫–∞–ø–∏—Ç–∞–ª–∞. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'–ï–∂–µ–≥–æ–¥–Ω—ã–π –Ω–∞–ª–æ–≥ –Ω–∞ –∏–º—É—â–µ—Å—Ç–≤–æ. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'–ü—Ä–æ–∂–∏—Ç–æ—á–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã',tipLiving:'–ü–∏—Ç–∞–Ω–∏–µ, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –º–µ–¥—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞, –¥–æ—Å—É–≥, —Ö–æ–±–±–∏. –í—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∫—Ä–æ–º–µ –∂–∏–ª—å—è.',disclaimerTitle:'–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏',disclaimerText:'–≠—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö. –û–Ω –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π, –Ω–∞–ª–æ–≥–æ–≤–æ–π –∏–ª–∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–µ–π. –ü—Ä–æ—à–ª—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –±—É–¥—É—â–∏—Ö. –ü—Ä–æ–∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–π—Ç–µ—Å—å —Å –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º —Å–æ–≤–µ—Ç–Ω–∏–∫–æ–º. –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.',housing:'–ñ–∏–ª—å—ë',rent:'üè† –ê—Ä–µ–Ω–¥–∞',ownership:'üè° –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å',monthlyRent:'–ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –∞—Ä–µ–Ω–¥–∞',utilities:'–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏',propertyValue:'–°—Ç–æ–∏–º–æ—Å—Ç—å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏',mortgage:'–û—Å—Ç–∞—Ç–æ–∫ –∏–ø–æ—Ç–µ–∫–∏',mortgageRate:'–ò–ø–æ—Ç–µ—á–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (%)',maintenanceCost:'–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ + —Ä–∞—Å—Ö–æ–¥—ã',propertyGrowth:'–†–æ—Å—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (% –≥.)',imputedRent:'–í–º–µ–Ω—ë–Ω–Ω–∞—è –∞—Ä–µ–Ω–¥–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å',propertyNet:'–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å (–Ω–µ—Ç—Ç–æ)',taxes:'–ù–∞–ª–æ–≥–∏',incomeTax:'–ü–æ–¥–æ—Ö–æ–¥–Ω—ã–π –Ω–∞–ª–æ–≥ (%)',capitalGainsTax:'–ù–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏—Ä–æ—Å—Ç –∫–∞–ø–∏—Ç–∞–ª–∞ (%)',wealthTax:'–ù–∞–ª–æ–≥ –Ω–∞ –∏–º—É—â–µ—Å—Ç–≤–æ (% –≥.)',netBudget:'–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –±—é–¥–∂–µ—Ç–∞',drawdownStops:'–û—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–Ω—è—Ç–∏–π (-15%)',stressResistance:'–°—Ç—Ä–µ—Å—Å-—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (-50%)',projectedLegacy:'–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ–µ –Ω–∞—Å–ª–µ–¥—Å—Ç–≤–æ (–¥–µ—Ç.)'},
tr:{code:'TR',name:'T√ºrk√ße',title:'Capital Pilot',subtitle:'Stratejik √áekim Sim√ºlasyonu',baseParams:'Temel Parametreler',startCapital:'Ba≈ülangƒ±√ß Sermayesi',duration:'√áekim S√ºresi',targetLegacy:'Hedef Miras',inflation:'Enflasyon (% y.b.)',marketStrategy:'Piyasa ve Strateji',expectedReturn:'Beklenen Getiri (% y.b.)',warChest:'Sava≈ü Sandƒ±ƒüƒ± (%)',cashBuffer:'Nakit Tampon (Yƒ±l)',pension:'Emekli Maa≈üƒ± (aylƒ±k)',allocation:'Sermaye Daƒüƒ±lƒ±mƒ±',bufferShort:'Tampon',warShort:'Sava≈ü',monthlyBudget:'Aylƒ±k B√ºt√ße',month:'ay',cashBufferLabel:'Nakit Tampon',chfSafety:'G√ºvenlik',warChestLabel:'Sava≈ü Sandƒ±ƒüƒ±',chfCrash:'Kriz ƒ∞√ßin',purchasingPower:'Satƒ±n Alma G√ºc√º',chfReal:'reel (bug√ºn)',strategyHealth:'Strateji Saƒülƒ±ƒüƒ±',fragile:'Kƒ±rƒ±lgan',stable:'Kararlƒ±',robust:'Saƒülam',moderate:'Orta',historicalSim:'Tarihsel Sim√ºlasyon',yearsShort:'Yƒ±l',etfDepot:'ETF Deposu',totalWealth:'Toplam',crisisPhase:'Kriz',withdrawalAnalysis:'√áekim Analizi',totalWithdrawal:'Toplam √ßekim',capitalUsed:'Kullanƒ±lan sermaye',marketGain:'Piyasa kazancƒ±',endWealth:'Biti≈ü varlƒ±ƒüƒ±',worstDepot:'En d√º≈ü√ºk depo',crisesSurvived:'Atlatƒ±lan krizler',bufferMonths:'Tampon aylarƒ±',yearsUnit:'Yƒ±l',monthsUnit:'ay',monthsCoverage:'ay kapsam',inclPension:'emekli maa≈üƒ± dahil',bearMarkets:'ayƒ± piyasasƒ±',safetyLimits:'G√ºvenlik Limitleri',maxSWR:'Maks. √áekim Oranƒ± (%)',conservative:'Temkinli',aggressive:'Agresif',swrCapped:'Oran {0}% ile sƒ±nƒ±rlƒ±.',swrUncapped:'Oran limit altƒ±nda.',warnLowETF:'‚ö† ETF\'de %15\'den az.',warnNoETF:'üö´ ETF sermayesi yok!',warnNegative:'üö´ √áekim imkansƒ±z.',warnHighSWR:'‚ö† Oran {0}% ‚Äî %4 kuralƒ±nƒ±n √ºst√ºnde.',warnHighLegacy:'‚ö† Miras > sermayenin %60\'ƒ±.',methodInfo:'Tarihsel krizler (1973‚Äì2026).',nominalEq:'nominal = {0} reel',tipCapital:'Emeklilikte toplam likit varlƒ±klar (birikim, emeklilik, yatƒ±rƒ±mlar).',tipDuration:'Paranƒ±n ka√ß yƒ±l yetmesi gerektiƒüi.',tipLegacy:'Ne kadar bƒ±rakmak istiyorsunuz. 0 = hepsini harcamak.',tipInflation:'Yƒ±llƒ±k fiyat artƒ±≈üƒ±. Temkinli: %2.',tipReturn:'ETF portf√∂y√ºn√ºn nominal yƒ±llƒ±k getirisi. MSCI World ort. 30 yƒ±lda ~%7.',tipWarChest:'D√º≈ü√º≈ülerde alƒ±m i√ßin nakit rezerv. D√º≈ü√º≈ülerde otomatik devreye girer.',tipBuffer:'Nakit olarak tutulan yƒ±llƒ±k gider. Krizde ETF satmak yerine buradan √ßekilir.',tipPension:'Aylƒ±k emekli maa≈üƒ±. Gerekli ETF √ßekimlerini azaltƒ±r.',tipMaxSWR:'Maks. g√ºvenli √ßekim oranƒ±. Klasik %4 kuralƒ±.',tipRent:'Aylƒ±k kira (aidat hari√ß).',tipUtilities:'Yan giderler: ƒ±sƒ±nma, su, √ß√∂p, sigorta vb.',tipPropVal:'M√ºlk√ºn g√ºncel piyasa deƒüeri.',tipMortgage:'Kalan ipotek borcu.',tipMortRate:'Yƒ±llƒ±k ipotek faiz oranƒ±.',tipMaint:'Aylƒ±k bakƒ±m + yan giderler.',tipPropGrowth:'Yƒ±llƒ±k deƒüer artƒ±≈üƒ±. Ortalama ~%1.5.',tipImputed:'Sadece CH: emsal kira deƒüeri. Gelir olarak vergilendirilir.',tipIncTax:'Emekli maa≈üƒ± + emsal kira √ºzerinden marjinal vergi oranƒ±.',tipCgTax:'Sermaye kazancƒ± vergisi. CH: %0. DE: %26.375. US: %15-20.',tipWealthTax:'Yƒ±llƒ±k servet vergisi. CH: %0.1-0.5. DE/US: %0.',livingCosts:'Ya≈üam giderleri',tipLiving:'Yiyecek, ula≈üƒ±m, saƒülƒ±k sigortasƒ±, eƒülence, hobiler. Konut dƒ±≈üƒ±nda ya≈üam i√ßin gereken her ≈üey.',disclaimerTitle:'Sorumluluk reddi',disclaimerText:'Bu yalnƒ±zca eƒüitim ama√ßlƒ± bir sim√ºlasyon aracƒ±dƒ±r. Finansal, vergisel veya yatƒ±rƒ±m tavsiyesi niteliƒüi ta≈üƒ±maz. Ge√ßmi≈ü performans gelecekteki sonu√ßlarƒ± garanti etmez. Nitelikli bir mali m√º≈üavire danƒ±≈üƒ±n. Yazar hi√ßbir sorumluluk kabul etmez.',housing:'Konut',rent:'üè† Kiralƒ±k',ownership:'üè° M√ºlkiyet',monthlyRent:'Aylƒ±k kira',utilities:'Faturalar / Giderler',propertyValue:'M√ºlk deƒüeri',mortgage:'ƒ∞potek bakiyesi',mortgageRate:'ƒ∞potek faizi (%)',maintenanceCost:'Bakƒ±m + Giderler',propertyGrowth:'Deƒüer artƒ±≈üƒ± (% y.b.)',imputedRent:'Emsal kira bedeli',propertyNet:'M√ºlk (net)',taxes:'Vergiler',incomeTax:'Gelir vergisi (%)',capitalGainsTax:'Sermaye kazancƒ± vergisi (%)',wealthTax:'Servet vergisi (% y.b.)',netBudget:'Net b√ºt√ße d√∂k√ºm√º',drawdownStops:'√áekim durmalarƒ± (-15%)',stressResistance:'Stres direnci (-50%)',projectedLegacy:'Tahmini miras (det.)'},
sv:{code:'SV',name:'Svenska',title:'Capital Pilot',subtitle:'Strategisk Uttagssimulering',baseParams:'Basparametrar',startCapital:'Startkapital',duration:'Uttagsperiod',targetLegacy:'M√•lat Arv',inflation:'Inflation (% p.a.)',marketStrategy:'Marknad & Strategi',expectedReturn:'F√∂rv√§ntad Avkastning (% p.a.)',warChest:'Krigskassa (%)',cashBuffer:'Kontantbuffert (√Ör)',pension:'Pension (m√•nadsvis)',allocation:'Kapitalallokering',bufferShort:'Buffert',warShort:'Krig',monthlyBudget:'M√•nadsbudget',month:'m√•nad',cashBufferLabel:'Kontantbuffert',chfSafety:'S√§kerhet',warChestLabel:'Krigskassa',chfCrash:'f√∂r Krascher',purchasingPower:'K√∂pkraft',chfReal:'realt (idag)',strategyHealth:'Strategih√§lsa',fragile:'Sk√∂r',stable:'Stabil',robust:'Robust',moderate:'M√•ttlig',historicalSim:'Historisk Simulering',yearsShort:'√Ör',etfDepot:'ETF-Depot',totalWealth:'Totalt',crisisPhase:'Kris',withdrawalAnalysis:'Uttagsanalys',totalWithdrawal:'Totalt uttag',capitalUsed:'Kapital anv√§nt',marketGain:'Marknadsvinst',endWealth:'Slutf√∂rm√∂genhet',worstDepot:'L√§gsta depotv√§rde',crisesSurvived:'Kriser √∂verlevda',bufferMonths:'Buffertm√•nader',yearsUnit:'√Ör',monthsUnit:'m√•nader',monthsCoverage:'m√•nader t√§ckning',inclPension:'inkl. pension',bearMarkets:'bj√∂rnmarknader',safetyLimits:'S√§kerhetsgr√§nser',maxSWR:'Max Uttagskvot (%)',conservative:'Konservativ',aggressive:'Aggressiv',swrCapped:'Kvot begr√§nsad till {0}%.',swrUncapped:'Kvot under gr√§ns.',warnLowETF:'‚ö† Under 15% i ETF.',warnNoETF:'üö´ Inget ETF-kapital!',warnNegative:'üö´ Uttag om√∂jligt.',warnHighSWR:'‚ö† Uttag {0}% ‚Äî √∂ver 4%-regeln.',warnHighLegacy:'‚ö† Arv > 60% av kapital.',methodInfo:'Historiska kriser (1973‚Äì2026).',nominalEq:'nominellt = {0} realt',tipCapital:'Totala likvida tillg√•ngar vid pension (sparande, tj√§nstepension, investeringar).',tipDuration:'Hur m√•nga √•r pengarna m√•ste r√§cka.',tipLegacy:'Hur mycket du vill l√§mna. 0 = f√∂rbruka allt.',tipInflation:'√Örlig pris√∂kning. F√∂rsiktigt: 2%.',tipReturn:'Nominell √•rsavkastning ETF-portf√∂lj. MSCI World snitt ~7% √∂ver 30 √•r.',tipWarChest:'Kassa f√∂r k√∂p vid nedg√•ngar. Aktiveras automatiskt vid fall >1.5%.',tipBuffer:'√Ör av utgifter i kontanter. Vid kris tas det h√§rifr√•n ist√§llet f√∂r att s√§lja ETF.',tipPension:'M√•natlig pensionsinkomst. Minskar n√∂dv√§ndiga ETF-uttag.',tipMaxSWR:'Max s√§ker uttagskvot. Klassiska 4%-regeln.',tipRent:'M√•nadshyra (kallhyra).',tipUtilities:'Driftskostnader: v√§rme, vatten, sopor, f√∂rs√§kring etc.',tipPropVal:'Aktuellt marknadsv√§rde p√• fastigheten.',tipMortgage:'Kvarvarande bol√•neskuld.',tipMortRate:'√Örlig bol√•ner√§nta.',tipMaint:'M√•natliga underh√•llskostnader + driftskostnader.',tipPropGrowth:'√Örlig v√§rde√∂kning. Snitt ~1.5%.',tipImputed:'Endast CH: Eigenmietwert. Beskattas som inkomst.',tipIncTax:'Marginalskatt p√• pension + bostadsf√∂rm√•n.',tipCgTax:'Skatt p√• kapitalvinst. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'√Örlig f√∂rm√∂genhetsskatt. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'Levnadskostnader',tipLiving:'Mat, transport, sjukf√∂rs√§kring, fritid, hobbyer. Allt du beh√∂ver ut√∂ver boende.',disclaimerTitle:'Ansvarsfriskrivning',disclaimerText:'Detta √§r ett simuleringsverktyg enbart i utbildningssyfte. Det utg√∂r inte finansiell, skattem√§ssig eller investeringsr√•dgivning. Tidigare resultat garanterar inte framtida avkastning. Konsultera en kvalificerad finansiell r√•dgivare. F√∂rfattaren tar inget ansvar.',housing:'Boende',rent:'üè† Hyra',ownership:'üè° √Ñgande',monthlyRent:'M√•nadshyra',utilities:'Driftskostnader',propertyValue:'Fastighetsv√§rde',mortgage:'Bol√•nesaldo',mortgageRate:'Bol√•ner√§nta (%)',maintenanceCost:'Underh√•ll + Driftskostnader',propertyGrowth:'V√§rde√∂kning (% p.a.)',imputedRent:'Schablonint√§kt',propertyNet:'Fastighet (netto)',taxes:'Skatter',incomeTax:'Inkomstskatt (%)',capitalGainsTax:'Kapitalvinstskatt (%)',wealthTax:'F√∂rm√∂genhetsskatt (% p.a.)',netBudget:'Netto budget uppdelning',drawdownStops:'Uttaksstopp (-15%)',stressResistance:'Stresst√•lighet (-50%)',projectedLegacy:'Projicerat arv (det.)'},
da:{code:'DA',name:'Dansk',title:'Capital Pilot',subtitle:'Strategisk Udbetalingssimulering',baseParams:'Basisparametre',startCapital:'Startkapital',duration:'Udbetalingsperiode',targetLegacy:'M√•l-Arv',inflation:'Inflation (% p.a.)',marketStrategy:'Marked & Strategi',expectedReturn:'Forventet Afkast (% p.a.)',warChest:'Krigskasse (%)',cashBuffer:'Kontantbuffer (√Ör)',pension:'Pension (m√•nedlig)',allocation:'Kapitalallokering',bufferShort:'Buffer',warShort:'Krig',monthlyBudget:'M√•nedsbudget',month:'m√•ned',cashBufferLabel:'Kontantbuffer',chfSafety:'Sikkerhed',warChestLabel:'Krigskasse',chfCrash:'til Kriser',purchasingPower:'K√∏bekraft',chfReal:'reel (i dag)',strategyHealth:'Strategisundhed',fragile:'Skr√∏belig',stable:'Stabil',robust:'Robust',moderate:'Moderat',historicalSim:'Historisk Simulering',yearsShort:'√Ör',etfDepot:'ETF-Depot',totalWealth:'Total',crisisPhase:'Krise',withdrawalAnalysis:'Udbetalingsanalyse',totalWithdrawal:'Total udbetaling',capitalUsed:'Kapital brugt',marketGain:'Markedsgevinst',endWealth:'Slutformue',worstDepot:'Laveste depotv√¶rdi',crisesSurvived:'Kriser overlevet',bufferMonths:'Bufferm√•neder',yearsUnit:'√Ör',monthsUnit:'m√•neder',monthsCoverage:'m√•neder d√¶kning',inclPension:'inkl. pension',bearMarkets:'bj√∏rnemarkeder',safetyLimits:'Sikkerhedsgr√¶nser',maxSWR:'Max Udbetalingsrate (%)',conservative:'Konservativ',aggressive:'Aggressiv',swrCapped:'Rate begr√¶nset til {0}%.',swrUncapped:'Rate under gr√¶nse.',warnLowETF:'‚ö† Under 15% i ETF.',warnNoETF:'üö´ Ingen ETF-kapital!',warnNegative:'üö´ Udbetaling umulig.',warnHighSWR:'‚ö† Rate {0}% ‚Äî over 4%-reglen.',warnHighLegacy:'‚ö† Arv > 60% af kapital.',methodInfo:'Historiske kriser (1973‚Äì2026).',nominalEq:'nominelt = {0} reelt',tipCapital:'Samlede likvide aktiver ved pension (opsparing, pension, investeringer).',tipDuration:'Hvor mange √•r pengene skal holde.',tipLegacy:'Hvor meget du vil efterlade. 0 = bruge alt.',tipInflation:'√Örlig prisstigning. Forsigtig: 2%.',tipReturn:'Nominelt √•rligt afkast ETF-portef√∏lje. MSCI World gns. ~7% over 30 √•r.',tipWarChest:'Kontantreserve til opk√∏b ved fald. Aktiveres automatisk ved fald >1.5%.',tipBuffer:'√Ör af udgifter i kontanter. Ved krise tages herfra i stedet for at s√¶lge ETF.',tipPension:'M√•nedlig pensionsindkomst. Reducerer n√∏dvendige ETF-udtr√¶k.',tipMaxSWR:'Maks. sikker udbetalingsrate. Klassiske 4%-regel.',tipRent:'M√•nedlig husleje (kold leje).',tipUtilities:'Driftsudgifter: varme, vand, affald, forsikring etc.',tipPropVal:'Aktuel markedsv√¶rdi af ejendommen.',tipMortgage:'Resterende realkreditg√¶ld.',tipMortRate:'√Örlig realkreditrente.',tipMaint:'M√•nedlige vedligeholdelsesomkostninger + driftsudgifter.',tipPropGrowth:'√Örlig v√¶rdistigning. Gennemsnit ~1.5%.',tipImputed:'Kun CH: Eigenmietwert. Beskattes som indkomst.',tipIncTax:'Marginalbeskatning af pension + boligv√¶rdi.',tipCgTax:'Skat p√• kapitalgevinst. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'√Örlig formueskat. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'Leveomkostninger',tipLiving:'Mad, transport, sundhedsforsikring, fritid, hobbyer. Alt du beh√∏ver udover bolig.',disclaimerTitle:'Ansvarsfraskrivelse',disclaimerText:'Dette er et simuleringsv√¶rkt√∏j udelukkende til uddannelsesform√•l. Det udg√∏r ikke finansiel, skattem√¶ssig eller investeringsr√•dgivning. Tidligere resultater garanterer ikke fremtidige afkast. Konsulter en kvalificeret finansiel r√•dgiver. Forfatteren p√•tager sig intet ansvar.',housing:'Bolig',rent:'üè† Leje',ownership:'üè° Ejerskab',monthlyRent:'M√•nedlig husleje',utilities:'Driftsudgifter',propertyValue:'Ejendomsv√¶rdi',mortgage:'Realkreditsaldo',mortgageRate:'Realkreditrente (%)',maintenanceCost:'Vedligeholdelse + Udgifter',propertyGrowth:'V√¶rdistigning (% p.a.)',imputedRent:'Ejendomsv√¶rdiskat',propertyNet:'Ejendom (netto)',taxes:'Skatter',incomeTax:'Indkomstskat (%)',capitalGainsTax:'Kapitalgevinstskat (%)',wealthTax:'Formueskat (% p.a.)',netBudget:'Netto budget oversigt',drawdownStops:'Udbetalingsstop (-15%)',stressResistance:'Stressmodstandsdygtighed (-50%)',projectedLegacy:'Projiceret arv (det.)'},
no:{code:'NO',name:'Norsk',title:'Capital Pilot',subtitle:'Strategisk Uttakssimulering',baseParams:'Basisparametere',startCapital:'Startkapital',duration:'Uttaksperiode',targetLegacy:'M√•l-Arv',inflation:'Inflasjon (% p.a.)',marketStrategy:'Marked & Strategi',expectedReturn:'Forventet Avkastning (% p.a.)',warChest:'Krigskasse (%)',cashBuffer:'Kontantbuffer (√Ör)',pension:'Pensjon (m√•nedlig)',allocation:'Kapitalallokering',bufferShort:'Buffer',warShort:'Krig',monthlyBudget:'M√•nedsbudsjett',month:'m√•ned',cashBufferLabel:'Kontantbuffer',chfSafety:'Sikkerhet',warChestLabel:'Krigskasse',chfCrash:'til Krasj',purchasingPower:'Kj√∏pekraft',chfReal:'reell (i dag)',strategyHealth:'Strategihelse',fragile:'Skj√∏r',stable:'Stabil',robust:'Robust',moderate:'Moderat',historicalSim:'Historisk Simulering',yearsShort:'√Ör',etfDepot:'ETF-Depot',totalWealth:'Total',crisisPhase:'Krise',withdrawalAnalysis:'Uttaksanalyse',totalWithdrawal:'Totalt uttak',capitalUsed:'Kapital brukt',marketGain:'Markedsgevinst',endWealth:'Sluttformue',worstDepot:'Laveste depotverdi',crisesSurvived:'Kriser overlevd',bufferMonths:'Bufferm√•neder',yearsUnit:'√Ör',monthsUnit:'m√•neder',monthsCoverage:'m√•neder dekning',inclPension:'inkl. pensjon',bearMarkets:'bj√∏rnemarkeder',safetyLimits:'Sikkerhetsgrenser',maxSWR:'Maks Uttaksrate (%)',conservative:'Konservativ',aggressive:'Aggressiv',swrCapped:'Rate begrenset til {0}%.',swrUncapped:'Rate under grense.',warnLowETF:'‚ö† Under 15% i ETF.',warnNoETF:'üö´ Ingen ETF-kapital!',warnNegative:'üö´UtFuttak umulig.',warnHighSWR:'‚ö† Rate {0}% ‚Äî over 4%-regelen.',warnHighLegacy:'‚ö† Arv > 60% av kapital.',methodInfo:'Historiske kriser (1973‚Äì2026).',nominalEq:'nominelt = {0} reelt',tipCapital:'Totale likvide eiendeler ved pensjon (sparing, tjenestepensjon, investeringer).',tipDuration:'Hvor mange √•r pengene m√• vare.',tipLegacy:'Hvor mye du vil etterlate. 0 = bruke alt.',tipInflation:'√Örlig pris√∏kning. Forsiktig: 2%.',tipReturn:'Nominell √•rsavkastning ETF-portef√∏lje. MSCI World snitt ~7% over 30 √•r.',tipWarChest:'Kontantreserve for kj√∏p ved fall. Aktiveres automatisk ved fall >1.5%.',tipBuffer:'√Ör med utgifter i kontanter. Ved krise tas det herfra i stedet for √• selge ETF.',tipPension:'M√•nedlig pensjonsinntekt. Reduserer n√∏dvendige ETF-uttak.',tipMaxSWR:'Maks. sikker uttaksrate. Klassiske 4%-regelen.',tipRent:'M√•nedlig husleie (kald leie).',tipUtilities:'Driftskostnader: oppvarming, vann, avfall, forsikring etc.',tipPropVal:'N√•v√¶rende markedsverdi av eiendommen.',tipMortgage:'Gjenst√•ende boligl√•nsgjeld.',tipMortRate:'√Örlig boligl√•nsrente.',tipMaint:'M√•nedlige vedlikeholdskostnader + driftskostnader.',tipPropGrowth:'√Örlig verdi√∏kning. Snitt ~1.5%.',tipImputed:'Kun CH: Eigenmietwert. Beskattes som inntekt.',tipIncTax:'Marginalskatt p√• pensjon + boligverdi.',tipCgTax:'Skatt p√• kapitalgevinst. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'√Örlig formuesskatt. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'Levekostnader',tipLiving:'Mat, transport, helseforsikring, fritid, hobbyer. Alt du trenger utenom bolig.',disclaimerTitle:'Ansvarsfraskrivelse',disclaimerText:'Dette er et simuleringsverkt√∏y kun for utdanningsform√•l. Det utgj√∏r ikke finansiell, skattemessig eller investeringsr√•dgivning. Tidligere resultater garanterer ikke fremtidig avkastning. Konsulter en kvalifisert finansiell r√•dgiver. Forfatteren p√•tar seg intet ansvar.',housing:'Bolig',rent:'üè† Leie',ownership:'üè° Eierskap',monthlyRent:'M√•nedlig leie',utilities:'Driftskostnader',propertyValue:'Eiendomsverdi',mortgage:'Boligl√•nssaldo',mortgageRate:'Boligl√•nsrente (%)',maintenanceCost:'Vedlikehold + Kostnader',propertyGrowth:'Verdistigning (% p.a.)',imputedRent:'Leieverdi',propertyNet:'Eiendom (netto)',taxes:'Skatter',incomeTax:'Inntektsskatt (%)',capitalGainsTax:'Gevinstskatt (%)',wealthTax:'Formuesskatt (% p.a.)',netBudget:'Netto budsjett oversikt',drawdownStops:'Utbetalingsstopp (-15%)',stressResistance:'Stressmotstand (-50%)',projectedLegacy:'Projisert arv (det.)'},
fi:{code:'FI',name:'Suomi',title:'Capital Pilot',subtitle:'Strateginen Nostosimulaatio',baseParams:'Perusparametrit',startCapital:'Alkup√§√§oma',duration:'Nostojakso',targetLegacy:'Perint√∂tavoite',inflation:'Inflaatio (% v.)',marketStrategy:'Markkinat & Strategia',expectedReturn:'Odotettu Tuotto (% v.)',warChest:'Sotakassa (%)',cashBuffer:'K√§teispuskuri (Vuotta)',pension:'El√§ke (kk)',allocation:'P√§√§oman Jako',bufferShort:'Puskuri',warShort:'Sota',monthlyBudget:'Kuukausibudjetti',month:'kk',cashBufferLabel:'K√§teispuskuri',chfSafety:'Turva',warChestLabel:'Sotakassa',chfCrash:'Kriisiin',purchasingPower:'Ostovoima',chfReal:'reaal. (t√§n√§√§n)',strategyHealth:'Strategian Terveys',fragile:'Hauras',stable:'Vakaa',robust:'Vahva',moderate:'Kohtalainen',historicalSim:'Historiallinen Simulaatio',yearsShort:'Vuotta',etfDepot:'ETF-Tili',totalWealth:'Yhteens√§',crisisPhase:'Kriisi',withdrawalAnalysis:'Nostoanalyysi',totalWithdrawal:'Nostot yhteens√§',capitalUsed:'K√§ytetty p√§√§oma',marketGain:'Markkinatuotto',endWealth:'Loppuvarallisuus',worstDepot:'Alin tilin arvo',crisesSurvived:'Selvityt kriisit',bufferMonths:'Puskurikuukaudet',yearsUnit:'Vuotta',monthsUnit:'kk',monthsCoverage:'kk kattavuus',inclPension:'sis. el√§ke',bearMarkets:'karhumarkkinat',safetyLimits:'Turvarajat',maxSWR:'Maks. Nostoprosentti (%)',conservative:'Varovainen',aggressive:'Aggressiivinen',swrCapped:'Prosentti rajoitettu {0}%.',swrUncapped:'Prosentti rajan alla.',warnLowETF:'‚ö† Alle 15% ETF:ss√§.',warnNoETF:'üö´ Ei ETF-p√§√§omaa!',warnNegative:'üö´ Nosto mahdoton.',warnHighSWR:'‚ö† Nosto {0}% ‚Äî yli 4%-s√§√§nn√∂n.',warnHighLegacy:'‚ö† Perint√∂ > 60% p√§√§omasta.',methodInfo:'Historialliset kriisit (1973‚Äì2026).',nominalEq:'nimellinen = {0} reaalinen',tipCapital:'Likvidit varat el√§kkeell√§ (s√§√§st√∂t, el√§kevakuutus, sijoitukset).',tipDuration:'Kuinka monta vuotta rahojen t√§ytyy riitt√§√§.',tipLegacy:'Kuinka paljon haluat j√§tt√§√§. 0 = k√§yt√§ kaikki.',tipInflation:'Vuotuinen hintojen nousu. Varovainen: 2%.',tipReturn:'ETF-salkun nimellinen vuosituotto. MSCI World ka. ~7% 30 vuodessa.',tipWarChest:'K√§teisvaranto ostoihin laskuissa. Aktivoituu automaattisesti >1.5% pudotuksissa.',tipBuffer:'Vuosien menot k√§teisen√§. Kriisiss√§ nostetaan t√§√§lt√§ ETF-myynnin sijaan.',tipPension:'Kuukausittainen el√§ketulo. V√§hent√§√§ tarvittavia ETF-nostoja.',tipMaxSWR:'Maks. turvallinen nostoprosentti. Klassinen 4%-s√§√§nt√∂.',tipRent:'Kuukausivuokra (ilman vastiketta).',tipUtilities:'Vastikkeet: l√§mmitys, vesi, j√§te, vakuutus jne.',tipPropVal:'Kiinteist√∂n nykyinen markkina-arvo.',tipMortgage:'J√§ljell√§ oleva asuntolaina.',tipMortRate:'Vuotuinen asuntolainakorko.',tipMaint:'Kuukausittaiset yll√§pitokustannukset + vastikkeet.',tipPropGrowth:'Vuotuinen arvonnousu. Keskim√§√§rin ~1.5%.',tipImputed:'Vain CH: laskennallinen vuokra-arvo. Verotetaan tulona.',tipIncTax:'Marginaalivero el√§kkeest√§ + laskennallisesta vuokrasta.',tipCgTax:'Luovutusvoittovero. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'Vuotuinen varallisuusvero. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'Elinkustannukset',tipLiving:'Ruoka, liikenne, sairausvakuutus, vapaa-aika, harrastukset. Kaikki asumisen lis√§ksi.',disclaimerTitle:'Vastuuvapauslauseke',disclaimerText:'T√§m√§ on simulointity√∂kalu vain koulutustarkoituksiin. Se ei ole taloudellista, verotuksellista tai sijoitusneuvontaa. Aiemmat tulokset eiv√§t takaa tulevia tuottoja. Konsultoi p√§tev√§√§ taloudellista neuvonantajaa. Tekij√§ ei ota vastuuta.',housing:'Asuminen',rent:'üè† Vuokra',ownership:'üè° Omistus',monthlyRent:'Kuukausivuokra',utilities:'K√§ytt√∂maksut',propertyValue:'Kiinteist√∂n arvo',mortgage:'Asuntolainasaldo',mortgageRate:'Asuntolainakorko (%)',maintenanceCost:'Yll√§pito + Kulut',propertyGrowth:'Arvonnousu (% v.)',imputedRent:'Laskennallinen vuokra-arvo',propertyNet:'Kiinteist√∂ (netto)',taxes:'Verot',incomeTax:'Tulovero (%)',capitalGainsTax:'Myyntivoittovero (%)',wealthTax:'Varallisuusvero (% v.)',netBudget:'Nettobudjetti erittely',drawdownStops:'Nostopys√§ytykset (-15%)',stressResistance:'Stressinkest√§vyys (-50%)',projectedLegacy:'Ennustettu perint√∂ (det.)'},
cs:{code:'CS',name:'ƒåe≈°tina',title:'Capital Pilot',subtitle:'Strategick√° Simulace V√Ωbƒõr≈Ø',baseParams:'Z√°kladn√≠ parametry',startCapital:'Poƒç√°teƒçn√≠ kapit√°l',duration:'Obdob√≠ v√Ωbƒõr≈Ø',targetLegacy:'C√≠lov√© dƒõdictv√≠',inflation:'Inflace (% r.)',marketStrategy:'Trh a Strategie',expectedReturn:'Oƒçek√°van√Ω v√Ωnos (% r.)',warChest:'V√°leƒçn√° pokladna (%)',cashBuffer:'Hotovostn√≠ pol≈°t√°≈ô (Roky)',pension:'D≈Øchod (mƒõs√≠ƒçnƒõ)',allocation:'Alokace kapit√°lu',bufferShort:'Pol≈°t√°≈ô',warShort:'V√°lka',monthlyBudget:'Mƒõs√≠ƒçn√≠ rozpoƒçet',month:'mƒõs√≠c',cashBufferLabel:'Hotovostn√≠ pol≈°t√°≈ô',chfSafety:'Bezpeƒç√≠',warChestLabel:'V√°leƒçn√° pokladna',chfCrash:'na krize',purchasingPower:'Kupn√≠ s√≠la',chfReal:'re√°lnƒõ (dnes)',strategyHealth:'Zdrav√≠ strategie',fragile:'K≈ôehk√°',stable:'Stabiln√≠',robust:'Robustn√≠',moderate:'St≈ôedn√≠',historicalSim:'Historick√° simulace',yearsShort:'Let',etfDepot:'ETF Depot',totalWealth:'Celkem',crisisPhase:'Krize',withdrawalAnalysis:'Anal√Ωza v√Ωbƒõr≈Ø',totalWithdrawal:'Celkov√Ω v√Ωbƒõr',capitalUsed:'Pou≈æit√Ω kapit√°l',marketGain:'Tr≈æn√≠ zisk',endWealth:'Koneƒçn√Ω majetek',worstDepot:'Nejni≈æ≈°√≠ hodnota',crisesSurvived:'P≈ôe≈æit√© krize',bufferMonths:'Mƒõs√≠ce pol≈°t√°≈ôe',yearsUnit:'Let',monthsUnit:'mƒõs√≠c≈Ø',monthsCoverage:'mƒõs. pokryt√≠',inclPension:'vƒç. d≈Øchodu',bearMarkets:'medvƒõd√≠ch trh≈Ø',safetyLimits:'Bezpeƒçnostn√≠ Limity',maxSWR:'Max. Sazba V√Ωbƒõru (%)',conservative:'Konzervativn√≠',aggressive:'Agresivn√≠',swrCapped:'Sazba omezena na {0}%.',swrUncapped:'Sazba pod limitem.',warnLowETF:'‚ö† M√©nƒõ ne≈æ 15% v ETF.',warnNoETF:'üö´ ≈Ω√°dn√Ω ETF kapit√°l!',warnNegative:'üö´ V√Ωbƒõr nemo≈æn√Ω.',warnHighSWR:'‚ö† Sazba {0}% ‚Äî nad pravidlem 4%.',warnHighLegacy:'‚ö† Dƒõdictv√≠ > 60% kapit√°lu.',methodInfo:'Historick√© krize (1973‚Äì2026).',nominalEq:'nomin√°ln√≠ = {0} re√°lnƒõ',tipCapital:'Celkov√° likvidn√≠ aktiva p≈ôi odchodu do d≈Øchodu.',tipDuration:'Kolik let mus√≠ pen√≠ze vydr≈æet.',tipLegacy:'Kolik chcete zanechat. 0 = utratit v≈°e.',tipInflation:'Roƒçn√≠ r≈Øst cen. Konzervativnƒõ: 2%.',tipReturn:'Nomin√°ln√≠ roƒçn√≠ v√Ωnos ETF portfolia. MSCI World pr≈Øm. ~7% za 30 let.',tipWarChest:'Hotovostn√≠ rezerva pro n√°kupy p≈ôi poklesech. Automaticky p≈ôi >1.5%.',tipBuffer:'Roky v√Ωdaj≈Ø v hotovosti. V krizi se ƒçerp√° odtud m√≠sto prodeje ETF.',tipPension:'Mƒõs√≠ƒçn√≠ d≈Øchod. Sni≈æuje pot≈ôebn√© v√Ωbƒõry z ETF.',tipMaxSWR:'Max. bezpeƒçn√° sazba v√Ωbƒõru. Klasick√© pravidlo 4%.',tipRent:'Mƒõs√≠ƒçn√≠ n√°jemn√© (bez poplatk≈Ø).',tipUtilities:'Poplatky: topen√≠, voda, odpad, poji≈°tƒõn√≠ atd.',tipPropVal:'Aktu√°ln√≠ tr≈æn√≠ hodnota nemovitosti.',tipMortgage:'Zb√Ωvaj√≠c√≠ hypoteƒçn√≠ dluh.',tipMortRate:'Roƒçn√≠ √∫rokov√° sazba hypot√©ky.',tipMaint:'Mƒõs√≠ƒçn√≠ n√°klady na √∫dr≈æbu + poplatky.',tipPropGrowth:'Roƒçn√≠ zhodnocen√≠. Pr≈Ømƒõr ~1.5%.',tipImputed:'Pouze CH: imputovan√° n√°jemn√≠ hodnota. Zdanƒõna jako p≈ô√≠jem.',tipIncTax:'Mezn√≠ sazba danƒõ z d≈Øchodu + imputovan√©ho n√°jmu.',tipCgTax:'Da≈à z kapit√°lov√Ωch v√Ωnos≈Ø. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'Roƒçn√≠ da≈à z majetku. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'≈Ωivotn√≠ n√°klady',tipLiving:'J√≠dlo, doprava, zdravotn√≠ poji≈°tƒõn√≠, voln√Ω ƒças, kon√≠ƒçky. V≈°e pot≈ôebn√© kromƒõ bydlen√≠.',disclaimerTitle:'Prohl√°≈°en√≠',disclaimerText:'Toto je simulaƒçn√≠ n√°stroj pouze pro vzdƒõl√°vac√≠ √∫ƒçely. Nep≈ôedstavuje finanƒçn√≠, da≈àov√© ani investiƒçn√≠ poradenstv√≠. Minul√° v√Ωkonnost nezaruƒçuje budouc√≠ v√Ωsledky. Konzultujte kvalifikovan√©ho finanƒçn√≠ho poradce. Autor nenese ≈æ√°dnou odpovƒõdnost.',housing:'Bydlen√≠',rent:'üè† N√°jem',ownership:'üè° Vlastnictv√≠',monthlyRent:'Mƒõs√≠ƒçn√≠ n√°jem',utilities:'Poplatky / Energie',propertyValue:'Hodnota nemovitosti',mortgage:'Z≈Østatek hypot√©ky',mortgageRate:'Hypoteƒçn√≠ sazba (%)',maintenanceCost:'√ödr≈æba + Poplatky',propertyGrowth:'Zhodnocen√≠ (% r.)',imputedRent:'Imputovan√° n√°jemn√≠ hodnota',propertyNet:'Nemovitost (netto)',taxes:'Danƒõ',incomeTax:'Da≈à z p≈ô√≠jmu (%)',capitalGainsTax:'Da≈à z kapit√°lov√Ωch v√Ωnos≈Ø (%)',wealthTax:'Da≈à z majetku (% r.)',netBudget:'P≈ôehled ƒçist√©ho rozpoƒçtu',drawdownStops:'Zastaven√≠ v√Ωbƒõr≈Ø (-15%)',stressResistance:'Odolnost v≈Øƒçi stresu (-50%)',projectedLegacy:'Pl√°novan√© dƒõdictv√≠ (det.)'},
hu:{code:'HU',name:'Magyar',title:'Capital Pilot',subtitle:'Strat√©giai Kifizet√©s Szimul√°ci√≥',baseParams:'Alapparam√©terek',startCapital:'Indul√≥ t≈ëke',duration:'Kifizet√©si id≈ëszak',targetLegacy:'C√©l √∂r√∂ks√©g',inflation:'Infl√°ci√≥ (% √©.)',marketStrategy:'Piac √©s Strat√©gia',expectedReturn:'V√°rt hozam (% √©.)',warChest:'Hadikassza (%)',cashBuffer:'K√©szp√©nzpuffer (√âv)',pension:'Nyugd√≠j (havi)',allocation:'T≈ëkeallok√°ci√≥',bufferShort:'Puffer',warShort:'Hadi',monthlyBudget:'Havi k√∂lts√©gvet√©s',month:'h√≥nap',cashBufferLabel:'K√©szp√©nzpuffer',chfSafety:'Biztons√°g',warChestLabel:'Hadikassza',chfCrash:'v√°ls√°gra',purchasingPower:'V√°s√°rl√≥er≈ë',chfReal:'re√°l (ma)',strategyHealth:'Strat√©gia eg√©szs√©g',fragile:'T√∂r√©keny',stable:'Stabil',robust:'Robusztus',moderate:'M√©rs√©kelt',historicalSim:'T√∂rt√©nelmi szimul√°ci√≥',yearsShort:'√âv',etfDepot:'ETF Sz√°mla',totalWealth:'√ñsszes',crisisPhase:'V√°ls√°g',withdrawalAnalysis:'Kifizet√©s elemz√©s',totalWithdrawal:'√ñsszes kifizet√©s',capitalUsed:'Felhaszn√°lt t≈ëke',marketGain:'Piaci nyeres√©g',endWealth:'V√©gs≈ë vagyon',worstDepot:'Legrosszabb √©rt√©k',crisesSurvived:'T√∫l√©lt v√°ls√°gok',bufferMonths:'Puffer h√≥napok',yearsUnit:'√âv',monthsUnit:'h√≥nap',monthsCoverage:'h√≥nap fedezet',inclPension:'nyugd√≠jjal',bearMarkets:'medvepiacok',safetyLimits:'Biztons√°gi Korl√°tok',maxSWR:'Max. Kifizet√©si Ar√°ny (%)',conservative:'Konzervat√≠v',aggressive:'Agressz√≠v',swrCapped:'Ar√°ny {0}%-ra korl√°tozva.',swrUncapped:'Ar√°ny limit alatt.',warnLowETF:'‚ö† 15% alatt ETF-ben.',warnNoETF:'üö´ Nincs ETF t≈ëke!',warnNegative:'üö´ Kifizet√©s lehetetlen.',warnHighSWR:'‚ö† Ar√°ny {0}% ‚Äî 4%-szab√°ly felett.',warnHighLegacy:'‚ö† √ñr√∂ks√©g > t≈ëke 60%-a.',methodInfo:'T√∂rt√©nelmi v√°ls√°gok (1973‚Äì2026).',nominalEq:'nomin√°lis = {0} re√°l',tipCapital:'√ñsszes likvid vagyon nyugd√≠jba vonul√°skor.',tipDuration:'H√°ny √©vig kell kitartania a p√©nznek.',tipLegacy:'Mennyit szeretne h√°trahagyni. 0 = mindent elk√∂lteni.',tipInflation:'√âves √°remelked√©s. √ìvatos: 2%.',tipReturn:'ETF portf√≥li√≥ nomin√°lis √©ves hozama. MSCI World √°tl. ~7% 30 √©v alatt.',tipWarChest:'K√©szp√©nztartal√©k v√°s√°rl√°sra es√©skor. Automatikusan aktiv√°l√≥dik >1.5%.',tipBuffer:'√âvnyi kiad√°s k√©szp√©nzben. V√°ls√°gban innen veszik ki az ETF elad√°sa helyett.',tipPension:'Havi nyugd√≠jj√∂vedelem. Cs√∂kkenti a sz√ºks√©ges ETF-kiv√©teleket.',tipMaxSWR:'Max. biztons√°gos kifizet√©si ar√°ny. Klasszikus 4%-szab√°ly.',tipRent:'Havi b√©rleti d√≠j (rezsi n√©lk√ºl).',tipUtilities:'Rezsik√∂lts√©gek: f≈±t√©s, v√≠z, hullad√©k, biztos√≠t√°s stb.',tipPropVal:'Ingatlan jelenlegi piaci √©rt√©ke.',tipMortgage:'Fennmarad√≥ jelz√°loghitel.',tipMortRate:'√âves jelz√°log kamatl√°b.',tipMaint:'Havi karbantart√°si k√∂lts√©gek + rezsi.',tipPropGrowth:'√âves √©rt√©kn√∂veked√©s. √Åtlag ~1.5%.',tipImputed:'Csak CH: imput√°lt b√©rleti √©rt√©k. J√∂vedelemk√©nt ad√≥zik.',tipIncTax:'Margin√°lis ad√≥kulcs nyugd√≠jra + imput√°lt b√©rletre.',tipCgTax:'T≈ëkenyeres√©g-ad√≥. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'√âves vagyonad√≥. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'Meg√©lhet√©si k√∂lts√©gek',tipLiving:'√âlelmiszer, k√∂zleked√©s, eg√©szs√©gbiztos√≠t√°s, szabadid≈ë, hobbi. Minden a lak√°son k√≠v√ºl.',disclaimerTitle:'Jogi nyilatkozat',disclaimerText:'Ez egy szimul√°ci√≥s eszk√∂z kiz√°r√≥lag oktat√°si c√©lokra. Nem min≈ës√ºl p√©nz√ºgyi, ad√≥z√°si vagy befektet√©si tan√°csad√°snak. A m√∫ltbeli teljes√≠tm√©ny nem garant√°lja a j√∂v≈ëbeli eredm√©nyeket. Forduljon k√©pzett p√©nz√ºgyi tan√°csad√≥hoz. A szerz≈ë nem v√°llal felel≈ëss√©get.',housing:'Lakhat√°s',rent:'üè† B√©rl√©s',ownership:'üè° Tulajdon',monthlyRent:'Havi b√©rleti d√≠j',utilities:'Rezsi / K√∂z√ºzem',propertyValue:'Ingatlan √©rt√©ke',mortgage:'Jelz√°log egyenlege',mortgageRate:'Jelz√°logkamat (%)',maintenanceCost:'Karbantart√°s + Rezsi',propertyGrowth:'√ârt√©kn√∂veked√©s (% √©.)',imputedRent:'Imput√°lt b√©rleti √©rt√©k',propertyNet:'Ingatlan (nett√≥)',taxes:'Ad√≥k',incomeTax:'Szem√©lyi j√∂vedelemad√≥ (%)',capitalGainsTax:'T≈ëkej√∂vedelem ad√≥ (%)',wealthTax:'Vagyonad√≥ (% √©.)',netBudget:'Nett√≥ k√∂lts√©gvet√©s r√©szletez√©s',drawdownStops:'Kiv√©t-le√°ll√°sok (-15%)',stressResistance:'Stressz√°ll√≥s√°g (-50%)',projectedLegacy:'Tervezett √∂r√∂ks√©g (det.)'},
ro:{code:'RO',name:'Rom√¢nƒÉ',title:'Capital Pilot',subtitle:'Simulare StrategicƒÉ de Retrageri',baseParams:'Parametri de bazƒÉ',startCapital:'Capital ini»õial',duration:'DuratƒÉ retragere',targetLegacy:'Mo»ôtenire »õintƒÉ',inflation:'Infla»õie (% an.)',marketStrategy:'Pia»õƒÉ & Strategie',expectedReturn:'Randament a»ôteptat (% an.)',warChest:'RezervƒÉ de rƒÉzboi (%)',cashBuffer:'Tampon numerar (Ani)',pension:'Pensie (lunar)',allocation:'Alocarea capitalului',bufferShort:'Tampon',warShort:'RƒÉzboi',monthlyBudget:'Buget lunar',month:'lunƒÉ',cashBufferLabel:'Tampon numerar',chfSafety:'Siguran»õƒÉ',warChestLabel:'RezervƒÉ de rƒÉzboi',chfCrash:'pt. crize',purchasingPower:'Putere de cumpƒÉrare',chfReal:'real (azi)',strategyHealth:'SƒÉnƒÉtatea strategiei',fragile:'FragilƒÉ',stable:'StabilƒÉ',robust:'RobustƒÉ',moderate:'ModeratƒÉ',historicalSim:'Simulare istoricƒÉ',yearsShort:'Ani',etfDepot:'Depozit ETF',totalWealth:'Total',crisisPhase:'CrizƒÉ',withdrawalAnalysis:'Analiza retragerilor',totalWithdrawal:'Retragere totalƒÉ',capitalUsed:'Capital utilizat',marketGain:'C√¢»ôtig pia»õƒÉ',endWealth:'Avere finalƒÉ',worstDepot:'Cea mai micƒÉ valoare',crisesSurvived:'Crize supravie»õuite',bufferMonths:'Luni tampon',yearsUnit:'Ani',monthsUnit:'luni',monthsCoverage:'luni acoperire',inclPension:'incl. pensie',bearMarkets:'pie»õe bear',safetyLimits:'Limite de Siguran»õƒÉ',maxSWR:'RatƒÉ Max. Retragere (%)',conservative:'Conservator',aggressive:'Agresiv',swrCapped:'Rata limitatƒÉ la {0}%.',swrUncapped:'Rata sub limitƒÉ.',warnLowETF:'‚ö† Sub 15% √Æn ETF.',warnNoETF:'üö´ FƒÉrƒÉ capital ETF!',warnNegative:'üö´ Retragere imposibilƒÉ.',warnHighSWR:'‚ö† Rata {0}% ‚Äî peste regula 4%.',warnHighLegacy:'‚ö† Mo»ôtenire > 60% din capital.',methodInfo:'Crize istorice (1973‚Äì2026).',nominalEq:'nominal = {0} real',tipCapital:'Active lichide totale la pensionare.',tipDuration:'C√¢»õi ani trebuie sƒÉ dureze banii.',tipLegacy:'C√¢t vrei sƒÉ la»ôi. 0 = cheltuie»ôte tot.',tipInflation:'Cre»ôtere anualƒÉ a pre»õurilor. Conservator: 2%.',tipReturn:'Randament nominal anual portofoliu ETF. MSCI World med. ~7% pe 30 ani.',tipWarChest:'RezervƒÉ pentru cumpƒÉrƒÉri la scƒÉderi. Se activeazƒÉ automat la >1.5%.',tipBuffer:'Ani de cheltuieli √Æn numerar. √én crizƒÉ se retrage de aici.',tipPension:'Venit lunar din pensie. Reduce retragerile necesare din ETF.',tipMaxSWR:'Rata maximƒÉ sigurƒÉ de retragere. Regula clasicƒÉ de 4%.',tipRent:'Chirie lunarƒÉ (fƒÉrƒÉ utilitƒÉ»õi).',tipUtilities:'UtilitƒÉ»õi: √ÆncƒÉlzire, apƒÉ, gunoi, asigurare etc.',tipPropVal:'Valoarea actualƒÉ de pia»õƒÉ a proprietƒÉ»õii.',tipMortgage:'Sold ipotecar rƒÉmas.',tipMortRate:'Rata anualƒÉ a dob√¢nzii ipotecare.',tipMaint:'Costuri lunare de √Æntre»õinere + utilitƒÉ»õi.',tipPropGrowth:'Apreciere anualƒÉ. Media ~1.5%.',tipImputed:'Doar CH: valoare locativƒÉ imputatƒÉ. ImpozitatƒÉ ca venit.',tipIncTax:'Rata marginalƒÉ pe pensie + valoare locativƒÉ.',tipCgTax:'Impozit pe c√¢»ôtiguri de capital. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'Impozit anual pe avere. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'Costuri de trai',tipLiving:'Alimente, transport, asigurare de sƒÉnƒÉtate, timp liber, hobby-uri. Tot ce ai nevoie √Æn afara locuin»õei.',disclaimerTitle:'Declinarea responsabilitƒÉ»õii',disclaimerText:'Acesta este un instrument de simulare exclusiv √Æn scop educativ. Nu constituie consiliere financiarƒÉ, fiscalƒÉ sau de investi»õii. Performan»õele trecute nu garanteazƒÉ rezultate viitoare. Consulta»õi un consilier financiar calificat. Autorul nu √Æ»ôi asumƒÉ nicio rƒÉspundere.',housing:'Locuin»õƒÉ',rent:'üè† Chirie',ownership:'üè° Proprietate',monthlyRent:'Chirie lunarƒÉ',utilities:'UtilitƒÉ»õi / Cheltuieli',propertyValue:'Valoarea proprietƒÉ»õii',mortgage:'Sold credit ipotecar',mortgageRate:'Dob√¢nda ipotecar (%)',maintenanceCost:'√éntre»õinere + Cheltuieli',propertyGrowth:'Cre»ôtere valoare (% p.a.)',imputedRent:'Chirie imputatƒÉ',propertyNet:'Imobil (net)',taxes:'Impozite',incomeTax:'Impozit pe venit (%)',capitalGainsTax:'Impozit pe c√¢»ôtiguri (%)',wealthTax:'Impozit pe avere (% p.a.)',netBudget:'Detaliu buget net',drawdownStops:'Opriri retrageri (-15%)',stressResistance:'Rezisten»õƒÉ la stres (-50%)',projectedLegacy:'Mo»ôtenire proiectatƒÉ (det.)'},
el:{code:'EL',name:'ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨',title:'Capital Pilot',subtitle:'Œ£œÑœÅŒ±œÑŒ∑Œ≥ŒπŒ∫ŒÆ Œ†œÅŒøœÉŒøŒºŒøŒØœâœÉŒ∑ ŒëŒΩŒ±ŒªŒÆœàŒµœâŒΩ',baseParams:'ŒíŒ±œÉŒπŒ∫Œ≠œÇ Œ†Œ±œÅŒ¨ŒºŒµœÑœÅŒøŒπ',startCapital:'ŒëœÅœáŒπŒ∫œå ŒöŒµœÜŒ¨ŒªŒ±ŒπŒø',duration:'ŒîŒπŒ¨œÅŒ∫ŒµŒπŒ± ŒëŒΩŒ¨ŒªŒ∑œàŒ∑œÇ',targetLegacy:'Œ£œÑœåœáŒøœÇ ŒöŒªŒ∑œÅŒøŒΩŒøŒºŒπŒ¨œÇ',inflation:'Œ†ŒªŒ∑Œ∏œâœÅŒπœÉŒºœåœÇ (% ŒµœÑ.)',marketStrategy:'ŒëŒ≥ŒøœÅŒ¨ & Œ£œÑœÅŒ±œÑŒ∑Œ≥ŒπŒ∫ŒÆ',expectedReturn:'ŒëŒΩŒ±ŒºŒµŒΩœåŒºŒµŒΩŒ∑ ŒëœÄœåŒ¥ŒøœÉŒ∑ (% ŒµœÑ.)',warChest:'Œ†ŒøŒªŒµŒºŒπŒ∫œå Œ§Œ±ŒºŒµŒØŒø (%)',cashBuffer:'Œ°ŒµŒ∂Œ≠œÅŒ≤Œ± ŒúŒµœÑœÅŒ∑œÑœéŒΩ (ŒàœÑŒ∑)',pension:'Œ£œçŒΩœÑŒ±ŒæŒ∑ (ŒºŒ∑ŒΩŒπŒ±ŒØŒ±)',allocation:'ŒöŒ±œÑŒ±ŒΩŒøŒºŒÆ ŒöŒµœÜŒ±ŒªŒ±ŒØŒøœÖ',bufferShort:'Œ°ŒµŒ∂Œ≠œÅŒ≤Œ±',warShort:'Œ†œåŒªŒµŒºŒøœÇ',monthlyBudget:'ŒúŒ∑ŒΩŒπŒ±ŒØŒøœÇ Œ†œÅŒøœãœÄ.',month:'ŒºŒÆŒΩŒ±',cashBufferLabel:'Œ°ŒµŒ∂Œ≠œÅŒ≤Œ± ŒúŒµœÑœÅŒ∑œÑœéŒΩ',chfSafety:'ŒëœÉœÜŒ¨ŒªŒµŒπŒ±',warChestLabel:'Œ†ŒøŒªŒµŒºŒπŒ∫œå Œ§Œ±ŒºŒµŒØŒø',chfCrash:'Œ≥ŒπŒ± ŒöœÅŒØœÉŒµŒπœÇ',purchasingPower:'ŒëŒ≥ŒøœÅŒ±œÉœÑŒπŒ∫ŒÆ ŒîœçŒΩŒ±ŒºŒ∑',chfReal:'œÄœÅŒ±Œ≥Œº. (œÉŒÆŒºŒµœÅŒ±)',strategyHealth:'Œ•Œ≥ŒµŒØŒ± Œ£œÑœÅŒ±œÑŒ∑Œ≥ŒπŒ∫ŒÆœÇ',fragile:'ŒïœçŒ∏œÅŒ±œÖœÉœÑŒ∑',stable:'Œ£œÑŒ±Œ∏ŒµœÅŒÆ',robust:'ŒôœÉœáœÖœÅŒÆ',moderate:'ŒúŒ≠œÑœÅŒπŒ±',historicalSim:'ŒôœÉœÑŒøœÅŒπŒ∫ŒÆ Œ†œÅŒøœÉŒøŒºŒøŒØœâœÉŒ∑',yearsShort:'ŒàœÑŒ∑',etfDepot:'ETF ŒõŒøŒ≥.',totalWealth:'Œ£œçŒΩŒøŒªŒø',crisisPhase:'ŒöœÅŒØœÉŒ∑',withdrawalAnalysis:'ŒëŒΩŒ¨ŒªœÖœÉŒ∑ ŒëŒΩŒ±ŒªŒÆœàŒµœâŒΩ',totalWithdrawal:'Œ£œÖŒΩŒøŒªŒπŒ∫Œ≠œÇ Œ±ŒΩŒ±ŒªŒÆœàŒµŒπœÇ',capitalUsed:'ŒöŒµœÜŒ¨ŒªŒ±ŒπŒø œáœÅŒ∑œÉŒπŒºŒøœÄ.',marketGain:'ŒöŒ≠œÅŒ¥ŒøœÇ Œ±Œ≥ŒøœÅŒ¨œÇ',endWealth:'Œ§ŒµŒªŒπŒ∫œå Œ∫ŒµœÜŒ¨ŒªŒ±ŒπŒø',worstDepot:'ŒßŒ±ŒºŒ∑ŒªœåœÑŒµœÅŒ∑ Œ±ŒæŒØŒ±',crisesSurvived:'ŒöœÅŒØœÉŒµŒπœÇ Œ±ŒΩœÑŒπŒºŒµœÑœâœÄ.',bufferMonths:'ŒúŒÆŒΩŒµœÇ œÅŒµŒ∂Œ≠œÅŒ≤Œ±œÇ',yearsUnit:'ŒàœÑŒ∑',monthsUnit:'ŒºŒÆŒΩŒµœÇ',monthsCoverage:'ŒºŒÆŒΩ. Œ∫Œ¨ŒªœÖœàŒ∑',inclPension:'ŒºŒµ œÉœçŒΩœÑŒ±ŒæŒ∑',bearMarkets:'bear markets',safetyLimits:'ŒåœÅŒπŒ± ŒëœÉœÜŒ±ŒªŒµŒØŒ±œÇ',maxSWR:'ŒúŒ≠Œ≥. Œ°œÖŒ∏ŒºœåœÇ ŒëŒΩŒ¨ŒªŒ∑œàŒ∑œÇ (%)',conservative:'Œ£œÖŒΩœÑŒ∑œÅŒ∑œÑŒπŒ∫œå',aggressive:'ŒïœÄŒπŒ∏ŒµœÑŒπŒ∫œå',swrCapped:'Œ°œÖŒ∏ŒºœåœÇ œÄŒµœÅŒπŒøœÅŒπœÉŒºŒ≠ŒΩŒøœÇ œÉœÑŒø {0}%.',swrUncapped:'Œ°œÖŒ∏ŒºœåœÇ Œ∫Œ¨œÑœâ Œ±œÄœå œåœÅŒπŒø.',warnLowETF:'‚ö† ŒöŒ¨œÑœâ Œ±œÄœå 15% œÉŒµ ETF.',warnNoETF:'üö´ ŒßœâœÅŒØœÇ Œ∫ŒµœÜŒ¨ŒªŒ±ŒπŒø ETF!',warnNegative:'üö´ ŒëŒΩŒ¨ŒªŒ∑œàŒ∑ Œ±Œ¥œçŒΩŒ±œÑŒ∑.',warnHighSWR:'‚ö† Œ°œÖŒ∏ŒºœåœÇ {0}% ‚Äî œÄŒ¨ŒΩœâ Œ±œÄœå 4%.',warnHighLegacy:'‚ö† ŒöŒªŒ∑œÅŒøŒΩŒøŒºŒπŒ¨ > 60% Œ∫ŒµœÜŒ±ŒªŒ±ŒØŒøœÖ.',methodInfo:'ŒôœÉœÑŒøœÅŒπŒ∫Œ≠œÇ Œ∫œÅŒØœÉŒµŒπœÇ (1973‚Äì2026).',nominalEq:'ŒøŒΩŒøŒºŒ±œÉœÑŒπŒ∫ŒÆ = {0} œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫ŒÆ',tipCapital:'Œ£œÖŒΩŒøŒªŒπŒ∫Œ¨ œÅŒµœÖœÉœÑŒ¨ œÄŒµœÅŒπŒøœÖœÉŒπŒ±Œ∫Œ¨ œÉœÑŒøŒπœáŒµŒØŒ± Œ∫Œ±œÑŒ¨ œÑŒ∑ œÉœÖŒΩœÑŒ±ŒæŒπŒøŒ¥œåœÑŒ∑œÉŒ∑.',tipDuration:'Œ†œåœÉŒ± œáœÅœåŒΩŒπŒ± œÄœÅŒ≠œÄŒµŒπ ŒΩŒ± Œ±œÅŒ∫ŒøœçŒΩ œÑŒ± œáœÅŒÆŒºŒ±œÑŒ±.',tipLegacy:'Œ†œåœÉŒ± Œ∏Œ≠ŒªŒµœÑŒµ ŒΩŒ± Œ±œÜŒÆœÉŒµœÑŒµ. 0 = ŒæŒøŒ¥Œ≠œàœÑŒµ œÑŒ± œåŒªŒ±.',tipInflation:'ŒïœÑŒÆœÉŒπŒ± Œ±œçŒæŒ∑œÉŒ∑ œÑŒπŒºœéŒΩ. Œ£œÖŒΩœÑŒ∑œÅŒ∑œÑŒπŒ∫Œ¨: 2%.',tipReturn:'ŒüŒΩŒøŒºŒ±œÉœÑŒπŒ∫ŒÆ ŒµœÑŒÆœÉŒπŒ± Œ±œÄœåŒ¥ŒøœÉŒ∑ œáŒ±œÅœÑŒøœÜœÖŒªŒ±Œ∫ŒØŒøœÖ ETF. MSCI World Œº.Œø. ~7% œÉŒµ 30 œáœÅœåŒΩŒπŒ±.',tipWarChest:'ŒëœÄŒøŒ∏ŒµŒºŒ±œÑŒπŒ∫œå Œ≥ŒπŒ± Œ±Œ≥ŒøœÅŒ≠œÇ œÉŒµ œÄœÑœéœÉŒµŒπœÇ. ŒïŒΩŒµœÅŒ≥ŒøœÄŒøŒπŒµŒØœÑŒ±Œπ Œ±œÖœÑœåŒºŒ±œÑŒ± œÉŒµ >1.5%.',tipBuffer:'ŒßœÅœåŒΩŒπŒ± ŒµŒæœåŒ¥œâŒΩ œÉŒµ ŒºŒµœÑœÅŒ∑œÑŒ¨. Œ£Œµ Œ∫œÅŒØœÉŒ∑ Œ±ŒΩŒ±ŒªŒ±ŒºŒ≤Œ¨ŒΩŒµœÑŒ±Œπ Œ±œÄœå ŒµŒ¥œé.',tipPension:'ŒúŒ∑ŒΩŒπŒ±ŒØŒø ŒµŒπœÉœåŒ¥Œ∑ŒºŒ± œÉœçŒΩœÑŒ±ŒæŒ∑œÇ. ŒúŒµŒπœéŒΩŒµŒπ œÑŒπœÇ Œ±ŒΩŒ±ŒªŒÆœàŒµŒπœÇ ETF.',tipMaxSWR:'ŒúŒ≠Œ≥. Œ±œÉœÜŒ±ŒªŒÆœÇ œÅœÖŒ∏ŒºœåœÇ Œ±ŒΩŒ¨ŒªŒ∑œàŒ∑œÇ. ŒöŒªŒ±œÉŒπŒ∫œåœÇ Œ∫Œ±ŒΩœåŒΩŒ±œÇ 4%.',tipRent:'ŒúŒ∑ŒΩŒπŒ±ŒØŒø ŒµŒΩŒøŒØŒ∫ŒπŒø (œáœâœÅŒØœÇ Œ∫ŒøŒπŒΩœåœáœÅŒ∑œÉœÑŒ±).',tipUtilities:'ŒöŒøŒπŒΩœåœáœÅŒ∑œÉœÑŒ±: Œ∏Œ≠œÅŒºŒ±ŒΩœÉŒ∑, ŒΩŒµœÅœå, Œ±œÄŒøœÅœÅŒØŒºŒºŒ±œÑŒ±, Œ±œÉœÜŒ¨ŒªŒπœÉŒ∑ Œ∫ŒªœÄ.',tipPropVal:'Œ§œÅŒ≠œáŒøœÖœÉŒ± Œ±Œ≥ŒøœÅŒ±ŒØŒ± Œ±ŒæŒØŒ± Œ±Œ∫ŒπŒΩŒÆœÑŒøœÖ.',tipMortgage:'Œ•œÄœåŒªŒøŒπœÄŒø œÉœÑŒµŒ≥Œ±œÉœÑŒπŒ∫Œøœç Œ¥Œ±ŒΩŒµŒØŒøœÖ.',tipMortRate:'ŒïœÑŒÆœÉŒπŒø ŒµœÄŒπœÑœåŒ∫ŒπŒø œÉœÑŒµŒ≥Œ±œÉœÑŒπŒ∫Œøœç.',tipMaint:'ŒúŒ∑ŒΩŒπŒ±ŒØŒ± Œ∫œåœÉœÑŒ∑ œÉœÖŒΩœÑŒÆœÅŒ∑œÉŒ∑œÇ + Œ∫ŒøŒπŒΩœåœáœÅŒ∑œÉœÑŒ±.',tipPropGrowth:'ŒïœÑŒÆœÉŒπŒ± Œ±ŒΩŒ±œÑŒØŒºŒ∑œÉŒ∑. ŒúŒ≠œÉŒøœÇ ~1.5%.',tipImputed:'ŒúœåŒΩŒø CH: œÑŒµŒ∫ŒºŒ±œÅœÑœå ŒµŒΩŒøŒØŒ∫ŒπŒø. Œ¶ŒøœÅŒøŒªŒøŒ≥ŒµŒØœÑŒ±Œπ œâœÇ ŒµŒπœÉœåŒ¥Œ∑ŒºŒ±.',tipIncTax:'ŒüœÅŒπŒ±Œ∫œåœÇ œÜœåœÅŒøœÇ œÉŒµ œÉœçŒΩœÑŒ±ŒæŒ∑ + œÑŒµŒ∫ŒºŒ±œÅœÑœå ŒµŒΩŒøŒØŒ∫ŒπŒø.',tipCgTax:'Œ¶œåœÅŒøœÇ Œ∫ŒµœÜŒ±ŒªŒ±ŒπŒ±Œ∫œéŒΩ Œ∫ŒµœÅŒ¥œéŒΩ. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'ŒïœÑŒÆœÉŒπŒøœÇ œÜœåœÅŒøœÇ œÄŒµœÅŒπŒøœÖœÉŒØŒ±œÇ. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'ŒöœåœÉœÑŒøœÇ Œ¥ŒπŒ±Œ≤ŒØœâœÉŒ∑œÇ',tipLiving:'ŒîŒπŒ±œÑœÅŒøœÜŒÆ, ŒºŒµœÑŒ±œÜŒøœÅŒ≠œÇ, Œ±œÉœÜŒ¨ŒªŒµŒπŒ± œÖŒ≥ŒµŒØŒ±œÇ, Œ±ŒΩŒ±œàœÖœáŒÆ, œáœåŒºœÄŒπ. Œå,œÑŒπ œáœÅŒµŒπŒ¨Œ∂ŒµœÉœÑŒµ ŒµŒ∫œÑœåœÇ œÉœÑŒ≠Œ≥Œ±œÉŒ∑œÇ.',disclaimerTitle:'ŒëœÄŒøœÄŒøŒØŒ∑œÉŒ∑ ŒµœÖŒ∏œçŒΩŒ∑œÇ',disclaimerText:'ŒëœÖœÑœå ŒµŒØŒΩŒ±Œπ Œ≠ŒΩŒ± ŒµœÅŒ≥Œ±ŒªŒµŒØŒø œÄœÅŒøœÉŒøŒºŒøŒØœâœÉŒ∑œÇ Œ±œÄŒøŒ∫ŒªŒµŒπœÉœÑŒπŒ∫Œ¨ Œ≥ŒπŒ± ŒµŒ∫œÄŒ±ŒπŒ¥ŒµœÖœÑŒπŒ∫ŒøœçœÇ œÉŒ∫ŒøœÄŒøœçœÇ. ŒîŒµŒΩ Œ±œÄŒøœÑŒµŒªŒµŒØ œáœÅŒ∑ŒºŒ±œÑŒøŒøŒπŒ∫ŒøŒΩŒøŒºŒπŒ∫ŒÆ, œÜŒøœÅŒøŒªŒøŒ≥ŒπŒ∫ŒÆ ŒÆ ŒµœÄŒµŒΩŒ¥œÖœÑŒπŒ∫ŒÆ œÉœÖŒºŒ≤ŒøœÖŒªŒÆ. ŒüŒπ œÄœÅŒøŒ∑Œ≥ŒøœçŒºŒµŒΩŒµœÇ Œ±œÄŒøŒ¥œåœÉŒµŒπœÇ Œ¥ŒµŒΩ ŒµŒ≥Œ≥œÖœéŒΩœÑŒ±Œπ ŒºŒµŒªŒªŒøŒΩœÑŒπŒ∫Œ¨ Œ±œÄŒøœÑŒµŒªŒ≠œÉŒºŒ±œÑŒ±. Œ£œÖŒºŒ≤ŒøœÖŒªŒµœÖœÑŒµŒØœÑŒµ ŒµŒæŒµŒπŒ¥ŒπŒ∫ŒµœÖŒºŒ≠ŒΩŒø œÉœçŒºŒ≤ŒøœÖŒªŒø. Œü Œ¥Œ∑ŒºŒπŒøœÖœÅŒ≥œåœÇ Œ¥ŒµŒΩ œÜŒ≠œÅŒµŒπ ŒµœÖŒ∏œçŒΩŒ∑.',housing:'Œ£œÑŒ≠Œ≥Œ±œÉŒ∑',rent:'üè† ŒïŒΩŒøŒØŒ∫ŒπŒø',ownership:'üè° ŒôŒ¥ŒπŒøŒ∫œÑŒ∑œÉŒØŒ±',monthlyRent:'ŒúŒ∑ŒΩŒπŒ±ŒØŒø ŒµŒΩŒøŒØŒ∫ŒπŒø',utilities:'ŒöŒøŒπŒΩœåœáœÅŒ∑œÉœÑŒ± / ŒõŒøŒ≥Œ±œÅŒπŒ±œÉŒºŒøŒØ',propertyValue:'ŒëŒæŒØŒ± Œ±Œ∫ŒπŒΩŒÆœÑŒøœÖ',mortgage:'Œ•œÄœåŒªŒøŒπœÄŒø œÉœÑŒµŒ≥Œ±œÉœÑŒπŒ∫Œøœç',mortgageRate:'ŒïœÄŒπœÑœåŒ∫ŒπŒø œÉœÑŒµŒ≥Œ±œÉœÑŒπŒ∫Œøœç (%)',maintenanceCost:'Œ£œÖŒΩœÑŒÆœÅŒ∑œÉŒ∑ + ŒàŒæŒøŒ¥Œ±',propertyGrowth:'ŒëœçŒæŒ∑œÉŒ∑ Œ±ŒæŒØŒ±œÇ (% œÄ.œá.)',imputedRent:'Œ§ŒµŒ∫ŒºŒ±œÅœÑœå ŒµŒΩŒøŒØŒ∫ŒπŒø',propertyNet:'ŒëŒ∫ŒØŒΩŒ∑œÑŒø (Œ∫Œ±Œ∏Œ±œÅœå)',taxes:'Œ¶œåœÅŒøŒπ',incomeTax:'Œ¶œåœÅŒøœÇ ŒµŒπœÉŒøŒ¥ŒÆŒºŒ±œÑŒøœÇ (%)',capitalGainsTax:'Œ¶œåœÅŒøœÇ Œ∫ŒµœÜŒ±ŒªŒ±ŒπŒ±Œ∫œéŒΩ Œ∫ŒµœÅŒ¥œéŒΩ (%)',wealthTax:'Œ¶œåœÅŒøœÇ œÄŒµœÅŒπŒøœÖœÉŒØŒ±œÇ (% œÄ.œá.)',netBudget:'ŒëŒΩŒ¨ŒªœÖœÉŒ∑ Œ∫Œ±Œ∏Œ±œÅŒøœç œÄœÅŒøœãœÄŒøŒªŒøŒ≥ŒπœÉŒºŒøœç',drawdownStops:'ŒîŒπŒ±Œ∫ŒøœÄŒ≠œÇ Œ±ŒΩŒ±ŒªŒÆœàŒµœâŒΩ (-15%)',stressResistance:'ŒëŒΩœÑŒøœáŒÆ œÉŒµ Œ∫œÅŒØœÉŒ∑ (-50%)',projectedLegacy:'Œ†œÅŒøŒ≤ŒªŒµœÄœåŒºŒµŒΩŒ∑ Œ∫ŒªŒ∑œÅŒøŒΩŒøŒºŒπŒ¨ (ŒªŒµœÄœÑ.)'},
uk:{code:'UK',name:'–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞',title:'Capital Pilot',subtitle:'–°—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–∞ —Å–∏–º—É–ª—è—Ü—ñ—è –≤–∏–ø–ª–∞—Ç',baseParams:'–ë–∞–∑–æ–≤—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏',startCapital:'–ü–æ—á–∞—Ç–∫–æ–≤–∏–π –∫–∞–ø—ñ—Ç–∞–ª',duration:'–ü–µ—Ä—ñ–æ–¥ –≤–∏–ø–ª–∞—Ç',targetLegacy:'–¶—ñ–ª—å–æ–≤–∞ —Å–ø–∞–¥—â–∏–Ω–∞',inflation:'–Ü–Ω—Ñ–ª—è—Ü—ñ—è (% —Ä.)',marketStrategy:'–†–∏–Ω–æ–∫ —Ç–∞ –°—Ç—Ä–∞—Ç–µ–≥—ñ—è',expectedReturn:'–û—á—ñ–∫—É–≤–∞–Ω–∞ –¥–æ—Ö—ñ–¥–Ω—ñ—Å—Ç—å (% —Ä.)',warChest:'–í–æ—î–Ω–Ω–∞ —Å–∫–∞—Ä–±–Ω–∏—Ü—è (%)',cashBuffer:'–ì—Ä–æ—à–æ–≤–∏–π –±—É—Ñ–µ—Ä (–†–æ–∫–∏)',pension:'–ü–µ–Ω—Å—ñ—è (—â–æ–º—ñ—Å—è—Ü—è)',allocation:'–†–æ–∑–ø–æ–¥—ñ–ª –∫–∞–ø—ñ—Ç–∞–ª—É',bufferShort:'–ë—É—Ñ–µ—Ä',warShort:'–í—ñ–π–Ω–∞',monthlyBudget:'–ú—ñ—Å—è—á–Ω–∏–π –±—é–¥–∂–µ—Ç',month:'–º—ñ—Å',cashBufferLabel:'–ì—Ä–æ—à–æ–≤–∏–π –±—É—Ñ–µ—Ä',chfSafety:'–ë–µ–∑–ø–µ–∫–∞',warChestLabel:'–í–æ—î–Ω–Ω–∞ —Å–∫–∞—Ä–±–Ω–∏—Ü—è',chfCrash:'–Ω–∞ –∫—Ä–∏–∑—É',purchasingPower:'–ö—É–ø—ñ–≤–µ–ª—å–Ω–∞ —Å–ø—Ä–æ–º–æ–∂–Ω—ñ—Å—Ç—å',chfReal:'—Ä–µ–∞–ª—å–Ω.',strategyHealth:'–ó–¥–æ—Ä–æ–≤\'—è —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó',fragile:'–ö—Ä–∏—Ö–∫–∞',stable:'–°—Ç–∞–±—ñ–ª—å–Ω–∞',robust:'–°—Ç—ñ–π–∫–∞',moderate:'–ü–æ–º—ñ—Ä–Ω–∞',historicalSim:'–Ü—Å—Ç–æ—Ä–∏—á–Ω–∞ —Å–∏–º—É–ª—è—Ü—ñ—è',yearsShort:'–†–æ–∫—ñ–≤',etfDepot:'ETF –î–µ–ø–æ',totalWealth:'–£—Å—å–æ–≥–æ',crisisPhase:'–ö—Ä–∏–∑–∞',withdrawalAnalysis:'–ê–Ω–∞–ª—ñ–∑ –≤–∏–ø–ª–∞—Ç',totalWithdrawal:'–ó–∞–≥–∞–ª—å–Ω–∞ –≤–∏–ø–ª–∞—Ç–∞',capitalUsed:'–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –∫–∞–ø—ñ—Ç–∞–ª',marketGain:'–†–∏–Ω–∫–æ–≤–∏–π –ø—Ä–∏–±—É—Ç–æ–∫',endWealth:'–ö—ñ–Ω—Ü–µ–≤–µ –±–∞–≥–∞—Ç—Å—Ç–≤–æ',worstDepot:'–ú—ñ–Ω. –∑–Ω–∞—á–µ–Ω–Ω—è –¥–µ–ø–æ',crisesSurvived:'–ü–µ—Ä–µ–∂–∏—Ç–∏—Ö –∫—Ä–∏–∑',bufferMonths:'–ú—ñ—Å—è—Ü—ñ –±—É—Ñ–µ—Ä–∞',yearsUnit:'–†–æ–∫—ñ–≤',monthsUnit:'–º—ñ—Å.',monthsCoverage:'–º—ñ—Å. –ø–æ–∫—Ä–∏—Ç—Ç—è',inclPension:'–≤–∫–ª. –ø–µ–Ω—Å—ñ—é',bearMarkets:'–≤–µ–¥–º–µ–∂–∏—Ö —Ä–∏–Ω–∫—ñ–≤',safetyLimits:'–ú–µ–∂—ñ –ë–µ–∑–ø–µ–∫–∏',maxSWR:'–ú–∞–∫—Å. –°—Ç–∞–≤–∫–∞ –í–∏–ø–ª–∞—Ç (%)',conservative:'–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ',aggressive:'–ê–≥—Ä–µ—Å–∏–≤–Ω–æ',swrCapped:'–°—Ç–∞–≤–∫–∞ –æ–±–º–µ–∂–µ–Ω–∞ {0}%.',swrUncapped:'–°—Ç–∞–≤–∫–∞ –Ω–∏–∂—á–µ –ª—ñ–º—ñ—Ç—É.',warnLowETF:'‚ö† –ú–µ–Ω—à–µ 15% –≤ ETF.',warnNoETF:'üö´ –ù–µ–º–∞—î –∫–∞–ø—ñ—Ç–∞–ª—É ETF!',warnNegative:'üö´ –í–∏–ø–ª–∞—Ç–∞ –Ω–µ–º–æ–∂–ª–∏–≤–∞.',warnHighSWR:'‚ö† –°—Ç–∞–≤–∫–∞ {0}% ‚Äî –≤–∏—â–µ –ø—Ä–∞–≤–∏–ª–∞ 4%.',warnHighLegacy:'‚ö† –°–ø–∞–¥—â–∏–Ω–∞ > 60% –∫–∞–ø—ñ—Ç–∞–ª—É.',methodInfo:'–Ü—Å—Ç–æ—Ä–∏—á–Ω—ñ –∫—Ä–∏–∑–∏ (1973‚Äì2026).',nominalEq:'–Ω–æ–º—ñ–Ω–∞–ª = {0} —Ä–µ–∞–ª—å–Ω.',tipCapital:'–ó–∞–≥–∞–ª—å–Ω—ñ –ª—ñ–∫–≤—ñ–¥–Ω—ñ –∞–∫—Ç–∏–≤–∏ –Ω–∞ –ø–µ–Ω—Å—ñ—ó (–∑–∞–æ—â–∞–¥–∂–µ–Ω–Ω—è, –ø–µ–Ω—Å—ñ–π–Ω—ñ, —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ—ó).',tipDuration:'–°–∫—ñ–ª—å–∫–∏ —Ä–æ–∫—ñ–≤ –º–∞—é—Ç—å –≤–∏—Å—Ç–∞—á–∏—Ç–∏ –≥—Ä–æ—à—ñ.',tipLegacy:'–°–∫—ñ–ª—å–∫–∏ —Ö–æ—á–µ—Ç–µ –∑–∞–ª–∏—à–∏—Ç–∏. 0 = –≤–∏—Ç—Ä–∞—Ç–∏—Ç–∏ –≤—Å–µ.',tipInflation:'–†—ñ—á–Ω–µ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è —Ü—ñ–Ω. –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ: 2%.',tipReturn:'–ù–æ–º—ñ–Ω–∞–ª—å–Ω–∞ —Ä—ñ—á–Ω–∞ –¥–æ—Ö—ñ–¥–Ω—ñ—Å—Ç—å ETF. MSCI World —Å–µ—Ä. ~7% –∑–∞ 30 —Ä–æ–∫—ñ–≤.',tipWarChest:'–†–µ–∑–µ—Ä–≤ –¥–ª—è –∫—É–ø—ñ–≤–ª—ñ –Ω–∞ –ø–∞–¥—ñ–Ω–Ω—ñ. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ >1.5%.',tipBuffer:'–†–æ–∫–∏ –≤–∏—Ç—Ä–∞—Ç –≥–æ—Ç—ñ–≤–∫–æ—é. –£ –∫—Ä–∏–∑—É –∑–Ω—ñ–º–∞—î—Ç—å—Å—è –∑–≤—ñ–¥—Å–∏ –∑–∞–º—ñ—Å—Ç—å –ø—Ä–æ–¥–∞–∂—É ETF.',tipPension:'–©–æ–º—ñ—Å—è—á–Ω–∏–π –ø–µ–Ω—Å—ñ–π–Ω–∏–π –¥–æ—Ö—ñ–¥. –ó–º–µ–Ω—à—É—î –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–Ω—è—Ç—Ç—è –∑ ETF.',tipMaxSWR:'–ú–∞–∫—Å. –±–µ–∑–ø–µ—á–Ω–∞ —Å—Ç–∞–≤–∫–∞ –≤–∏–ø–ª–∞—Ç. –ö–ª–∞—Å–∏—á–Ω–µ –ø—Ä–∞–≤–∏–ª–æ 4%.',tipRent:'–©–æ–º—ñ—Å—è—á–Ω–∞ –æ—Ä–µ–Ω–¥–Ω–∞ –ø–ª–∞—Ç–∞ (–±–µ–∑ –∫–æ–º—É–Ω–∞–ª—å–Ω–∏—Ö).',tipUtilities:'–ö–æ–º—É–Ω–∞–ª—å–Ω—ñ: –æ–ø–∞–ª–µ–Ω–Ω—è, –≤–æ–¥–∞, —Å–º—ñ—Ç—Ç—è, —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ —Ç–æ—â–æ.',tipPropVal:'–ü–æ—Ç–æ—á–Ω–∞ —Ä–∏–Ω–∫–æ–≤–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ.',tipMortgage:'–ó–∞–ª–∏—à–æ–∫ —ñ–ø–æ—Ç–µ—á–Ω–æ–≥–æ –±–æ—Ä–≥—É.',tipMortRate:'–†—ñ—á–Ω–∞ —Å—Ç–∞–≤–∫–∞ —ñ–ø–æ—Ç–µ–∫–∏.',tipMaint:'–©–æ–º—ñ—Å—è—á–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è + –∫–æ–º—É–Ω–∞–ª—å–Ω—ñ.',tipPropGrowth:'–†—ñ—á–Ω–µ –ø–æ–¥–æ—Ä–æ–∂—á–∞–Ω–Ω—è. –í —Å–µ—Ä–µ–¥–Ω—å–æ–º—É ~1.5%.',tipImputed:'–õ–∏—à–µ CH: —ñ–º–ø—É—Ç–æ–≤–∞–Ω–∞ –æ—Ä–µ–Ω–¥–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å. –û–ø–æ–¥–∞—Ç–∫–æ–≤—É—î—Ç—å—Å—è —è–∫ –¥–æ—Ö—ñ–¥.',tipIncTax:'–ì—Ä–∞–Ω–∏—á–Ω–∞ —Å—Ç–∞–≤–∫–∞ –Ω–∞ –ø–µ–Ω—Å—ñ—é + —ñ–º–ø—É—Ç–æ–≤–∞–Ω—É –æ—Ä–µ–Ω–¥—É.',tipCgTax:'–ü–æ–¥–∞—Ç–æ–∫ –Ω–∞ –ø—Ä–∏—Ä—ñ—Å—Ç –∫–∞–ø—ñ—Ç–∞–ª—É. CH: 0%. DE: 26.375%. US: 15-20%.',tipWealthTax:'–©–æ—Ä—ñ—á–Ω–∏–π –ø–æ–¥–∞—Ç–æ–∫ –Ω–∞ –º–∞–π–Ω–æ. CH: 0.1-0.5%. DE/US: 0%.',livingCosts:'–í–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –∂–∏—Ç—Ç—è',tipLiving:'–•–∞—Ä—á—É–≤–∞–Ω–Ω—è, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –º–µ–¥–∏—á–Ω–µ —Å—Ç—Ä–∞—Ö—É–≤–∞–Ω–Ω—è, –¥–æ–∑–≤—ñ–ª–ª—è, —Ö–æ–±—ñ. –í—Å–µ –Ω–µ–æ–±—Ö—ñ–¥–Ω–µ –∫—Ä—ñ–º –∂–∏—Ç–ª–∞.',disclaimerTitle:'–í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ',disclaimerText:'–¶–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –≤–∏–∫–ª—é—á–Ω–æ –≤ –æ—Å–≤—ñ—Ç–Ω—ñ—Ö —Ü—ñ–ª—è—Ö. –í—ñ–Ω –Ω–µ —î —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–æ—é, –ø–æ–¥–∞—Ç–∫–æ–≤–æ—é —á–∏ —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–æ—é –ø–æ—Ä–∞–¥–æ—é. –ú–∏–Ω—É–ª—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—é—Ç—å –º–∞–π–±—É—Ç–Ω—ñ—Ö. –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –∫–≤–∞–ª—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ–≥–æ —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —Ä–∞–¥–Ω–∏–∫–∞. –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ.',housing:'–ñ–∏—Ç–ª–æ',rent:'üè† –û—Ä–µ–Ω–¥–∞',ownership:'üè° –í–ª–∞—Å–Ω—ñ—Å—Ç—å',monthlyRent:'–©–æ–º—ñ—Å—è—á–Ω–∞ –æ—Ä–µ–Ω–¥–∞',utilities:'–ö–æ–º—É–Ω–∞–ª—å–Ω—ñ –ø–æ—Å–ª—É–≥–∏',propertyValue:'–í–∞—Ä—Ç—ñ—Å—Ç—å –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ',mortgage:'–ó–∞–ª–∏—à–æ–∫ —ñ–ø–æ—Ç–µ–∫–∏',mortgageRate:'–Ü–ø–æ—Ç–µ—á–Ω–∞ —Å—Ç–∞–≤–∫–∞ (%)',maintenanceCost:'–û–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è + –í–∏—Ç—Ä–∞—Ç–∏',propertyGrowth:'–ó—Ä–æ—Å—Ç–∞–Ω–Ω—è –≤–∞—Ä—Ç–æ—Å—Ç—ñ (% —Ä.)',imputedRent:'–£–º–æ–≤–Ω–∞ –æ—Ä–µ–Ω–¥–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å',propertyNet:'–ù–µ—Ä—É—Ö–æ–º—ñ—Å—Ç—å (–Ω–µ—Ç—Ç–æ)',taxes:'–ü–æ–¥–∞—Ç–∫–∏',incomeTax:'–ü–æ–¥–∞—Ç–æ–∫ –Ω–∞ –¥–æ—Ö–æ–¥–∏ (%)',capitalGainsTax:'–ü–æ–¥–∞—Ç–æ–∫ –Ω–∞ –ø—Ä–∏—Ä—ñ—Å—Ç –∫–∞–ø—ñ—Ç–∞–ª—É (%)',wealthTax:'–ü–æ–¥–∞—Ç–æ–∫ –Ω–∞ –º–∞–π–Ω–æ (% —Ä.)',netBudget:'–î–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è —á–∏—Å—Ç–æ–≥–æ –±—é–¥–∂–µ—Ç—É',drawdownStops:'–ó—É–ø–∏–Ω–∫–∏ –∑–Ω—è—Ç—Ç—è (-15%)',stressResistance:'–°—Ç—Ä–µ—Å–æ—Å—Ç—ñ–π–∫—ñ—Å—Ç—å (-50%)',projectedLegacy:'–ü—Ä–æ–≥–Ω–æ–∑–æ–≤–∞–Ω–∞ —Å–ø–∞–¥—â–∏–Ω–∞ (–¥–µ—Ç.)'},
hi:{code:'HI',name:'‡§π‡§ø‡§®‡•ç‡§¶‡•Ä',title:'Capital Pilot',subtitle:'‡§∞‡§£‡§®‡•Ä‡§§‡§ø‡§ï ‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§∏‡§ø‡§Æ‡•Å‡§≤‡•á‡§∂‡§®',baseParams:'‡§Æ‡•Ç‡§≤ ‡§™‡•à‡§∞‡§æ‡§Æ‡•Ä‡§ü‡§∞',startCapital:'‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠‡§ø‡§ï ‡§™‡•Ç‡§Ç‡§ú‡•Ä',duration:'‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§Ö‡§µ‡§ß‡§ø',targetLegacy:'‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§µ‡§ø‡§∞‡§æ‡§∏‡§§',inflation:'‡§Æ‡•Å‡§¶‡•ç‡§∞‡§æ‡§∏‡•ç‡§´‡•Ä‡§§‡§ø (% ‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï)',marketStrategy:'‡§¨‡§æ‡§ú‡§º‡§æ‡§∞ ‡§î‡§∞ ‡§∞‡§£‡§®‡•Ä‡§§‡§ø',expectedReturn:'‡§Ö‡§™‡•á‡§ï‡•ç‡§∑‡§ø‡§§ ‡§™‡•ç‡§∞‡§§‡§ø‡§´‡§≤ (% ‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï)',warChest:'‡§Ø‡•Å‡§¶‡•ç‡§ß ‡§ï‡•ã‡§∑ (%)',cashBuffer:'‡§®‡§ï‡§¶ ‡§¨‡§´‡§∞ (‡§µ‡§∞‡•ç‡§∑)',pension:'‡§™‡•á‡§Ç‡§∂‡§® (‡§Æ‡§æ‡§∏‡§ø‡§ï)',allocation:'‡§™‡•Ç‡§Ç‡§ú‡•Ä ‡§Ü‡§µ‡§Ç‡§ü‡§®',bufferShort:'‡§¨‡§´‡§∞',warShort:'‡§Ø‡•Å‡§¶‡•ç‡§ß',monthlyBudget:'‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§¨‡§ú‡§ü',month:'‡§Æ‡§æ‡§π',cashBufferLabel:'‡§®‡§ï‡§¶ ‡§¨‡§´‡§∞',chfSafety:'‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ',warChestLabel:'‡§Ø‡•Å‡§¶‡•ç‡§ß ‡§ï‡•ã‡§∑',chfCrash:'‡§∏‡§Ç‡§ï‡§ü ‡§π‡•á‡§§‡•Å',purchasingPower:'‡§ï‡•ç‡§∞‡§Ø ‡§∂‡§ï‡•ç‡§§‡§ø',chfReal:'‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï (‡§Ü‡§ú)',strategyHealth:'‡§∞‡§£‡§®‡•Ä‡§§‡§ø ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø',fragile:'‡§®‡§æ‡§ú‡•Å‡§ï',stable:'‡§∏‡•ç‡§•‡§ø‡§∞',robust:'‡§Æ‡§ú‡§¨‡•Ç‡§§',moderate:'‡§Æ‡§ß‡•ç‡§Ø‡§Æ',historicalSim:'‡§ê‡§§‡§ø‡§π‡§æ‡§∏‡§ø‡§ï ‡§∏‡§ø‡§Æ‡•Å‡§≤‡•á‡§∂‡§®',yearsShort:'‡§µ‡§∞‡•ç‡§∑',etfDepot:'ETF ‡§°‡§ø‡§™‡•ã',totalWealth:'‡§ï‡•Å‡§≤',crisisPhase:'‡§∏‡§Ç‡§ï‡§ü',withdrawalAnalysis:'‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£',totalWithdrawal:'‡§ï‡•Å‡§≤ ‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä',capitalUsed:'‡§™‡•Ç‡§Ç‡§ú‡•Ä ‡§â‡§™‡§Ø‡•ã‡§ó',marketGain:'‡§¨‡§æ‡§ú‡§º‡§æ‡§∞ ‡§≤‡§æ‡§≠',endWealth:'‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø',worstDepot:'‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§°‡§ø‡§™‡•ã',crisesSurvived:'‡§∏‡§Ç‡§ï‡§ü ‡§∏‡§π‡•á',bufferMonths:'‡§¨‡§´‡§∞ ‡§Æ‡§æ‡§π',yearsUnit:'‡§µ‡§∞‡•ç‡§∑',monthsUnit:'‡§Æ‡§æ‡§π',monthsCoverage:'‡§Æ‡§æ‡§π ‡§ï‡§µ‡§∞‡•á‡§ú',inclPension:'‡§™‡•á‡§Ç‡§∂‡§® ‡§∏‡§π‡§ø‡§§',bearMarkets:'‡§Æ‡§Ç‡§¶‡•Ä ‡§¨‡§æ‡§ú‡§º‡§æ‡§∞',safetyLimits:'‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ ‡§∏‡•Ä‡§Æ‡§æ‡§è‡§Å',maxSWR:'‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ ‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§¶‡§∞ (%)',conservative:'‡§∞‡•Ç‡§¢‡§º‡§ø‡§µ‡§æ‡§¶‡•Ä',aggressive:'‡§Ü‡§ï‡•ç‡§∞‡§æ‡§Æ‡§ï',swrCapped:'‡§¶‡§∞ {0}% ‡§™‡§∞ ‡§∏‡•Ä‡§Æ‡§ø‡§§‡•§',swrUncapped:'‡§¶‡§∞ ‡§∏‡•Ä‡§Æ‡§æ ‡§∏‡•á ‡§®‡•Ä‡§ö‡•á‡•§',warnLowETF:'‚ö† ETF ‡§Æ‡•á‡§Ç 15% ‡§∏‡•á ‡§ï‡§Æ‡•§',warnNoETF:'üö´ ETF ‡§™‡•Ç‡§Ç‡§ú‡•Ä ‡§®‡§π‡•Ä‡§Ç!',warnNegative:'üö´ ‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§Ö‡§∏‡§Ç‡§≠‡§µ‡•§',warnHighSWR:'‚ö† ‡§¶‡§∞ {0}% ‚Äî 4% ‡§®‡§ø‡§Ø‡§Æ ‡§∏‡•á ‡§ä‡§™‡§∞‡•§',warnHighLegacy:'‚ö† ‡§µ‡§ø‡§∞‡§æ‡§∏‡§§ > ‡§™‡•Ç‡§Ç‡§ú‡•Ä ‡§ï‡§æ 60%‡•§',methodInfo:'‡§ê‡§§‡§ø‡§π‡§æ‡§∏‡§ø‡§ï ‡§∏‡§Ç‡§ï‡§ü (1973‚Äì2026)‡•§',nominalEq:'‡§Ö‡§Ç‡§ï‡§ø‡§§ = {0} ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï',tipCapital:'‡§∏‡•á‡§µ‡§æ‡§®‡§ø‡§µ‡•É‡§§‡•ç‡§§‡§ø ‡§™‡§∞ ‡§ï‡•Å‡§≤ ‡§§‡§∞‡§≤ ‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø (‡§¨‡§ö‡§§, ‡§™‡•á‡§Ç‡§∂‡§®, ‡§®‡§ø‡§µ‡•á‡§∂)‡•§',tipDuration:'‡§™‡•à‡§∏‡§æ ‡§ï‡§ø‡§§‡§®‡•á ‡§∏‡§æ‡§≤ ‡§ö‡§≤‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§',tipLegacy:'‡§ï‡§ø‡§§‡§®‡§æ ‡§õ‡•ã‡§°‡§º‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç‡•§ 0 = ‡§∏‡§¨ ‡§ñ‡§∞‡•ç‡§ö ‡§ï‡§∞‡•á‡§Ç‡•§',tipInflation:'‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø‡•§ ‡§∞‡•Ç‡§¢‡§º‡§ø‡§µ‡§æ‡§¶‡•Ä: 2%‡•§',tipReturn:'ETF ‡§™‡•ã‡§∞‡•ç‡§ü‡§´‡•ã‡§≤‡§ø‡§Ø‡•ã ‡§ï‡•Ä ‡§®‡§æ‡§Æ‡§Æ‡§æ‡§§‡•ç‡§∞ ‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï ‡§™‡•ç‡§∞‡§§‡§ø‡§´‡§≤‡•§ MSCI World ‡§î‡§∏‡§§ ~7% 30 ‡§µ‡§∞‡•ç‡§∑‡•ã‡§Ç ‡§Æ‡•á‡§Ç‡•§',tipWarChest:'‡§ó‡§ø‡§∞‡§æ‡§µ‡§ü ‡§Æ‡•á‡§Ç ‡§ñ‡§∞‡•Ä‡§¶‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§ï‡§¶ ‡§Ü‡§∞‡§ï‡•ç‡§∑‡§ø‡§§‡•§ >1.5% ‡§ó‡§ø‡§∞‡§æ‡§µ‡§ü ‡§™‡§∞ ‡§∏‡•ç‡§µ‡§ö‡§æ‡§≤‡§ø‡§§‡•§',tipBuffer:'‡§®‡§ï‡§¶ ‡§Æ‡•á‡§Ç ‡§µ‡§∞‡•ç‡§∑‡•ã‡§Ç ‡§ï‡§æ ‡§ñ‡§∞‡•ç‡§ö‡•§ ‡§∏‡§Ç‡§ï‡§ü ‡§Æ‡•á‡§Ç ETF ‡§¨‡•á‡§ö‡§®‡•á ‡§ï‡•á ‡§¨‡§ú‡§æ‡§Ø ‡§Ø‡§π‡§æ‡§Ç ‡§∏‡•á ‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä‡•§',tipPension:'‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§™‡•á‡§Ç‡§∂‡§® ‡§Ü‡§Ø‡•§ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ETF ‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§ï‡§Æ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à‡•§',tipMaxSWR:'‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§¶‡§∞‡•§ ‡§ï‡•ç‡§≤‡§æ‡§∏‡§ø‡§ï 4% ‡§®‡§ø‡§Ø‡§Æ‡•§',tipRent:'‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§ï‡§ø‡§∞‡§æ‡§Ø‡§æ (‡§¨‡§ø‡§®‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó‡§ø‡§§‡§æ)‡•§',tipUtilities:'‡§â‡§™‡§Ø‡•ã‡§ó‡§ø‡§§‡§æ: ‡§π‡•Ä‡§ü‡§ø‡§Ç‡§ó, ‡§™‡§æ‡§®‡•Ä, ‡§ï‡§ö‡§∞‡§æ, ‡§¨‡•Ä‡§Æ‡§æ ‡§Ü‡§¶‡§ø‡•§',tipPropVal:'‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø ‡§ï‡§æ ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡•§',tipMortgage:'‡§∂‡•á‡§∑ ‡§¨‡§Ç‡§ß‡§ï ‡§ã‡§£‡•§',tipMortRate:'‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï ‡§¨‡§Ç‡§ß‡§ï ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞‡•§',tipMaint:'‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§∞‡§ñ‡§∞‡§ñ‡§æ‡§µ + ‡§â‡§™‡§Ø‡•ã‡§ó‡§ø‡§§‡§æ ‡§≤‡§æ‡§ó‡§§‡•§',tipPropGrowth:'‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø‡•§ ‡§î‡§∏‡§§ ~1.5%‡•§',tipImputed:'‡§ï‡•á‡§µ‡§≤ CH: ‡§Ü‡§∞‡•ã‡§™‡§ø‡§§ ‡§ï‡§ø‡§∞‡§æ‡§Ø‡§æ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡•§ ‡§Ü‡§Ø ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§ï‡§∞‡•§',tipIncTax:'‡§™‡•á‡§Ç‡§∂‡§® + ‡§Ü‡§∞‡•ã‡§™‡§ø‡§§ ‡§ï‡§ø‡§∞‡§æ‡§è ‡§™‡§∞ ‡§∏‡•Ä‡§Æ‡§æ‡§Ç‡§§ ‡§ï‡§∞ ‡§¶‡§∞‡•§',tipCgTax:'‡§™‡•Ç‡§Ç‡§ú‡•Ä‡§ó‡§§ ‡§≤‡§æ‡§≠ ‡§ï‡§∞‡•§ CH: 0%‡•§ DE: 26.375%‡•§ US: 15-20%‡•§',tipWealthTax:'‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï ‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø ‡§ï‡§∞‡•§ CH: 0.1-0.5%‡•§ DE/US: 0%‡•§',livingCosts:'‡§ú‡•Ä‡§µ‡§® ‡§Ø‡§æ‡§™‡§® ‡§≤‡§æ‡§ó‡§§',tipLiving:'‡§≠‡•ã‡§ú‡§®, ‡§™‡§∞‡§ø‡§µ‡§π‡§®, ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§¨‡•Ä‡§Æ‡§æ, ‡§Æ‡§®‡•ã‡§∞‡§Ç‡§ú‡§®, ‡§∂‡•å‡§ï‡•§ ‡§Ü‡§µ‡§æ‡§∏ ‡§ï‡•á ‡§Ö‡§≤‡§æ‡§µ‡§æ ‡§¶‡•à‡§®‡§ø‡§ï ‡§ú‡•Ä‡§µ‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¨ ‡§ï‡•Å‡§õ‡•§',disclaimerTitle:'‡§Ö‡§∏‡•ç‡§µ‡•Ä‡§ï‡§∞‡§£',disclaimerText:'‡§Ø‡§π ‡§ï‡•á‡§µ‡§≤ ‡§∂‡•à‡§ï‡•ç‡§∑‡§ø‡§ï ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∏‡§ø‡§Æ‡•Å‡§≤‡•á‡§∂‡§® ‡§â‡§™‡§ï‡§∞‡§£ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§µ‡§ø‡§§‡•ç‡§§‡•Ä‡§Ø, ‡§ï‡§∞ ‡§Ø‡§æ ‡§®‡§ø‡§µ‡•á‡§∂ ‡§∏‡§≤‡§æ‡§π ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§ ‡§™‡§ø‡§õ‡§≤‡§æ ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§® ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§ï‡•á ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ‡•ã‡§Ç ‡§ï‡•Ä ‡§ó‡§æ‡§∞‡§Ç‡§ü‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§¶‡•á‡§§‡§æ‡•§ ‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§µ‡§ø‡§§‡•ç‡§§‡•Ä‡§Ø ‡§∏‡§≤‡§æ‡§π‡§ï‡§æ‡§∞ ‡§∏‡•á ‡§™‡§∞‡§æ‡§Æ‡§∞‡•ç‡§∂ ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§≤‡•á‡§ñ‡§ï ‡§ï‡•ã‡§à ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§≤‡•á‡§§‡§æ‡•§',housing:'‡§Ü‡§µ‡§æ‡§∏',rent:'üè† ‡§ï‡§ø‡§∞‡§æ‡§Ø‡§æ',ownership:'üè° ‡§∏‡•ç‡§µ‡§æ‡§Æ‡§ø‡§§‡•ç‡§µ',monthlyRent:'‡§Æ‡§æ‡§∏‡§ø‡§ï ‡§ï‡§ø‡§∞‡§æ‡§Ø‡§æ',utilities:'‡§â‡§™‡§Ø‡•ã‡§ó‡§ø‡§§‡§æ‡§è‡§Ç / ‡§∂‡•Å‡§≤‡•ç‡§ï',propertyValue:'‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø ‡§ï‡§æ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø',mortgage:'‡§¨‡§Ç‡§ß‡§ï ‡§∂‡•á‡§∑',mortgageRate:'‡§¨‡§Ç‡§ß‡§ï ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§¶‡§∞ (%)',maintenanceCost:'‡§∞‡§ñ‡§∞‡§ñ‡§æ‡§µ + ‡§∂‡•Å‡§≤‡•ç‡§ï',propertyGrowth:'‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø (% ‡§™‡•ç‡§∞.‡§µ.)',imputedRent:'‡§Ü‡§∞‡•ã‡§™‡§ø‡§§ ‡§ï‡§ø‡§∞‡§æ‡§Ø‡§æ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø',propertyNet:'‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø (‡§∂‡•Å‡§¶‡•ç‡§ß)',taxes:'‡§ï‡§∞',incomeTax:'‡§Ü‡§Ø‡§ï‡§∞ (%)',capitalGainsTax:'‡§™‡•Ç‡§Ç‡§ú‡•Ä‡§ó‡§§ ‡§≤‡§æ‡§≠ ‡§ï‡§∞ (%)',wealthTax:'‡§∏‡§Ç‡§™‡§§‡•ç‡§§‡§ø ‡§ï‡§∞ (% ‡§™‡•ç‡§∞.‡§µ.)',netBudget:'‡§∂‡•Å‡§¶‡•ç‡§ß ‡§¨‡§ú‡§ü ‡§µ‡§ø‡§µ‡§∞‡§£',drawdownStops:'‡§®‡§ø‡§ï‡§æ‡§∏‡•Ä ‡§∞‡•ã‡§ï (-15%)',stressResistance:'‡§§‡§®‡§æ‡§µ ‡§™‡•ç‡§∞‡§§‡§ø‡§∞‡•ã‡§ß (-50%)',projectedLegacy:'‡§Ö‡§®‡•Å‡§Æ‡§æ‡§®‡§ø‡§§ ‡§µ‡§ø‡§∞‡§æ‡§∏‡§§ (‡§µ‡§ø‡§µ‡§∞‡§£)'},
zh:{code:'ZH',name:'‰∏≠Êñá',title:'Capital Pilot',subtitle:'ÊàòÁï•ÊèêÊ¨æÊ®°Êãü',baseParams:'Âü∫Êú¨ÂèÇÊï∞',startCapital:'ÂàùÂßãËµÑÊú¨',duration:'ÊèêÊ¨æÊúüÈôê',targetLegacy:'ÁõÆÊ†áÈÅó‰∫ß',inflation:'ÈÄöËÉÄÁéá (% Âπ¥)',marketStrategy:'Â∏ÇÂú∫‰∏éÁ≠ñÁï•',expectedReturn:'È¢ÑÊúüÊî∂Áõä (% Âπ¥)',warChest:'Êàò‰∫âÂü∫Èáë (%)',cashBuffer:'Áé∞ÈáëÁºìÂÜ≤ (Âπ¥)',pension:'ÂÖªËÄÅÈáë (Êúà)',allocation:'ËµÑÊú¨ÈÖçÁΩÆ',bufferShort:'ÁºìÂÜ≤',warShort:'Êàò‰∫â',monthlyBudget:'ÊúàÂ∫¶È¢ÑÁÆó',month:'Êúà',cashBufferLabel:'Áé∞ÈáëÁºìÂÜ≤',chfSafety:'ÂÆâÂÖ®',warChestLabel:'Êàò‰∫âÂü∫Èáë',chfCrash:'Âç±Êú∫Áî®',purchasingPower:'Ë¥≠‰π∞Âäõ',chfReal:'ÂÆûÈôÖ(‰ªäÊó•)',strategyHealth:'Á≠ñÁï•ÂÅ•Â∫∑Â∫¶',fragile:'ËÑÜÂº±',stable:'Á®≥ÂÆö',robust:'Á®≥ÂÅ•',moderate:'‰∏≠Á≠â',historicalSim:'ÂéÜÂè≤Ê®°Êãü',yearsShort:'Âπ¥',etfDepot:'ETF Ë¥¶Êà∑',totalWealth:'ÊÄªËÆ°',crisisPhase:'Âç±Êú∫',withdrawalAnalysis:'ÊèêÊ¨æÂàÜÊûê',totalWithdrawal:'ÊÄªÊèêÊ¨æÈ¢ù',capitalUsed:'Â∑≤Áî®ËµÑÊú¨',marketGain:'Â∏ÇÂú∫Êî∂Áõä',endWealth:'ÁªàÂÄºË¥¢ÂØå',worstDepot:'ÊúÄ‰ΩéË¥¶Êà∑ÂÄº',crisesSurvived:'Â∫¶ËøáÂç±Êú∫',bufferMonths:'ÁºìÂÜ≤ÊúàÊï∞',yearsUnit:'Âπ¥',monthsUnit:'Êúà',monthsCoverage:'ÊúàË¶ÜÁõñ',inclPension:'Âê´ÂÖªËÄÅÈáë',bearMarkets:'ÁÜäÂ∏Ç',safetyLimits:'ÂÆâÂÖ®ÈôêÂà∂',maxSWR:'ÊúÄÂ§ßÊèêÊ¨æÁéá (%)',conservative:'‰øùÂÆà',aggressive:'ÊøÄËøõ',swrCapped:'ÊèêÊ¨æÁéáÈôêÂà∂Âú®{0}%„ÄÇ',swrUncapped:'ÊèêÊ¨æÁéá‰Ωé‰∫éÈôêÂà∂„ÄÇ',warnLowETF:'‚ö† ETF‰∏çË∂≥15%„ÄÇ',warnNoETF:'üö´ Êó†ETFËµÑÊú¨ÔºÅ',warnNegative:'üö´ Êó†Ê≥ïÊèêÊ¨æ„ÄÇ',warnHighSWR:'‚ö† ÊèêÊ¨æÁéá{0}% ‚Äî Ë∂ÖËøá4%ËßÑÂàô„ÄÇ',warnHighLegacy:'‚ö† ÈÅó‰∫ß > ËµÑÊú¨60%„ÄÇ',methodInfo:'ÂéÜÂè≤Âç±Êú∫Âè†Âä†(1973-2026)„ÄÇ',nominalEq:'Âêç‰πâ = {0} ÂÆûÈôÖ',tipCapital:'ÈÄÄ‰ºëÊó∂ÁöÑÊÄªÊµÅÂä®ËµÑ‰∫ßÔºàÂÇ®ËìÑ„ÄÅÂÖªËÄÅÈáë„ÄÅÊäïËµÑÔºâ„ÄÇ',tipDuration:'ËµÑÈáëÈúÄË¶ÅÁª¥ÊåÅÂ§öÂ∞ëÂπ¥„ÄÇ',tipLegacy:'ÊÉ≥Áïô‰∏ãÂ§öÂ∞ë„ÄÇ0 = ÂÖ®ÈÉ®Ëä±Êéâ„ÄÇ',tipInflation:'Âπ¥Â∫¶‰ª∑Ê†º‰∏äÊ∂®„ÄÇ‰øùÂÆàÔºö2%„ÄÇ',tipReturn:'ETFÊäïËµÑÁªÑÂêàÁöÑÂêç‰πâÂπ¥ÂõûÊä•Áéá„ÄÇMSCI WorldÂπ≥Âùá30Âπ¥Á∫¶7%„ÄÇ',tipWarChest:'‰∏ãË∑åÊó∂‰π∞ÂÖ•ÁöÑÁé∞ÈáëÂÇ®Â§á„ÄÇË∑åÂπÖ>1.5%Êó∂Ëá™Âä®ÂêØÁî®„ÄÇ',tipBuffer:'‰ª•Áé∞ÈáëÊåÅÊúâÁöÑÂπ¥Â∫¶ÊîØÂá∫„ÄÇÂç±Êú∫Êó∂‰ªéÊ≠§Â§ÑÊèêÂèñËÄåÈùûÂçñÂá∫ETF„ÄÇ',tipPension:'ÊúàÂ∫¶ÂÖªËÄÅÈáëÊî∂ÂÖ•„ÄÇÂáèÂ∞ëÊâÄÈúÄÁöÑETFÊèêÂèñ„ÄÇ',tipMaxSWR:'ÊúÄÂ§ßÂÆâÂÖ®ÊèêÊ¨æÁéá„ÄÇÁªèÂÖ∏4%ËßÑÂàô„ÄÇ',tipRent:'ÊúàÁßüÈáëÔºà‰∏çÂê´Ê∞¥ÁîµÔºâ„ÄÇ',tipUtilities:'Ê∞¥ÁîµË¥πÔºö‰æõÊöñ„ÄÅÊ∞¥„ÄÅÂûÉÂúæ„ÄÅ‰øùÈô©Á≠â„ÄÇ',tipPropVal:'Êàø‰∫ßÂΩìÂâçÂ∏ÇÂú∫‰ª∑ÂÄº„ÄÇ',tipMortgage:'Ââ©‰ΩôÊäµÊäºË¥∑Ê¨æ„ÄÇ',tipMortRate:'Âπ¥Â∫¶ÊäµÊäºË¥∑Ê¨æÂà©Áéá„ÄÇ',tipMaint:'ÊúàÂ∫¶Áª¥Êä§Ë¥πÁî®+Ê∞¥Áîµ„ÄÇ',tipPropGrowth:'Âπ¥Â∫¶Â¢ûÂÄº„ÄÇÂπ≥ÂùáÁ∫¶1.5%„ÄÇ',tipImputed:'‰ªÖCHÔºöÊé®ÁÆóÁßüÈáë‰ª∑ÂÄº„ÄÇ‰Ωú‰∏∫Êî∂ÂÖ•ÂæÅÁ®é„ÄÇ',tipIncTax:'ÂÖªËÄÅÈáë+Êé®ÁÆóÁßüÈáëÁöÑËæπÈôÖÁ®éÁéá„ÄÇ',tipCgTax:'ËµÑÊú¨Âà©ÂæóÁ®é„ÄÇCHÔºö0%„ÄÇDEÔºö26.375%„ÄÇUSÔºö15-20%„ÄÇ',tipWealthTax:'Âπ¥Â∫¶Ë¥¢ÂØåÁ®é„ÄÇCHÔºö0.1-0.5%„ÄÇDE/USÔºö0%„ÄÇ',livingCosts:'ÁîüÊ¥ªË¥πÁî®',tipLiving:'È•ÆÈ£ü„ÄÅ‰∫§ÈÄö„ÄÅÂåªÁñó‰øùÈô©„ÄÅ‰ºëÈó≤„ÄÅÁà±Â•Ω„ÄÇ‰ΩèÊàø‰ª•Â§ñÊó•Â∏∏ÁîüÊ¥ªÊâÄÈúÄÁöÑ‰∏ÄÂàá„ÄÇ',disclaimerTitle:'ÂÖçË¥£Â£∞Êòé',disclaimerText:'ËøôÊòØ‰∏Ä‰∏™‰ªÖÁî®‰∫éÊïôËÇ≤ÁõÆÁöÑÁöÑÊ®°ÊãüÂ∑•ÂÖ∑„ÄÇÂÆÉ‰∏çÊûÑÊàêË¥¢Âä°„ÄÅÁ®éÂä°ÊàñÊäïËµÑÂª∫ËÆÆ„ÄÇËøáÂéªÁöÑË°®Áé∞‰∏çËÉΩ‰øùËØÅÊú™Êù•ÁöÑÁªìÊûú„ÄÇËØ∑Âí®ËØ¢ÂêàÊ†ºÁöÑË¥¢Âä°È°æÈóÆ„ÄÇ‰ΩúËÄÖ‰∏çÊâøÊãÖ‰ªª‰ΩïË¥£‰ªª„ÄÇ',housing:'‰ΩèÊàø',rent:'üè† ÁßüÊàø',ownership:'üè° Ëá™‰Ωè',monthlyRent:'ÊúàÁßüÈáë',utilities:'Ê∞¥ÁîµÁâ©‰∏öË¥π',propertyValue:'Êàø‰∫ß‰ª∑ÂÄº',mortgage:'ÊàøË¥∑‰ΩôÈ¢ù',mortgageRate:'ÊàøË¥∑Âà©Áéá (%)',maintenanceCost:'Áª¥Êä§Ë¥π + Áâ©‰∏öË¥π',propertyGrowth:'Â¢ûÂÄºÁéá (% Âπ¥)',imputedRent:'ÁßüËµÅ‰ª∑ÂÄºÔºàÁëûÂ£´Ôºâ',propertyNet:'Êàø‰∫ßÔºàÂáÄÂÄºÔºâ',taxes:'Á®éÂä°',incomeTax:'ÊâÄÂæóÁ®é (%)',capitalGainsTax:'ËµÑÊú¨Âà©ÂæóÁ®é (%)',wealthTax:'Ë¥¢ÂØåÁ®é (% Âπ¥)',netBudget:'ÂáÄÈ¢ÑÁÆóÊòéÁªÜ',drawdownStops:'ÊèêÊ¨æÊöÇÂÅú (-15%)',stressResistance:'ÂéãÂäõÊäµÊäó (-50%)',projectedLegacy:'È¢ÑËÆ°ÈÅó‰∫ßÔºàËØ¶ÁªÜÔºâ'},
};

let currentLang = 'en';

function detectLang() {
    const bl = (navigator.language || navigator.userLanguage || 'en').toLowerCase().split('-')[0];
    // Map browser codes to our keys
    const map = {en:'en',de:'de',fr:'fr',es:'es',it:'it',pt:'pt',nl:'nl',pl:'pl',ru:'ru',tr:'tr',sv:'sv',da:'da',nb:'no',nn:'no',no:'no',fi:'fi',cs:'cs',hu:'hu',ro:'ro',el:'el',uk:'uk',hi:'hi',zh:'zh'};
    return map[bl] || 'en';
}

function setLang(lang) {
    currentLang = lang;
    const t = LANGS[lang];
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.dataset.i18n;
        if (!t[key]) return;
        // If element has a child with data-i18n-tip, only update the first text node
        const tipChild = el.querySelector('[data-i18n-tip]');
        if (tipChild) {
            // Find or create the text node before the tip span
            const firstText = Array.from(el.childNodes).find(n => n.nodeType === 3);
            if (firstText) firstText.textContent = t[key];
            else el.insertBefore(document.createTextNode(t[key]), tipChild);
        } else {
            el.textContent = t[key];
        }
    });
    // Update tooltips
    document.querySelectorAll('[data-i18n-tip]').forEach(el => {
        const key = el.dataset.i18nTip;
        if (t[key]) el.textContent = t[key];
    });
    document.title = t.title + ' ‚Äî ' + t.subtitle;
    document.getElementById('langLabel').textContent = t.code;
    document.querySelectorAll('.lang-opt:not(.cur-opt)').forEach(o => o.classList.toggle('active', o.dataset.lang === lang));
    // Update theme button label
    const tLabel = document.getElementById('themeLabel');
    if (tLabel) tLabel.textContent = isLightMode ? (t.themeLight||'Light') : (t.themeDark||'Dark');
    updateNavButtonTooltips();
    recalc();
}


function updateNavButtonTooltips() {
    const back = document.getElementById('btn-back-5y');
    const fwd = document.getElementById('btn-fwd-5y');
    const rnd = document.getElementById('btn-rand-sim');

    const tips = {
        en: {
            back: 'Jump back 5 years in real history.',
            fwd: 'Jump forward 5 years in real history.',
            rnd: 'Generate a random forecast from today based on historical crisis patterns.',
        },
        de: {
            back: 'Springe 5 Jahre zur√ºck in der realen Historie.',
            fwd: 'Springe 5 Jahre vorw√§rts in der realen Historie.',
            rnd: 'Generiere eine Zufallsprognose ab heute basierend auf historischen Krisenmustern.',
        },
        fr: {
            back: "Reculer de 5 ans dans l'historique r√©el.",
            fwd: "Avancer de 5 ans dans l'historique r√©el.",
            rnd: "G√©n√©rer une pr√©vision al√©atoire √† partir d'aujourd'hui bas√©e sur des sch√©mas de crises historiques.",
        },
        es: {
            back: 'Retrocede 5 a√±os en la historia real.',
            fwd: 'Avanza 5 a√±os en la historia real.',
            rnd: 'Genera una previsi√≥n aleatoria desde hoy basada en patrones hist√≥ricos de crisis.',
        },
        it: {
            back: 'Vai indietro di 5 anni nella storia reale.',
            fwd: 'Vai avanti di 5 anni nella storia reale.',
            rnd: 'Genera una previsione casuale a partire da oggi basata su modelli storici di crisi.',
        },
        pt: {
            back: 'Volte 5 anos na hist√≥ria real.',
            fwd: 'Avance 5 anos na hist√≥ria real.',
            rnd: 'Gere uma previs√£o aleat√≥ria a partir de hoje com base em padr√µes hist√≥ricos de crise.',
        },
        nl: {
            back: 'Spring 5 jaar terug in de echte geschiedenis.',
            fwd: 'Spring 5 jaar vooruit in de echte geschiedenis.',
            rnd: 'Genereer vanaf vandaag een willekeurige prognose op basis van historische crisispatronen.',
        },
        pl: {
            back: 'Cofnij siƒô o 5 lat w prawdziwej historii.',
            fwd: 'Przeskocz o 5 lat do przodu w prawdziwej historii.',
            rnd: 'Wygeneruj losowƒÖ prognozƒô od dzi≈õ na podstawie historycznych wzorc√≥w kryzys√≥w.',
        },
        ru: {
            back: '–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ 5 –ª–µ—Ç –Ω–∞–∑–∞–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏.',
            fwd: '–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ 5 –ª–µ—Ç –≤–ø–µ—Ä—ë–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏.',
            rnd: '–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑ –æ—Ç —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤ –∫—Ä–∏–∑–∏—Å–æ–≤.',
        },
        tr: {
            back: 'Ger√ßek tarihte 5 yƒ±l geri git.',
            fwd: 'Ger√ßek tarihte 5 yƒ±l ileri git.',
            rnd: 'Tarihsel kriz √∂r√ºnt√ºlerine dayanarak bug√ºnden itibaren rastgele bir tahmin olu≈ütur.',
        },
        sv: {
            back: 'Hoppa 5 √•r tillbaka i den verkliga historiken.',
            fwd: 'Hoppa 5 √•r fram√•t i den verkliga historiken.',
            rnd: 'Generera en slumpm√§ssig prognos fr√•n i dag baserat p√• historiska krism√∂nster.',
        },
        da: {
            back: 'Spring 5 √•r tilbage i den virkelige historik.',
            fwd: 'Spring 5 √•r frem i den virkelige historik.',
            rnd: 'Gener√©r en tilf√¶ldig prognose fra i dag baseret p√• historiske krisem√∏nstre.',
        },
        no: {
            back: 'Hopp 5 √•r tilbake i den virkelige historien.',
            fwd: 'Hopp 5 √•r fram i den virkelige historien.',
            rnd: 'Generer en tilfeldig prognose fra i dag basert p√• historiske krisem√∏nstre.',
        },
        fi: {
            back: 'Siirry 5 vuotta taaksep√§in todellisessa historiassa.',
            fwd: 'Siirry 5 vuotta eteenp√§in todellisessa historiassa.',
            rnd: 'Luo satunnainen ennuste t√§st√§ p√§iv√§st√§ historiallisten kriisimallien perusteella.',
        },
        cs: {
            back: 'Skoƒç o 5 let zpƒõt ve skuteƒçn√© historii.',
            fwd: 'Skoƒç o 5 let vp≈ôed ve skuteƒçn√© historii.',
            rnd: 'Vygeneruj n√°hodnou progn√≥zu od dne≈°ka na z√°kladƒõ historick√Ωch krizov√Ωch vzorc≈Ø.',
        },
        hu: {
            back: 'Ugorj 5 √©vet vissza a val√≥s t√∂rt√©nelemben.',
            fwd: 'Ugorj 5 √©vet el≈ëre a val√≥s t√∂rt√©nelemben.',
            rnd: 'Gener√°lj v√©letlen el≈ërejelz√©st m√°t√≥l t√∂rt√©nelmi v√°ls√°gmint√°k alapj√°n.',
        },
        ro: {
            back: 'Sari cu 5 ani √Ænapoi √Æn istoria realƒÉ.',
            fwd: 'Sari cu 5 ani √Ænainte √Æn istoria realƒÉ.',
            rnd: 'GenereazƒÉ o prognozƒÉ aleatorie de azi pe baza tiparelor istorice de crizƒÉ.',
        },
        el: {
            back: 'ŒúŒµœÑŒ¨Œ≤Œ±œÉŒ∑ 5 œáœÅœåŒΩŒπŒ± œÄŒØœÉœâ œÉœÑŒ∑ŒΩ œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫ŒÆ ŒπœÉœÑŒøœÅŒØŒ±.',
            fwd: 'ŒúŒµœÑŒ¨Œ≤Œ±œÉŒ∑ 5 œáœÅœåŒΩŒπŒ± ŒºœÄœÅŒøœÉœÑŒ¨ œÉœÑŒ∑ŒΩ œÄœÅŒ±Œ≥ŒºŒ±œÑŒπŒ∫ŒÆ ŒπœÉœÑŒøœÅŒØŒ±.',
            rnd: 'ŒîŒ∑ŒºŒπŒøœçœÅŒ≥Œ∑œÉŒµ ŒºŒπŒ± œÑœÖœáŒ±ŒØŒ± œÄœÅœåŒ≤ŒªŒµœàŒ∑ Œ±œÄœå œÉŒÆŒºŒµœÅŒ± Œ≤Œ¨œÉŒµŒπ ŒπœÉœÑŒøœÅŒπŒ∫œéŒΩ œÄœÅŒøœÑœçœÄœâŒΩ Œ∫œÅŒØœÉŒµœâŒΩ.',
        },
        uk: {
            back: '–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ 5 —Ä–æ–∫—ñ–≤ –Ω–∞–∑–∞–¥ —É —Ä–µ–∞–ª—å–Ω—ñ–π —ñ—Å—Ç–æ—Ä—ñ—ó.',
            fwd: '–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ 5 —Ä–æ–∫—ñ–≤ —É–ø–µ—Ä–µ–¥ —É —Ä–µ–∞–ª—å–Ω—ñ–π —ñ—Å—Ç–æ—Ä—ñ—ó.',
            rnd: '–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –≤–∏–ø–∞–¥–∫–æ–≤–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –≤—ñ–¥ —Å—å–æ–≥–æ–¥–Ω—ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∏—Ö –∫—Ä–∏–∑–æ–≤–∏—Ö —à–∞–±–ª–æ–Ω—ñ–≤.',
        },
        hi: {
            back: '‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§Æ‡•á‡§Ç 5 ‡§µ‡§∞‡•ç‡§∑ ‡§™‡•Ä‡§õ‡•á ‡§ú‡§æ‡§è‡§Å‡•§',
            fwd: '‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§Æ‡•á‡§Ç 5 ‡§µ‡§∞‡•ç‡§∑ ‡§Ü‡§ó‡•á ‡§ú‡§æ‡§è‡§Å‡•§',
            rnd: '‡§ê‡§§‡§ø‡§π‡§æ‡§∏‡§ø‡§ï ‡§∏‡§Ç‡§ï‡§ü ‡§™‡•à‡§ü‡§∞‡•ç‡§® ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§Ü‡§ú ‡§∏‡•á ‡§è‡§ï ‡§Ø‡§æ‡§¶‡•É‡§ö‡•ç‡§õ‡§ø‡§ï ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§® ‡§¨‡§®‡§æ‡§è‡§Ç‡•§',
        },
        zh: {
            back: 'Âú®ÁúüÂÆûÂéÜÂè≤‰∏≠ÂõûÈÄÄ 5 Âπ¥„ÄÇ',
            fwd: 'Âú®ÁúüÂÆûÂéÜÂè≤‰∏≠ÂâçËøõ 5 Âπ¥„ÄÇ',
            rnd: 'Âü∫‰∫éÂéÜÂè≤Âç±Êú∫Ê®°ÂºèÔºå‰ªé‰ªäÂ§©Ëµ∑ÁîüÊàêÈöèÊú∫È¢ÑÊµã„ÄÇ',
        },
    };

    const t = tips[currentLang] || tips.en;

    if (back) back.title = t.back;
    if (fwd) fwd.title = t.fwd;
    if (rnd) rnd.title = t.rnd;
}

function toggleLangDropdown() {
    const dd = document.getElementById('langDropdown');
    dd.classList.toggle('open');
    if (dd.classList.contains('open')) {
        setTimeout(() => document.addEventListener('click', closeLangOnOutside, {once:true}), 10);
    }
}
function closeLangOnOutside(e) {
    const dd = document.getElementById('langDropdown');
    if (!dd.contains(e.target) && e.target.id !== 'langBtn') dd.classList.remove('open');
}

// Build dropdown
(function buildLangDropdown() {
    const dd = document.getElementById('langDropdown');
    Object.entries(LANGS).forEach(([key, lang]) => {
        const el = document.createElement('div');
        el.className = 'lang-opt';
        el.dataset.lang = key;
        el.textContent = lang.code + ' ' + lang.name;
        el.onclick = (e) => { e.stopPropagation(); setLang(key); dd.classList.remove('open'); };
        dd.appendChild(el);
    });
})();


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// HISTORICAL CRISES DATABASE (1973 ‚Äî 2025)
// Monthly returns are approximated from S&P 500 / MSCI World data
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const HISTORICAL_CRISES = [
    { name: 'Oil Crisis / Stagflation', startYear: 1973, startMonth: 10, durationMonths: 21, totalDrop: -0.48, recovery: 18, type: 'Monetary' },
    { name: 'Volcker Recession', startYear: 1980, startMonth: 2, durationMonths: 20, totalDrop: -0.27, recovery: 12, type: 'Monetary' },
    { name: 'Black Monday', startYear: 1987, startMonth: 9, durationMonths: 3, totalDrop: -0.34, recovery: 20, type: 'Liquidity' },
    { name: 'Gulf War Recession', startYear: 1990, startMonth: 7, durationMonths: 6, totalDrop: -0.20, recovery: 8, type: 'Event-Driven' },
    { name: 'Asian / LTCM Crisis', startYear: 1997, startMonth: 7, durationMonths: 5, totalDrop: -0.19, recovery: 6, type: 'Liquidity' },
    { name: 'Dotcom Crash', startYear: 2000, startMonth: 3, durationMonths: 30, totalDrop: -0.49, recovery: 24, type: 'Structural' },
    { name: 'Global Financial Crisis', startYear: 2007, startMonth: 10, durationMonths: 17, totalDrop: -0.57, recovery: 24, type: 'Structural' },
    { name: 'EU Debt Crisis', startYear: 2011, startMonth: 5, durationMonths: 6, totalDrop: -0.19, recovery: 8, type: 'Structural' },
    { name: 'China / Oil Shock', startYear: 2015, startMonth: 8, durationMonths: 7, totalDrop: -0.14, recovery: 6, type: 'Event-Driven' },
    { name: 'COVID-19 Crash', startYear: 2020, startMonth: 2, durationMonths: 2, totalDrop: -0.34, recovery: 5, type: 'Event-Driven' },
    { name: '2022 Bear Market', startYear: 2022, startMonth: 1, durationMonths: 10, totalDrop: -0.25, recovery: 12, type: 'Monetary' },
    { name: 'Regional Banking Crisis', startYear: 2023, startMonth: 3, durationMonths: 2, totalDrop: -0.09, recovery: 3, type: 'Liquidity' },
    { name: 'Yen Carry Trade Unwind', startYear: 2024, startMonth: 7, durationMonths: 1, totalDrop: -0.10, recovery: 1, type: 'Liquidity' },
    { name: 'Trump Tariff Crisis', startYear: 2025, startMonth: 4, durationMonths: 4, totalDrop: -0.18, recovery: 8, type: 'Event-Driven' }
];

// Timeline offset: which historical month = simulation month 0
let simulationMode = 'historical'; // 'historical' | 'random'
let timelineStartYear = 1996;
let timelineStartMonth = 1; // 1..12
let activeCrises = HISTORICAL_CRISES;
let futureCrises = [];

// Fixed ‚Äútoday‚Äù anchor for random simulations (requested: 19 Feb 2026)
const TODAY_ANCHOR = { year: 2026, month: 2, day: 19 };

function getTimelineStartAbs() {
    return timelineStartYear * 12 + timelineStartMonth;
}

function shiftTimeline(delta) {
    // Always return to real history navigation
    simulationMode = 'historical';
    activeCrises = HISTORICAL_CRISES;
    timelineStartMonth = 1;

    const years = +(document.getElementById('in-years')?.value || 30);
    const minStart = 1971;
    const maxStart = Math.max(minStart, 2026 - years);

    timelineStartYear = Math.max(minStart, Math.min(maxStart, timelineStartYear + delta));
    recalc();
}

// Crisis-Engine: Random future generator (based on historical crisis patterns)
const FUTURE_CRISIS_TEMPLATES = [
    { key: 'banking', nameDe: 'Bankenkrise', nameEn: 'Banking Crisis', durationMonths: 16, totalDrop: -0.55, recovery: 24 },
    { key: 'oil', nameDe: '√ñlpreisschock', nameEn: 'Oil Price Shock', durationMonths: 8, totalDrop: -0.25, recovery: 10 },
    { key: 'pandemic', nameDe: 'Pandemie', nameEn: 'Pandemic Shock', durationMonths: 3, totalDrop: -0.35, recovery: 6 },
    { key: 'hyper', nameDe: 'Hyperinflation', nameEn: 'Hyperinflation', durationMonths: 18, totalDrop: -0.40, recovery: 30 },
];

function randInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

function absToYearMonth(abs) {
    const year = Math.floor((abs - 1) / 12);
    const month = ((abs - 1) % 12) + 1;
    return { year, month };
}

function generateRandomFutureCrises(years) {
    const startAbs = TODAY_ANCHOR.year * 12 + TODAY_ANCHOR.month;
    const horizonMonths = Math.max(12, years * 12);

    // Requested pool: Banking / Oil / Pandemic / Hyperinflation
    const bigKeys = new Set(['banking', 'pandemic', 'hyper']);
    const bigTemplates = FUTURE_CRISIS_TEMPLATES.filter(t => bigKeys.has(t.key));
    const smallTemplates = FUTURE_CRISIS_TEMPLATES.filter(t => t.key === 'oil');

    const crises = [];
    const ranges = [];

    function overlaps(startAbsMonth, endAbsMonth, padMonths) {
        return ranges.some(r => (startAbsMonth < (r.end + padMonths)) && ((endAbsMonth + padMonths) > r.start));
    }

    function addCrisis(tpl, absStartMonth) {
        const ym = absToYearMonth(absStartMonth);
        crises.push({
            name: tpl.nameEn,
            nameDe: tpl.nameDe,
            nameEn: tpl.nameEn,
            type: tpl.key,
            startYear: ym.year,
            startMonth: ym.month,
            durationMonths: tpl.durationMonths,
            totalDrop: tpl.totalDrop,
            recovery: tpl.recovery,
        });

        // Avoid overlapping not only the drawdown phase but also the recovery phase.
        ranges.push({start: absStartMonth, end: absStartMonth + tpl.durationMonths + tpl.recovery});
    }

    // Place crises across the FULL horizon.
    // Rule: at least 1 big crisis per 10 years, plus smaller crises in-between.
    const decadeMonths = 120;
    const decadeCount = Math.max(1, Math.ceil(horizonMonths / decadeMonths));

    for (let d = 0; d < decadeCount; d++) {
        const blockStart = d * decadeMonths;
        const blockEnd = Math.min(horizonMonths, (d + 1) * decadeMonths);

        // 1) Big crisis: guarantee one per decade
        if (bigTemplates.length) {
            const tpl = bigTemplates[randInt(0, bigTemplates.length - 1)];

            const minStart = blockStart + 6;
            const maxStart = blockEnd - (tpl.durationMonths + tpl.recovery) - 6;

            if (maxStart > minStart) {
                for (let tries = 0; tries < 40; tries++) {
                    const startOffset = randInt(minStart, maxStart);
                    const absStartMonth = startAbs + startOffset;
                    const absEndMonth = absStartMonth + tpl.durationMonths + tpl.recovery;

                    if (!overlaps(absStartMonth, absEndMonth, 6)) {
                        addCrisis(tpl, absStartMonth);
                        break;
                    }
                }
            } else {
                // fallback: if block too short, try to place near block start
                const startOffset = Math.min(blockEnd - 1, Math.max(blockStart + 1, blockStart + 6));
                const absStartMonth = startAbs + startOffset;
                const absEndMonth = absStartMonth + tpl.durationMonths + tpl.recovery;
                if (absEndMonth <= (startAbs + horizonMonths) && !overlaps(absStartMonth, absEndMonth, 6)) {
                    addCrisis(tpl, absStartMonth);
                }
            }
        }

        // 2) Small crises: 1‚Äì3 per decade (random), placed between big crises if possible
        const maxSmallInBlock = Math.max(1, Math.min(3, Math.floor((blockEnd - blockStart) / 36)));
        const smallCount = randInt(1, maxSmallInBlock);

        for (let i = 0; i < smallCount; i++) {
            const tpl = smallTemplates.length
                ? smallTemplates[randInt(0, smallTemplates.length - 1)]
                : FUTURE_CRISIS_TEMPLATES[randInt(0, FUTURE_CRISIS_TEMPLATES.length - 1)];

            const minStart = blockStart + 2;
            const maxStart = blockEnd - (tpl.durationMonths + tpl.recovery) - 2;
            if (maxStart <= minStart) continue;

            for (let tries = 0; tries < 30; tries++) {
                const startOffset = randInt(minStart, maxStart);
                const absStartMonth = startAbs + startOffset;
                const absEndMonth = absStartMonth + tpl.durationMonths + tpl.recovery;

                if (!overlaps(absStartMonth, absEndMonth, 3)) {
                    addCrisis(tpl, absStartMonth);
                    break;
                }
            }
        }
    }

    crises.sort((a, b) => (a.startYear * 12 + a.startMonth) - (b.startYear * 12 + b.startMonth));
    return crises;
}

function runRandomSimulation() {
    simulationMode = 'random';
    timelineStartYear = TODAY_ANCHOR.year;
    timelineStartMonth = TODAY_ANCHOR.month;

    const years = +(document.getElementById('in-years')?.value || 10);
    futureCrises = generateRandomFutureCrises(years);
    activeCrises = futureCrises;

    recalc();
}


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// HELPERS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const $ = id => document.getElementById(id);
const inputs = {
    capital: $('in-capital'), years: $('in-years'), legacy: $('in-legacy'),
    inflation: $('in-inflation'), growth: $('in-growth'), warchest: $('in-warchest'),
    buffer: $('in-buffer'), ahv: $('in-ahv'), maxswr: $('in-maxswr'),
    rent: $('in-rent'), utilities: $('in-utilities'), livingRent: $('in-living-rent'),
    propval: $('in-propval'), mortgage: $('in-mortgage'), mortrate: $('in-mortrate'),
    maint: $('in-maint'), propgrowth: $('in-propgrowth'), imputed: $('in-imputed'), livingOwn: $('in-living-own'),
    inctax: $('in-inctax'), cgtax: $('in-cgtax'), wealthtax: $('in-wealthtax'),
};

let housingMode = 'rent';
function setHousingMode(mode) {
    housingMode = mode;
    $('tog-rent').classList.toggle('active', mode==='rent');
    $('tog-own').classList.toggle('active', mode==='own');
    $('sec-rent').classList.toggle('show', mode==='rent');
    $('sec-own').classList.toggle('show', mode==='own');
    recalc();
}
const fmt = n => new Intl.NumberFormat('de-CH', {maximumFractionDigits:0}).format(Math.round(n));
const fmtK = n => {
    if(Math.abs(n)>=1e6) return (n/1e6).toFixed(2).replace('.',',')+' M';
    if(Math.abs(n)>=1e3) return Math.round(n/1e3)+"k";
    return fmt(n);
};
const fmtChart = n => {
    const a = Math.abs(n);
    if(a>=1e6) { const v=n/1e6; return (v===Math.floor(v)?v.toFixed(1):v.toFixed(2)).replace('.',',')+'M'; }
    if(a>=1e3) return Math.round(n/1e3)+"k";
    return String(Math.round(n));
};
function getCur() {
    return currentCurrency;
}
function fmtC(n) {
    return fmt(n) + ' ' + currentCurrency;
}

function getCrisisDisplayName(c) {
    if (currentLang === 'de' && c.nameDe) return c.nameDe;
    if (currentLang !== 'de' && c.nameEn) return c.nameEn;
    return c.name || '';
}


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// CURRENCY SYSTEM ‚Äî Independent from language
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const CURRENCIES = [
    {code:'CHF',symbol:'Fr.',name:'Swiss Franc'},
    {code:'EUR',symbol:'‚Ç¨',name:'Euro'},
    {code:'USD',symbol:'$',name:'US Dollar'},
    {code:'GBP',symbol:'¬£',name:'British Pound'},
    {code:'PLN',symbol:'z≈Ç',name:'Polish Z≈Çoty'},
    {code:'CZK',symbol:'Kƒç',name:'Czech Koruna'},
    {code:'HUF',symbol:'Ft',name:'Hungarian Forint'},
    {code:'RON',symbol:'lei',name:'Romanian Leu'},
    {code:'SEK',symbol:'kr',name:'Swedish Krona'},
    {code:'DKK',symbol:'kr',name:'Danish Krone'},
    {code:'NOK',symbol:'kr',name:'Norwegian Krone'},
    {code:'RUB',symbol:'‚ÇΩ',name:'Russian Ruble'},
    {code:'TRY',symbol:'‚Ç∫',name:'Turkish Lira'},
    {code:'UAH',symbol:'‚Ç¥',name:'Ukrainian Hryvnia'},
    {code:'INR',symbol:'‚Çπ',name:'Indian Rupee'},
    {code:'CNY',symbol:'¬•',name:'Chinese Yuan'},
    {code:'JPY',symbol:'¬•',name:'Japanese Yen'},
    {code:'CAD',symbol:'C$',name:'Canadian Dollar'},
    {code:'AUD',symbol:'A$',name:'Australian Dollar'},
    {code:'BRL',symbol:'R$',name:'Brazilian Real'},
];

let currentCurrency = 'CHF';

// Currency scaling for *display* of Starting Capital (approx. rounded FX factors vs CHF).
// Factors are intentionally coarse (1 / 10 / 100 / 1000) for clean ranges across currencies.
const CURRENCY_SCALE = {
    CHF: 1, EUR: 1, USD: 1, GBP: 1, CAD: 1, AUD: 1,

    // ~10x group
    PLN: 10, CZK: 10, RON: 10, SEK: 10, DKK: 10, NOK: 10, BRL: 10, CNY: 10, TRY: 10, UAH: 10,

    // ~100x group
    HUF: 100, RUB: 100, INR: 100, JPY: 100,
};

function getCurrencyScale(code) {
    return CURRENCY_SCALE[code] ?? 1;
}

function getCurrencyRoundStep(code) {
    const scale = getCurrencyScale(code);
    if (scale >= 1000) return 1000;
    if (scale >= 100) return 100;
    if (scale >= 10) return 10;
    return 1;
}

function fmtStartCapitalChf(chfAmount) {
    const code = getCur();
    const scale = getCurrencyScale(code);
    const step = getCurrencyRoundStep(code);
    const scaled = chfAmount * scale;
    const rounded = Math.round(scaled / step) * step;
    return fmt(rounded) + ' ' + code;
}


function isChfCurrency() {
    return getCur() === 'CHF';
}

function updateImputedRentVisibility() {
    const grp = $('grp-imputed');
    if (!grp) return;
    grp.style.display = isChfCurrency() ? '' : 'none';
}


// Smart detection: use browser locale region to pick currency
function detectCurrency() {
    const locale = (navigator.language || navigator.userLanguage || '').toLowerCase();
    const regionMap = {
        'de-ch':'CHF','fr-ch':'CHF','it-ch':'CHF','rm-ch':'CHF',
        'de-de':'EUR','de-at':'EUR','de-li':'CHF','de':'CHF',
        'en-us':'USD','en-gb':'GBP','en-au':'AUD','en-ca':'CAD','en-in':'INR','en':'CHF',
        'fr-fr':'EUR','fr-be':'EUR','fr-ca':'CAD','fr':'CHF',
        'es-es':'EUR','es-mx':'USD','es-ar':'USD',
        'it-it':'EUR',
        'pt-pt':'EUR','pt-br':'BRL',
        'nl-nl':'EUR','nl-be':'EUR',
        'pl-pl':'PLN','pl':'PLN',
        'ru-ru':'RUB','ru':'RUB',
        'tr-tr':'TRY','tr':'TRY',
        'sv-se':'SEK','sv':'SEK',
        'da-dk':'DKK','da':'DKK',
        'nb-no':'NOK','nn-no':'NOK','no':'NOK',
        'fi-fi':'EUR','fi':'EUR',
        'cs-cz':'CZK','cs':'CZK',
        'hu-hu':'HUF','hu':'HUF',
        'ro-ro':'RON','ro':'RON',
        'el-gr':'EUR','el':'EUR',
        'uk-ua':'UAH','uk':'UAH',
        'hi-in':'INR','hi':'INR',
        'zh-cn':'CNY','zh-tw':'CNY','zh':'CNY',
        'ja-jp':'JPY','ja':'JPY',
    };
    // Try full locale first, then language only
    return regionMap[locale] || regionMap[locale.split('-')[0]] || 'CHF';
}

function setCurrency(code) {
    currentCurrency = code;
    $('curLabel').textContent = code;
    document.querySelectorAll('.cur-unit').forEach(el => { el.textContent = code; });
    document.querySelectorAll('.cur-opt').forEach(o => o.classList.toggle('active', o.dataset.cur === code));
        updateImputedRentVisibility();
    recalc();
}

function toggleCurDropdown() {
    const dd = $('curDropdown');
    dd.classList.toggle('open');
    if (dd.classList.contains('open')) {
        setTimeout(() => document.addEventListener('click', closeCurOnOutside, {once:true}), 10);
    }
}
function closeCurOnOutside(e) {
    const dd = $('curDropdown');
    if (!dd.contains(e.target) && e.target.id !== 'curBtn') dd.classList.remove('open');
}

// Build currency dropdown
(function buildCurDropdown() {
    const dd = $('curDropdown');
    CURRENCIES.forEach(cur => {
        const el = document.createElement('div');
        el.className = 'lang-opt cur-opt';
        el.dataset.cur = cur.code;
        el.textContent = cur.code + ' ' + cur.symbol;
        el.title = cur.name;
        el.onclick = (e) => { e.stopPropagation(); setCurrency(cur.code); dd.classList.remove('open'); };
        dd.appendChild(el);
    });
})();


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SOLVER
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function solveWithdrawal(capital, years, legacy, warchestPct, bufferYears, annualGrowthRate) {
    const warChest = capital * (warchestPct / 100);
    const r = annualGrowthRate / 12;
    const n = years * 12;
    const F = Math.pow(1 + r, n);
    const B = bufferYears * 12;
    const legacyETF = Math.max(0, legacy - warChest);
    const fPrime = -B * F - (F - 1) / r;

    let w = 3000;
    for (let iter = 0; iter < 150; iter++) {
        const inv = capital - warChest - w * B;
        if (inv <= 0) { w *= 0.7; continue; }
        const fW = inv * F - w * (F - 1) / r - legacyETF;
        const wNew = w - fW / fPrime;
        if (wNew <= 0) { w *= 0.5; continue; }
        if (Math.abs(wNew - w) < 0.01) { w = wNew; break; }
        w = wNew;
    }
    const buffer = Math.max(0, w * B);
    const invested = Math.max(0, capital - warChest - buffer);
    return { warChest, buffer, invested, monthlyETF: Math.max(0, w) };
}


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SIMULATION WITH HISTORICAL CRISES OVERLAY
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function simulate(params) {
    const { invested, buffer, warChest, monthlyETF, years, annualGrowth, inflation, ahv,
            housingMode, propNetStart, propGrowthRate, housingCost, totalTaxMonthly, wealthTaxRate } = params;
    const months = years * 12;
    const rCash = 0.02 / 12;
    const baseReturn = annualGrowth / 12;
    const startAbs = getTimelineStartAbs();
    const hasProperty = housingMode === 'own' && propNetStart > 0;

    // ‚îÄ‚îÄ‚îÄ ASSET-SPECIFIC THRESHOLDS ‚îÄ‚îÄ‚îÄ
    // Standard (World ETF): buy-the-dip at -18%, -26%, -33%
    const STD_THRESHOLDS = [0.18, 0.26, 0.33];
    const STD_ALLOC      = [0.20, 0.30, 0.50]; // % of remaining war chest per tier
    // High-Beta (Banks sector proxy): -25%, -40%, -50%
    const HB_THRESHOLDS  = [0.25, 0.40, 0.50];
    const HB_ALLOC       = [0.15, 0.30, 0.55];
    // Blend: 80% standard, 20% high-beta (typical world ETF weighting)
    const STD_WEIGHT = 0.80, HB_WEIGHT = 0.20;

    // ‚îÄ‚îÄ‚îÄ -15% RULE: Drawdown threshold for ETF withdrawal stop ‚îÄ‚îÄ‚îÄ
    const DRAWDOWN_STOP = 0.15;

    // ‚îÄ‚îÄ‚îÄ ATH REBALANCING THRESHOLDS ‚îÄ‚îÄ‚îÄ
    // When depot is at ATH and both buffer and war chest are below these fractions, refill them
    const REBAL_ATH_SURPLUS_FRACTION = 0.015; // Use up to 1.5% of ATH-surplus for refilling
    const REBAL_BUFFER_TARGET = 1.0;           // Refill buffer to 100% of target
    const REBAL_WARCHEST_TARGET = 1.0;         // Refill war chest to 100% of target

    let d = invested, b = buffer, w = warChest;
    let propNet = hasProperty ? propNetStart : 0;
    let depotHighWater = invested; // Track all-time high for drawdown calc
    const hD=[], hB=[], hW=[], hTotal=[], hProp=[], labels=[], crisisZones=[];
    let crisisCount=0, bufferMonthsUsed=0, worstDepot=invested;
    let drawdownStopMonths = 0; // How many months ETF withdrawal was stopped
    let warChestBuysCount = 0;
    let rebalancingEvents = 0;  // Count of ATH-triggered rebalancing events
    const hitCrises = [];
    // Track which war chest tiers have been triggered per crisis
    let currentCrisisTiersUsed = { std: [false,false,false], hb: [false,false,false] };
    let lastCrisisName = null;

    // ‚îÄ‚îÄ‚îÄ BUY & HOLD PARALLEL SIMULATION ‚îÄ‚îÄ‚îÄ
    // Pure B&H: all capital in ETF, no buffer, no war chest, same withdrawals
    const bahTotal = invested + buffer + warChest; // same starting capital
    let bahD = bahTotal; // B&H depot
    let bahDepotHigh = bahTotal;
    const hBah = []; // track B&H depot over time

    for (let m = 0; m <= months; m++) {
        const nowAbs = startAbs + m;
        const calYear = Math.floor((nowAbs - 1) / 12);
        const calMonth = ((nowAbs - 1) % 12) + 1;

        let inCrisis = false;
        let crisisReturn = 0;
        let activeCrisis = null;
        let cumulativeDrop = 0; // How far has this crisis dropped total so far

        for (const c of activeCrises) {
            const cStartAbs = c.startYear * 12 + c.startMonth;
            const cEndAbs = cStartAbs + c.durationMonths;
            const recEndAbs = cEndAbs + c.recovery;
            const nowAbs = calYear * 12 + calMonth;

            if (nowAbs >= cStartAbs && nowAbs < cEndAbs) {
                inCrisis = true;
                activeCrisis = c;
                const progress = (nowAbs - cStartAbs) / c.durationMonths;
                const weight = Math.sin(progress * Math.PI * 0.5);
                const monthlyDrop = c.totalDrop / c.durationMonths;
                crisisReturn = monthlyDrop * (1.2 - weight * 0.4) + (Math.random() - 0.4) * 0.008;
                // Cumulative drop at this point in the crisis
                cumulativeDrop = Math.abs(c.totalDrop) * Math.min(1, progress * 1.3);
                break;
            } else if (nowAbs >= cEndAbs && nowAbs < recEndAbs) {
                const recProgress = (nowAbs - cEndAbs) / c.recovery;
                crisisReturn = Math.abs(c.totalDrop) / c.recovery * (1.1 - recProgress * 0.5) + (Math.random()-0.3)*0.005;
                break;
            }
        }

        // Track crises and reset tier usage for new crisis
        if (inCrisis && activeCrisis) {
            if (!hitCrises.find(h => h.name === activeCrisis.name)) {
                hitCrises.push(activeCrisis);
                crisisCount++;
            }
            if (lastCrisisName !== activeCrisis.name) {
                currentCrisisTiersUsed = { std: [false,false,false], hb: [false,false,false] };
                lastCrisisName = activeCrisis.name;
            }
        } else if (!inCrisis) {
            lastCrisisName = null;
        }

        // ‚îÄ‚îÄ‚îÄ DRAWDOWN CALCULATION ‚îÄ‚îÄ‚îÄ
        depotHighWater = Math.max(depotHighWater, d);
        const drawdown = depotHighWater > 0 ? (depotHighWater - d) / depotHighWater : 0;
        const isDrawdownStopped = drawdown > DRAWDOWN_STOP;

        // ‚îÄ‚îÄ‚îÄ WITHDRAWAL LOGIC ‚îÄ‚îÄ‚îÄ
        const inflFactor = Math.pow(1 + inflation / 100 / 12, m);
        let needed = monthlyETF * inflFactor;

        // Dynamic reduction when depot critically low (safety net)
        if (d < invested * 0.4 && invested > 0) {
            needed *= Math.max(0.35, d / invested);
        }

        // Wealth tax
        const currentFinWealth = d + b + w;
        const wTaxMonth = currentFinWealth * (wealthTaxRate || 0) / 12;

        let monthlyReturn;
        if (inCrisis) {
            monthlyReturn = crisisReturn;

            // ‚îÄ‚îÄ‚îÄ -15% RULE: If drawdown > 15%, STOP ETF withdrawals ‚îÄ‚îÄ‚îÄ
            if (isDrawdownStopped) {
                // Withdraw entirely from buffer
                if (b >= needed) {
                    b -= needed;
                    bufferMonthsUsed++;
                } else if (b > 0) {
                    // Buffer partially covers; only take remainder from ETF as last resort
                    const remainder = needed - b;
                    b = 0;
                    bufferMonthsUsed++;
                    d -= remainder * 0.5; // Reduced emergency withdrawal
                } else {
                    // Buffer empty: forced reduced ETF withdrawal (emergency mode)
                    d -= needed * 0.35;
                }
                drawdownStopMonths++;
            } else {
                // Normal crisis withdrawal (drawdown < 15%): use buffer
                if (b > needed) { b -= needed; bufferMonthsUsed++; }
                else if (b > 0) { d -= (needed - b); b = 0; bufferMonthsUsed++; }
                else { d -= needed; }
            }

            // ‚îÄ‚îÄ‚îÄ TWO-TIER WAR CHEST DEPLOYMENT ‚îÄ‚îÄ‚îÄ
            // War chest is NEVER used for living expenses (Point 3)
            // Only for buying the dip at specific thresholds
            if (w > 0 && cumulativeDrop > 0) {
                let totalBuy = 0;

                // Standard assets (80% weight): -18%, -26%, -33%
                for (let t = 0; t < 3; t++) {
                    if (!currentCrisisTiersUsed.std[t] && cumulativeDrop >= STD_THRESHOLDS[t]) {
                        const buy = w * STD_ALLOC[t] * STD_WEIGHT;
                        if (buy > 10) { totalBuy += buy; currentCrisisTiersUsed.std[t] = true; }
                    }
                }
                // High-Beta assets (20% weight): -25%, -40%, -50%
                for (let t = 0; t < 3; t++) {
                    if (!currentCrisisTiersUsed.hb[t] && cumulativeDrop >= HB_THRESHOLDS[t]) {
                        const buy = w * HB_ALLOC[t] * HB_WEIGHT;
                        if (buy > 10) { totalBuy += buy; currentCrisisTiersUsed.hb[t] = true; }
                    }
                }

                if (totalBuy > 0) {
                    const actualBuy = Math.min(totalBuy, w);
                    w -= actualBuy;
                    d += actualBuy;
                    warChestBuysCount++;
                }
            }

        } else {
            // ‚îÄ‚îÄ‚îÄ NORMAL MARKET ‚îÄ‚îÄ‚îÄ
            monthlyReturn = baseReturn + (Math.random() - 0.5) * 0.015;
            if (crisisReturn > 0) monthlyReturn = Math.max(monthlyReturn, crisisReturn);

            d -= needed;

            // ‚îÄ‚îÄ‚îÄ FAIR-WEATHER (ATH) REBALANCING ‚îÄ‚îÄ‚îÄ
            // When ETF depot sets a new all-time high, use a fraction of the surplus
            // to refill Cash Buffer and War Chest to their target levels.
            if (d > depotHighWater) {
                const surplus = (d - depotHighWater) * REBAL_ATH_SURPLUS_FRACTION;
                let refilled = false;

                // Refill Buffer first (priority: crisis protection)
                if (b < buffer * REBAL_BUFFER_TARGET) {
                    const needed_b = Math.min(surplus * 0.65, buffer - b);
                    if (needed_b > 1) { b += needed_b; d -= needed_b; refilled = true; }
                }

                // Then refill War Chest
                if (w < warChest * REBAL_WARCHEST_TARGET) {
                    const needed_w = Math.min(surplus * 0.35, warChest - w);
                    if (needed_w > 1) { w += needed_w; d -= needed_w; refilled = true; }
                }

                if (refilled) rebalancingEvents++;
            } else if (d > invested * 0.7) {
                // Legacy slow-drip refill in good times (existing behavior kept for non-ATH months)
                const surplus = d * 0.002;
                if (b < buffer * 0.9) { const r2 = Math.min(surplus*0.6, buffer-b); if(r2>0){b+=r2;d-=r2;}}
                if (w < warChest * 0.8) { const r2 = Math.min(surplus*0.3, warChest-w); if(r2>0){w+=r2;d-=r2;}}
            }
        }

        // ‚îÄ‚îÄ‚îÄ BUY & HOLD UPDATE ‚îÄ‚îÄ‚îÄ
        // B&H sells same monthly amount (inflation-adjusted) directly from depot; no buffers
        const bahReturn = inCrisis ? crisisReturn : (baseReturn + (Math.random() - 0.5) * 0.015);
        bahD = Math.max(0, bahD - needed);
        bahD = Math.max(0, bahD * (1 + bahReturn));
        hBah.push(bahD);

        // Deduct wealth tax from depot
        d -= wTaxMonth;

        d *= (1 + monthlyReturn);
        b *= (1 + rCash);
        w *= (1 + rCash);
        d = Math.max(0, d);
        b = Math.max(0, b);
        w = Math.max(0, w);
        worstDepot = Math.min(worstDepot, d);

        // Property grows
        if (hasProperty) {
            propNet *= (1 + propGrowthRate / 12);
        }

        hD.push(d); hB.push(b); hW.push(w);
        hTotal.push(d + b + w + propNet);
        hProp.push(propNet);
        crisisZones.push(inCrisis ? 1 : 0);

        if (m % 12 === 0) { labels.push(String(calYear)); } else { labels.push(''); }
    }

    // ‚îÄ‚îÄ‚îÄ STRESS RESISTANCE CALCULATION ‚îÄ‚îÄ‚îÄ
    // How many months can the system survive a -50% banking crash
    // without selling ETF at the bottom? (Buffer + War Chest coverage)
    const monthlyNeed = monthlyETF > 0 ? monthlyETF : 1;
    const stressMonths = Math.floor((buffer + warChest * 0.0) / monthlyNeed);
    // Note: warChest is excluded (Point 3: never for living expenses)

    return { labels, hD, hB, hW, hTotal, hProp, hBah, crisisZones, crisisCount,
             bufferMonthsUsed, worstDepot, hitCrises, hasProperty,
             drawdownStopMonths, warChestBuysCount, stressMonths, rebalancingEvents };
}


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// CHART
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

let chart = null;
function renderChart(data, legacyTarget) {
    const ctx = $('mainChart').getContext('2d');
    if (chart) chart.destroy();

    // Show/hide property legend
    $('legend-prop').style.display = data.hasProperty ? 'flex' : 'none';

    const datasets = [
        {label:'ETF',data:data.hD,borderColor:'rgba(56,189,248,0.85)',backgroundColor:'rgba(56,189,248,0.03)',borderWidth:2,pointRadius:0,tension:0.3,fill:true,order:2},
        {label:'Buffer',data:data.hB,borderColor:'rgba(52,211,153,0.65)',borderWidth:1.5,pointRadius:0,tension:0.3,fill:false,order:3},
        {label:'War',data:data.hW,borderColor:'rgba(251,191,36,0.55)',borderWidth:1.5,borderDash:[4,3],pointRadius:0,tension:0.3,fill:false,order:4},
        {label:'Total',data:data.hTotal,borderColor:'rgba(251,113,133,0.2)',borderWidth:1,borderDash:[2,4],pointRadius:0,tension:0.3,fill:false,order:1},
        {label:'B&H',data:data.hBah,borderColor:'rgba(167,139,250,0.5)',borderWidth:1.5,borderDash:[6,2],pointRadius:0,tension:0.3,fill:false,order:0},
    ];
    if (data.hasProperty) {
        datasets.push({label:'Property',data:data.hProp,borderColor:'rgba(100,116,139,0.6)',borderWidth:1.5,borderDash:[6,3],pointRadius:0,tension:0.3,fill:false,order:5});
    }

    const customPlugin = {
        id: 'overlays',
        beforeDraw(ch) {
            const {ctx: c, chartArea:{top,bottom,left,right}, scales:{x,y}} = ch;
            c.save();
            // Crisis shading
            let inB=false, bStart=0;
            data.crisisZones.forEach((a,i) => {
                if(a&&!inB){inB=true;bStart=i;}
                if(!a&&inB){
                    const x0=x.getPixelForValue(bStart),x1=x.getPixelForValue(i);
                    c.fillStyle='rgba(251,113,133,0.06)'; c.fillRect(x0,top,x1-x0,bottom-top);
                    c.fillStyle='rgba(251,113,133,0.25)'; c.fillRect(x0,top,x1-x0,2);
                    inB=false;
                }
            });
            if(inB){const x0=x.getPixelForValue(bStart),x1=x.getPixelForValue(data.crisisZones.length-1);c.fillStyle='rgba(251,113,133,0.06)';c.fillRect(x0,top,x1-x0,bottom-top);}
            // Legacy line
            if(legacyTarget>0){
                const yp=y.getPixelForValue(legacyTarget);
                if(yp>=top&&yp<=bottom){
                    c.setLineDash([5,5]);c.strokeStyle='rgba(167,139,250,0.4)';c.lineWidth=1;
                    c.beginPath();c.moveTo(left,yp);c.lineTo(right,yp);c.stroke();
                    c.setLineDash([]);c.fillStyle='rgba(167,139,250,0.6)';c.font='9px JetBrains Mono';c.textAlign='right';
                    c.fillText(fmtK(legacyTarget)+' '+getCur(),right-4,yp-5);
                }
            }
            c.restore();
        }
    };

    chart = new Chart(ctx, {
        type:'line',
        data:{
            labels:data.labels,
            datasets:datasets
        },
        options:{
            responsive:true,maintainAspectRatio:false,
            interaction:{mode:'index',intersect:false},
            plugins:{
                legend:{display:false},
                tooltip:{
                    backgroundColor:isLightMode?'rgba(240,244,248,0.97)':'rgba(8,12,20,0.95)',
                    borderColor:isLightMode?'rgba(0,0,0,0.1)':'rgba(255,255,255,0.1)',borderWidth:1,
                    titleColor:isLightMode?'#0f172a':'#f1f5f9',
                    bodyColor:isLightMode?'#334155':'#94a3b8',
                    titleFont:{family:'JetBrains Mono',size:9},bodyFont:{family:'JetBrains Mono',size:9},padding:10,
                    callbacks:{
                        title:items=>{const i=items[0].dataIndex;const abs=getTimelineStartAbs()+i;const yr=Math.floor((abs-1)/12);const mo=((abs-1)%12)+1;return yr+'/'+String(mo).padStart(2,'0');},
                        label:c=>`${c.dataset.label}: ${fmt(c.raw)} ${getCur()}`
                    }
                }
            },
            scales:{
                x:{ticks:{color:isLightMode?'#64748b':'#475569',font:{family:'JetBrains Mono',size:9},maxTicksLimit:window.innerWidth<600?8:16,maxRotation:45},grid:{display:false}},
                y:{beginAtZero:true,ticks:{color:isLightMode?'#64748b':'#475569',font:{family:'JetBrains Mono',size:10},callback:v=>fmtChart(v)},grid:{color:isLightMode?'rgba(0,0,0,0.06)':'rgba(255,255,255,0.03)'}}
            }
        },
        plugins:[customPlugin]
    });
}


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MAIN RECALC
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

function recalc() {
    const t = LANGS[currentLang];
    const capital=+inputs.capital.value, years=+inputs.years.value, legacy=+inputs.legacy.value;

    // Keep historical navigation within available real-history window (ends at 2026)
    if (simulationMode === 'historical') {
        const minStart = 1971;
        const maxStart = Math.max(minStart, 2026 - years);
        timelineStartYear = Math.max(minStart, Math.min(maxStart, timelineStartYear));
        timelineStartMonth = 1;
        activeCrises = HISTORICAL_CRISES;
    }

    const inflation=+inputs.inflation.value, growth=+inputs.growth.value;
    const warchestPct=+inputs.warchest.value, bufferYears=+inputs.buffer.value, ahv=+inputs.ahv.value;
    const maxSwrPct=+inputs.maxswr.value;

    // Labels
    $('val-capital').textContent = fmtStartCapitalChf(capital);
    $('val-years').textContent=years+' '+t.yearsUnit;
    $('val-legacy').textContent=fmt(legacy)+' '+getCur();
    $('val-inflation').textContent=inflation.toFixed(1)+' %';
    $('val-growth').textContent=growth.toFixed(1)+' %';
    $('val-warchest').textContent=warchestPct.toFixed(1)+' %';
    $('val-buffer').textContent=bufferYears.toFixed(1)+' '+t.yearsUnit;
    $('val-ahv').textContent=fmt(ahv)+' '+getCur();
    $('val-maxswr').textContent=maxSwrPct.toFixed(1)+' %';
    $('lbl-years').textContent=years;
    (function setTimelineLabel(){
        const startAbs = getTimelineStartAbs();
        const endAbs = startAbs + years * 12;
        const sy = Math.floor((startAbs - 1) / 12);
        const sm = ((startAbs - 1) % 12) + 1;
        const ey = Math.floor((endAbs - 1) / 12);
        const em = ((endAbs - 1) % 12) + 1;
        const smStr = sm === 1 ? '' : '-' + String(sm).padStart(2,'0');
        const emStr = em === 1 ? '' : '-' + String(em).padStart(2,'0');
        $('timeline-label').textContent = sy + smStr + ' ‚Äî ' + ey + emStr;
    })();

    // Solve
    const sol=solveWithdrawal(capital,years,legacy,warchestPct,bufferYears,growth/100);
    let {warChest,buffer,invested,monthlyETF}=sol;
    let swr=capital>0?(monthlyETF*12)/capital*100:0;
    let swrWasCapped = false;
    let projectedLegacyIncrease = 0;

    // SWR CAP: If solver's withdrawal exceeds maxSWR, cap it
    const maxMonthlyETF = (maxSwrPct / 100 * capital) / 12;
    if (monthlyETF > maxMonthlyETF && maxMonthlyETF > 0) {
        const originalETF = monthlyETF;
        monthlyETF = maxMonthlyETF;
        swr = maxSwrPct;
        swrWasCapped = true;
        // Recalculate buffer with capped withdrawal
        buffer = Math.max(0, monthlyETF * bufferYears * 12);
        invested = Math.max(0, capital - warChest - buffer);
        // Estimate how much more legacy this produces
        const r = growth / 100 / 12;
        const n = years * 12;
        const F = Math.pow(1 + r, n);
        projectedLegacyIncrease = invested * F - monthlyETF * (F - 1) / r;
    }

    const totalMonthly=monthlyETF+ahv;

    // ‚îÄ‚îÄ‚îÄ HOUSING ‚îÄ‚îÄ‚îÄ
    const rentAmt=+inputs.rent.value, utilAmt=+inputs.utilities.value;
    const propVal=+inputs.propval.value, mortBal=+inputs.mortgage.value, mortRate=+inputs.mortrate.value;
    const maintAmt=+inputs.maint.value, propGr=+inputs.propgrowth.value, imputedRent=+inputs.imputed.value;
    const livingRent=+inputs.livingRent.value, livingOwn=+inputs.livingOwn.value;
    // Housing labels
    $('val-rent').textContent=fmt(rentAmt)+' '+getCur();
    $('val-utilities').textContent=fmt(utilAmt)+' '+getCur();
    $('val-propval').textContent=fmt(propVal)+' '+getCur();
    $('val-mortgage').textContent=fmt(mortBal)+' '+getCur();
    $('val-mortrate').textContent=mortRate.toFixed(1)+' %';
    $('val-maint').textContent=fmt(maintAmt)+' '+getCur();
    $('val-propgrowth').textContent=propGr.toFixed(1)+' %';
    if (isChfCurrency()) {
        $('val-imputed').textContent = fmt(imputedRent) + ' ' + getCur();
    }
    $('val-living-rent').textContent=fmt(livingRent)+' '+getCur();
    $('val-living-own').textContent=fmt(livingOwn)+' '+getCur();
    let housingCost = 0;
    let livingCost = 0;
    let propNetStart = 0;
    if (housingMode === 'rent') {
        housingCost = rentAmt + utilAmt;
        livingCost = livingRent;
    } else {
        const hypoZins = mortBal * (mortRate / 100) / 12;
        housingCost = hypoZins + maintAmt;
        livingCost = livingOwn;
        propNetStart = propVal - mortBal;
    }

    // ‚îÄ‚îÄ‚îÄ TAXES ‚îÄ‚îÄ‚îÄ
    const incTaxRate=+inputs.inctax.value/100, cgTaxRate=+inputs.cgtax.value/100, wealthTaxRate=+inputs.wealthtax.value/100;
    $('val-inctax').textContent=(+inputs.inctax.value).toFixed(1)+' %';
    $('val-cgtax').textContent=(+inputs.cgtax.value).toFixed(1)+' %';
    $('val-wealthtax').textContent=(+inputs.wealthtax.value).toFixed(2)+' %';
    // Taxable income: pension + imputed rent (CH: Eigenmietwert)
    const taxableIncome = ahv + (housingMode === 'own' && isChfCurrency() ? imputedRent : 0);
    // Tax deductions for owners (CH: Hypothekarzins + Unterhalt abzugsf√§hig)
    const taxDeductions = housingMode === 'own' ? (mortBal * (mortRate / 100) / 12 + maintAmt) : 0;
    const netTaxableIncome = Math.max(0, taxableIncome - taxDeductions);
    const incomeTaxMonthly = netTaxableIncome * incTaxRate;
    // Capital gains tax on ETF withdrawal (only on gains portion, estimate ~50% of withdrawal is gains after years)
    const gainsRatio = Math.max(0, Math.min(0.7, (growth - 2) / 10)); // rough: higher returns = more gains
    const cgTaxMonthly = monthlyETF * gainsRatio * cgTaxRate;
    // Wealth tax on total financial assets (monthly)
    const totalWealth = capital; // at start
    const wealthTaxMonthly = totalWealth * wealthTaxRate / 12;
    const totalTaxMonthly = incomeTaxMonthly + cgTaxMonthly + wealthTaxMonthly;
    const netBudget = Math.max(0, totalMonthly - totalTaxMonthly - housingCost - livingCost);

    // ‚îÄ‚îÄ‚îÄ BUDGET BREAKDOWN ‚îÄ‚îÄ‚îÄ
    const bb = $('budget-breakdown');
    bb.innerHTML = `<div class="budget-line"><span style="color:var(--text-secondary)">${t.grossBudget||'Gross Budget'}</span><span style="color:var(--sky)">${fmt(totalMonthly)} ${getCur()}</span></div>`
        + `<div class="budget-line"><span style="color:var(--rose)">‚àí ${t.taxDeduction||'Taxes'}</span><span style="color:var(--rose)">‚àí${fmt(totalTaxMonthly)}</span></div>`
        + `<div class="budget-line"><span style="color:var(--text-muted)">‚àí ${t.housingCosts||'Housing'}</span><span style="color:var(--text-muted)">‚àí${fmt(housingCost)}</span></div>`
        + `<div class="budget-line"><span style="color:var(--text-muted)">‚àí ${t.livingCosts||'Living Costs'}</span><span style="color:var(--text-muted)">‚àí${fmt(livingCost)}</span></div>`
        + `<div class="budget-line total"><span style="color:var(--emerald)">${t.netAvailable||'Net Available'}</span><span style="color:var(--emerald)">${fmt(netBudget)} ${getCur()}</span></div>`;

    // SWR Impact Info
    const swrImpact = $('swr-impact');
    if (swrWasCapped) {
        swrImpact.style.display = 'block';
        const msg = t.swrCapped ? t.swrCapped.replace('{0}', maxSwrPct.toFixed(1)) : '';
        const unsolvedMonthly = sol.monthlyETF + ahv;
        const diff = unsolvedMonthly - totalMonthly;
        swrImpact.innerHTML = `üõ°Ô∏è ${msg}<br>`
            + `<span style="font-size:0.6rem;color:var(--text-muted)">`
            + `Budget: ${fmt(unsolvedMonthly)} ‚Üí <b style="color:var(--sky)">${fmt(totalMonthly)}</b> ${getCur()}/Mt `
            + `(‚àí${fmt(diff)})<br>`
            + `${t.targetLegacy}: ${fmt(legacy)} ‚Üí ~<b style="color:var(--violet)">${fmt(Math.max(0,projectedLegacyIncrease))}</b> ${getCur()}`
            + `</span>`;
    } else {
        swrImpact.style.display = 'none';
    }

    // Warnings
    const warns=[];
    if(invested<capital*0.15) warns.push(t.warnLowETF);
    if(invested<=0) warns.push(t.warnNoETF);
    if(monthlyETF<=0) warns.push(t.warnNegative);
    if(swr>maxSwrPct && !swrWasCapped) warns.push(t.warnHighSWR.replace('{0}',swr.toFixed(1)));
    if(legacy>capital*0.6) warns.push(t.warnHighLegacy);
    const wb=$('warning-box');
    if(warns.length){wb.innerHTML=warns.join('<br>');wb.classList.add('active');}else{wb.classList.remove('active');}

    // KPI
    $('kpi-monthly').textContent=fmt(totalMonthly);
    $('kpi-monthly-sub').textContent=`(${fmt(monthlyETF)} ETF + ${fmt(ahv)} ${t.inclPension})`;
    $('kpi-buffer').textContent=fmtK(buffer);
    $('kpi-buffer-months').textContent=monthlyETF>0?Math.round(buffer/monthlyETF)+' '+t.monthsCoverage:'‚Äî';
    $('kpi-warchest').textContent=fmtK(warChest);
    const realEnd=totalMonthly/Math.pow(1+inflation/100,years);
    $('kpi-real').textContent=fmt(realEnd);
    $('kpi-real-sub').textContent=t.nominalEq.replace('{0}',fmt(realEnd));

    // Allocation
    const propNet0 = housingMode==='own' ? propNetStart : 0;
    const tot=Math.max(1,invested+buffer+warChest+propNet0);
    const pE=(invested/tot*100).toFixed(0), pB=(buffer/tot*100).toFixed(0), pW=(warChest/tot*100).toFixed(0), pP=(propNet0/tot*100).toFixed(0);
    $('alloc-bar').innerHTML=`<div class="alloc-seg" style="width:${pE}%;background:var(--sky)"></div><div class="alloc-seg" style="width:${pB}%;background:var(--emerald)"></div><div class="alloc-seg" style="width:${pW}%;background:var(--amber)"></div>`+(propNet0>0?`<div class="alloc-seg" style="width:${pP}%;background:#64748b"></div>`:'');
    $('alloc-etf').textContent=fmtK(invested);$('alloc-buf').textContent=fmtK(buffer);$('alloc-war').textContent=fmtK(warChest);

    // Health
    let h=50;h+=Math.min(30,(invested/capital)*40);h-=swr>4?(swr-4)*8:0;h+=Math.min(15,bufferYears*5);h-=warchestPct>25?(warchestPct-25)*2:0;h=Math.max(0,Math.min(100,h));
    const hf=$('health-fill'),hl=$('health-label');
    hf.style.width=h+'%';
    if(h>70){hf.style.background='var(--emerald)';hl.textContent=t.robust;hl.style.color='var(--emerald)';}
    else if(h>40){hf.style.background='var(--amber)';hl.textContent=t.moderate;hl.style.color='var(--amber)';}
    else{hf.style.background='var(--rose)';hl.textContent=t.fragile;hl.style.color='var(--rose)';}

    $('stat-swr').textContent=swr.toFixed(1)+' %' + (swrWasCapped ? ' üõ°Ô∏è' : '');

    // Simulate
    const effectiveLegacy = swrWasCapped ? Math.max(legacy, projectedLegacyIncrease) : legacy;
    const sim=simulate({invested,buffer,warChest,monthlyETF,years,annualGrowth:growth/100,inflation,ahv,
        housingMode,propNetStart,propGrowthRate:propGr/100,housingCost,totalTaxMonthly,wealthTaxRate});

    const totalOut=totalMonthly*12*years;
    const capUsed=Math.max(0,capital-legacy);
    $('stat-total-out').textContent=fmt(totalOut)+' '+getCur();
    $('stat-capital-used').textContent=fmt(capUsed)+' '+getCur();
    $('stat-market-gain').textContent=fmt(Math.max(0,totalOut-capUsed))+' '+getCur();
    const endProp = sim.hasProperty ? sim.hProp[sim.hProp.length-1] : 0;
    const endV=sim.hD[sim.hD.length-1]+sim.hB[sim.hB.length-1]+sim.hW[sim.hW.length-1]+endProp;
    $('stat-end-value').textContent=fmt(endV)+' '+getCur();
    $('stat-worst').textContent=fmt(sim.worstDepot)+' '+getCur();
    $('stat-proj-legacy').textContent=fmt(Math.max(0, projectedLegacyIncrease || legacy))+' '+getCur() + (swrWasCapped ? ' ‚Üë' : '');
    $('stat-crises').textContent=sim.crisisCount+' '+t.bearMarkets;
    $('stat-buffer-used').textContent=sim.bufferMonthsUsed+' '+t.monthsUnit;
    $('stat-dd-stops').textContent=sim.drawdownStopMonths+' '+t.monthsUnit+(sim.warChestBuysCount?' ('+sim.warChestBuysCount+' buys)':'');
    $('stat-stress').textContent=sim.stressMonths+' '+t.monthsUnit;
    $('stat-rebal-events').textContent=sim.rebalancingEvents;

    // ‚îÄ‚îÄ‚îÄ OPPORTUNITY COST INDICATOR ‚îÄ‚îÄ‚îÄ
    const bahEndVal = sim.hBah[sim.hBah.length - 1] || 0;
    const stratEndVal = sim.hD[sim.hD.length-1] + sim.hB[sim.hB.length-1] + sim.hW[sim.hW.length-1]
        + (sim.hasProperty ? sim.hProp[sim.hProp.length-1] : 0);
    const oppCostBox = $('opp-cost-box');
    const delta = stratEndVal - bahEndVal;
    if (oppCostBox) {
        oppCostBox.style.display = 'block';
        $('stat-bah-end').textContent = fmt(bahEndVal) + ' ' + getCur();
        $('stat-strat-end').textContent = fmt(stratEndVal) + ' ' + getCur();
        const deltaLine = $('opp-delta-line');
        if (delta >= 0) {
            deltaLine.innerHTML = `<span style="color:var(--emerald)">‚úÖ ${t.oppAhead||'Strategy outperforms B&H by'} <b>${fmt(delta)} ${getCur()}</b></span>`;
        } else {
            deltaLine.innerHTML = `<span style="color:var(--amber)">‚ö†Ô∏è ${t.oppBehind||'Strategy trails B&H by'} <b>${fmt(Math.abs(delta))} ${getCur()}</b></span>
            <br><span style="font-size:0.6rem;color:var(--text-muted)">The 3-bucket strategy provides crisis protection and behavioral benefits not captured in a simple wealth comparison.</span>`;
        }
    }

    // Crisis tags
    const tagsEl=$('crisis-tags');
    tagsEl.innerHTML=sim.hitCrises.map(c=>`<span class="crisis-tag">${getCrisisDisplayName(c)} (${c.startYear})</span>`).join('');

    // Cache for theme re-render
    _lastSim = sim;
    _lastLegacy = legacy;
    renderChart(sim,legacy);
}

// ‚îÄ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ
Object.values(inputs).forEach(el=>el.addEventListener('input',recalc));
setCurrency(detectCurrency());
setLang(detectLang());

// ‚îÄ‚îÄ‚îÄ THEME TOGGLE ‚îÄ‚îÄ‚îÄ
function toggleTheme() {
    isLightMode = !isLightMode;
    document.documentElement.classList.toggle('light-mode', isLightMode);
    const t = LANGS[currentLang] || LANGS['en'];
    const label = $('themeLabel');
    const icon = $('themeIcon');
    if (isLightMode) {
        label.textContent = t.themeLight || 'Light';
        icon.innerHTML = '<circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>';
    } else {
        label.textContent = t.themeDark || 'Dark';
        icon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>';
    }
    // Re-render chart with updated colors
    if (_lastSim) renderChart(_lastSim, _lastLegacy);
}
</script>
</body>
</html>
